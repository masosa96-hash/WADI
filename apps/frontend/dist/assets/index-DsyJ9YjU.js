function Ty(a,n){for(var i=0;i<n.length;i++){const l=n[i];if(typeof l!="string"&&!Array.isArray(l)){for(const o in l)if(o!=="default"&&!(o in a)){const u=Object.getOwnPropertyDescriptor(l,o);u&&Object.defineProperty(a,o,u.get?u:{enumerable:!0,get:()=>l[o]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function Oy(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function ow(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var n=a.default;if(typeof n=="function"){var i=function l(){var o=!1;try{o=this instanceof l}catch{}return o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(a).forEach(function(l){var o=Object.getOwnPropertyDescriptor(a,l);Object.defineProperty(i,l,o.get?o:{enumerable:!0,get:function(){return a[l]}})}),i}var ud={exports:{}},Ol={};var ng;function uw(){if(ng)return Ol;ng=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:a,type:l,key:d,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=n,Ol.jsx=i,Ol.jsxs=i,Ol}var rg;function cw(){return rg||(rg=1,ud.exports=uw()),ud.exports}var _=cw(),cd={exports:{}},Se={};var ag;function dw(){if(ag)return Se;ag=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=S&&R[S]||R["@@iterator"],typeof R=="function"?R:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function B(R,I,X){this.props=R,this.context=I,this.refs=C,this.updater=X||E}B.prototype.isReactComponent={},B.prototype.setState=function(R,I){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,I,"setState")},B.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function q(){}q.prototype=B.prototype;function H(R,I,X){this.props=R,this.context=I,this.refs=C,this.updater=X||E}var Q=H.prototype=new q;Q.constructor=H,A(Q,B.prototype),Q.isPureReactComponent=!0;var Z=Array.isArray;function ae(){}var O={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function F(R,I,X){var re=X.ref;return{$$typeof:a,type:R,key:I,ref:re!==void 0?re:null,props:X}}function fe(R,I){return F(R.type,I,R.props)}function ie(R){return typeof R=="object"&&R!==null&&R.$$typeof===a}function He(R){var I={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(X){return I[X]})}var Be=/\/+/g;function Ue(R,I){return typeof R=="object"&&R!==null&&R.key!=null?He(""+R.key):I.toString(36)}function Le(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ae,ae):(R.status="pending",R.then(function(I){R.status==="pending"&&(R.status="fulfilled",R.value=I)},function(I){R.status==="pending"&&(R.status="rejected",R.reason=I)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function P(R,I,X,re,ve){var _e=typeof R;(_e==="undefined"||_e==="boolean")&&(R=null);var ke=!1;if(R===null)ke=!0;else switch(_e){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(R.$$typeof){case a:case n:ke=!0;break;case y:return ke=R._init,P(ke(R._payload),I,X,re,ve)}}if(ke)return ve=ve(R),ke=re===""?"."+Ue(R,0):re,Z(ve)?(X="",ke!=null&&(X=ke.replace(Be,"$&/")+"/"),P(ve,I,X,"",function(Qr){return Qr})):ve!=null&&(ie(ve)&&(ve=fe(ve,X+(ve.key==null||R&&R.key===ve.key?"":(""+ve.key).replace(Be,"$&/")+"/")+ke)),I.push(ve)),1;ke=0;var dt=re===""?".":re+":";if(Z(R))for(var it=0;it<R.length;it++)re=R[it],_e=dt+Ue(re,it),ke+=P(re,I,X,_e,ve);else if(it=w(R),typeof it=="function")for(R=it.call(R),it=0;!(re=R.next()).done;)re=re.value,_e=dt+Ue(re,it++),ke+=P(re,I,X,_e,ve);else if(_e==="object"){if(typeof R.then=="function")return P(Le(R),I,X,re,ve);throw I=String(R),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return ke}function J(R,I,X){if(R==null)return R;var re=[],ve=0;return P(R,re,"","",function(_e){return I.call(X,_e,ve++)}),re}function te(R){if(R._status===-1){var I=R._result;I=I(),I.then(function(X){(R._status===0||R._status===-1)&&(R._status=1,R._result=X)},function(X){(R._status===0||R._status===-1)&&(R._status=2,R._result=X)}),R._status===-1&&(R._status=0,R._result=I)}if(R._status===1)return R._result.default;throw R._result}var Ee=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Oe={map:J,forEach:function(R,I,X){J(R,function(){I.apply(this,arguments)},X)},count:function(R){var I=0;return J(R,function(){I++}),I},toArray:function(R){return J(R,function(I){return I})||[]},only:function(R){if(!ie(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Se.Activity=v,Se.Children=Oe,Se.Component=B,Se.Fragment=i,Se.Profiler=o,Se.PureComponent=H,Se.StrictMode=l,Se.Suspense=m,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Se.__COMPILER_RUNTIME={__proto__:null,c:function(R){return O.H.useMemoCache(R)}},Se.cache=function(R){return function(){return R.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(R,I,X){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var re=A({},R.props),ve=R.key;if(I!=null)for(_e in I.key!==void 0&&(ve=""+I.key),I)!ye.call(I,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&I.ref===void 0||(re[_e]=I[_e]);var _e=arguments.length-2;if(_e===1)re.children=X;else if(1<_e){for(var ke=Array(_e),dt=0;dt<_e;dt++)ke[dt]=arguments[dt+2];re.children=ke}return F(R.type,ve,re)},Se.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},Se.createElement=function(R,I,X){var re,ve={},_e=null;if(I!=null)for(re in I.key!==void 0&&(_e=""+I.key),I)ye.call(I,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ve[re]=I[re]);var ke=arguments.length-2;if(ke===1)ve.children=X;else if(1<ke){for(var dt=Array(ke),it=0;it<ke;it++)dt[it]=arguments[it+2];ve.children=dt}if(R&&R.defaultProps)for(re in ke=R.defaultProps,ke)ve[re]===void 0&&(ve[re]=ke[re]);return F(R,_e,ve)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(R){return{$$typeof:h,render:R}},Se.isValidElement=ie,Se.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:te}},Se.memo=function(R,I){return{$$typeof:p,type:R,compare:I===void 0?null:I}},Se.startTransition=function(R){var I=O.T,X={};O.T=X;try{var re=R(),ve=O.S;ve!==null&&ve(X,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ae,Ee)}catch(_e){Ee(_e)}finally{I!==null&&X.types!==null&&(I.types=X.types),O.T=I}},Se.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Se.use=function(R){return O.H.use(R)},Se.useActionState=function(R,I,X){return O.H.useActionState(R,I,X)},Se.useCallback=function(R,I){return O.H.useCallback(R,I)},Se.useContext=function(R){return O.H.useContext(R)},Se.useDebugValue=function(){},Se.useDeferredValue=function(R,I){return O.H.useDeferredValue(R,I)},Se.useEffect=function(R,I){return O.H.useEffect(R,I)},Se.useEffectEvent=function(R){return O.H.useEffectEvent(R)},Se.useId=function(){return O.H.useId()},Se.useImperativeHandle=function(R,I,X){return O.H.useImperativeHandle(R,I,X)},Se.useInsertionEffect=function(R,I){return O.H.useInsertionEffect(R,I)},Se.useLayoutEffect=function(R,I){return O.H.useLayoutEffect(R,I)},Se.useMemo=function(R,I){return O.H.useMemo(R,I)},Se.useOptimistic=function(R,I){return O.H.useOptimistic(R,I)},Se.useReducer=function(R,I,X){return O.H.useReducer(R,I,X)},Se.useRef=function(R){return O.H.useRef(R)},Se.useState=function(R){return O.H.useState(R)},Se.useSyncExternalStore=function(R,I,X){return O.H.useSyncExternalStore(R,I,X)},Se.useTransition=function(){return O.H.useTransition()},Se.version="19.2.1",Se}var ig;function Qd(){return ig||(ig=1,cd.exports=dw()),cd.exports}var z=Qd();const zl=Oy(z),fw=Ty({__proto__:null,default:zl},[z]);var dd={exports:{}},Rl={},fd={exports:{}},hd={};var lg;function hw(){return lg||(lg=1,(function(a){function n(P,J){var te=P.length;P.push(J);e:for(;0<te;){var Ee=te-1>>>1,Oe=P[Ee];if(0<o(Oe,J))P[Ee]=J,P[te]=Oe,te=Ee;else break e}}function i(P){return P.length===0?null:P[0]}function l(P){if(P.length===0)return null;var J=P[0],te=P.pop();if(te!==J){P[0]=te;e:for(var Ee=0,Oe=P.length,R=Oe>>>1;Ee<R;){var I=2*(Ee+1)-1,X=P[I],re=I+1,ve=P[re];if(0>o(X,te))re<Oe&&0>o(ve,X)?(P[Ee]=ve,P[re]=te,Ee=re):(P[Ee]=X,P[I]=te,Ee=I);else if(re<Oe&&0>o(ve,te))P[Ee]=ve,P[re]=te,Ee=re;else break e}}return J}function o(P,J){var te=P.sortIndex-J.sortIndex;return te!==0?te:P.id-J.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();a.unstable_now=function(){return d.now()-h}}var m=[],p=[],y=1,v=null,S=3,w=!1,E=!1,A=!1,C=!1,B=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function Q(P){for(var J=i(p);J!==null;){if(J.callback===null)l(p);else if(J.startTime<=P)l(p),J.sortIndex=J.expirationTime,n(m,J);else break;J=i(p)}}function Z(P){if(A=!1,Q(P),!E)if(i(m)!==null)E=!0,ae||(ae=!0,He());else{var J=i(p);J!==null&&Le(Z,J.startTime-P)}}var ae=!1,O=-1,ye=5,F=-1;function fe(){return C?!0:!(a.unstable_now()-F<ye)}function ie(){if(C=!1,ae){var P=a.unstable_now();F=P;var J=!0;try{e:{E=!1,A&&(A=!1,q(O),O=-1),w=!0;var te=S;try{t:{for(Q(P),v=i(m);v!==null&&!(v.expirationTime>P&&fe());){var Ee=v.callback;if(typeof Ee=="function"){v.callback=null,S=v.priorityLevel;var Oe=Ee(v.expirationTime<=P);if(P=a.unstable_now(),typeof Oe=="function"){v.callback=Oe,Q(P),J=!0;break t}v===i(m)&&l(m),Q(P)}else l(m);v=i(m)}if(v!==null)J=!0;else{var R=i(p);R!==null&&Le(Z,R.startTime-P),J=!1}}break e}finally{v=null,S=te,w=!1}J=void 0}}finally{J?He():ae=!1}}}var He;if(typeof H=="function")He=function(){H(ie)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Ue=Be.port2;Be.port1.onmessage=ie,He=function(){Ue.postMessage(null)}}else He=function(){B(ie,0)};function Le(P,J){O=B(function(){P(a.unstable_now())},J)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(P){P.callback=null},a.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<P?Math.floor(1e3/P):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(P){switch(S){case 1:case 2:case 3:var J=3;break;default:J=S}var te=S;S=J;try{return P()}finally{S=te}},a.unstable_requestPaint=function(){C=!0},a.unstable_runWithPriority=function(P,J){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var te=S;S=P;try{return J()}finally{S=te}},a.unstable_scheduleCallback=function(P,J,te){var Ee=a.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ee+te:Ee):te=Ee,P){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=te+Oe,P={id:y++,callback:J,priorityLevel:P,startTime:te,expirationTime:Oe,sortIndex:-1},te>Ee?(P.sortIndex=te,n(p,P),i(m)===null&&P===i(p)&&(A?(q(O),O=-1):A=!0,Le(Z,te-Ee))):(P.sortIndex=Oe,n(m,P),E||w||(E=!0,ae||(ae=!0,He()))),P},a.unstable_shouldYield=fe,a.unstable_wrapCallback=function(P){var J=S;return function(){var te=S;S=J;try{return P.apply(this,arguments)}finally{S=te}}}})(hd)),hd}var sg;function mw(){return sg||(sg=1,fd.exports=hw()),fd.exports}var md={exports:{}},kt={};var og;function pw(){if(og)return kt;og=1;var a=Qd();function n(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,kt.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return u(m,p,null,y)},kt.flushSync=function(m){var p=d.T,y=l.p;try{if(d.T=null,l.p=2,m)return m()}finally{d.T=p,l.p=y,l.d.f()}},kt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(m,p))},kt.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},kt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?l.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:w}):y==="script"&&l.d.X(m,{crossOrigin:v,integrity:S,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},kt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);l.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(m)},kt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);l.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},kt.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);l.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(m)},kt.requestFormReset=function(m){l.d.r(m)},kt.unstable_batchedUpdates=function(m,p){return m(p)},kt.useFormState=function(m,p,y){return d.H.useFormState(m,p,y)},kt.useFormStatus=function(){return d.H.useHostTransitionStatus()},kt.version="19.2.1",kt}var ug;function Ry(){if(ug)return md.exports;ug=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),md.exports=pw(),md.exports}var cg;function gw(){if(cg)return Rl;cg=1;var a=mw(),n=Qd(),i=Ry();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(l(188));return t!==e?null:e}for(var r=e,s=t;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(s=c.return,s!==null){r=s;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return m(c),e;if(f===s)return m(c),t;f=f.sibling}throw Error(l(188))}if(r.return!==s.return)r=c,s=f;else{for(var g=!1,b=c.child;b;){if(b===r){g=!0,r=c,s=f;break}if(b===s){g=!0,s=c,r=f;break}b=b.sibling}if(!g){for(b=f.child;b;){if(b===r){g=!0,r=f,s=c;break}if(b===s){g=!0,s=f,r=c;break}b=b.sibling}if(!g)throw Error(l(189))}}if(r.alternate!==s)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function He(e){return e===null||typeof e!="object"?null:(e=ie&&e[ie]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Symbol.for("react.client.reference");function Ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case B:return"Profiler";case C:return"StrictMode";case Z:return"Suspense";case ae:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case H:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return t=e.displayName||null,t!==null?t:Ue(e.type)||"Memo";case ye:t=e._payload,e=e._init;try{return Ue(e(t))}catch{}}return null}var Le=Array.isArray,P=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ee=[],Oe=-1;function R(e){return{current:e}}function I(e){0>Oe||(e.current=Ee[Oe],Ee[Oe]=null,Oe--)}function X(e,t){Oe++,Ee[Oe]=e.current,e.current=t}var re=R(null),ve=R(null),_e=R(null),ke=R(null);function dt(e,t){switch(X(_e,t),X(ve,e),X(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Tp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Tp(t),e=Op(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(re),X(re,e)}function it(){I(re),I(ve),I(_e)}function Qr(e){e.memoizedState!==null&&X(ke,e);var t=re.current,r=Op(t,e.type);t!==r&&(X(ve,e),X(re,r))}function Ca(e){ve.current===e&&(I(re),I(ve)),ke.current===e&&(I(ke),Sl._currentValue=te)}var gt,Gn;function Bn(e){if(gt===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);gt=t&&t[1]||"",Gn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gt+e+Gn}var zi=!1;function On(e,t){if(!e||zi)return"";zi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch($){var N=$}Reflect.construct(e,[],Y)}else{try{Y.call()}catch($){N=$}e.call(Y.prototype)}}else{try{throw Error()}catch($){N=$}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch($){if($&&N&&typeof $.stack=="string")return[$.stack,N.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=s.DetermineComponentFrameRoot(),g=f[0],b=f[1];if(g&&b){var x=g.split(`
`),M=b.split(`
`);for(c=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;if(s===x.length||c===M.length)for(s=x.length-1,c=M.length-1;1<=s&&0<=c&&x[s]!==M[c];)c--;for(;1<=s&&0<=c;s--,c--)if(x[s]!==M[c]){if(s!==1||c!==1)do if(s--,c--,0>c||x[s]!==M[c]){var V=`
`+x[s].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=s&&0<=c);break}}}finally{zi=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Bn(r):""}function Qo(e,t){switch(e.tag){case 26:case 27:case 5:return Bn(e.type);case 16:return Bn("Lazy");case 13:return e.child!==t&&t!==null?Bn("Suspense Fallback"):Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return On(e.type,!1);case 11:return On(e.type.render,!1);case 1:return On(e.type,!0);case 31:return Bn("Activity");default:return""}}function Xl(e){try{var t="",r=null;do t+=Qo(e,r),r=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Da=Object.prototype.hasOwnProperty,Ui=a.unstable_scheduleCallback,ki=a.unstable_cancelCallback,Xo=a.unstable_shouldYield,Wo=a.unstable_requestPaint,ft=a.unstable_now,Xr=a.unstable_getCurrentPriorityLevel,Mi=a.unstable_ImmediatePriority,za=a.unstable_UserBlockingPriority,qt=a.unstable_NormalPriority,Rn=a.unstable_LowPriority,Ni=a.unstable_IdlePriority,Zo=a.log,Bi=a.unstable_setDisableYieldValue,Wr=null,lt=null;function jn(e){if(typeof Zo=="function"&&Bi(e),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Wr,e)}catch{}}var Ut=Math.clz32?Math.clz32:Zl,Wl=Math.log,Fo=Math.LN2;function Zl(e){return e>>>=0,e===0?32:31-(Wl(e)/Fo|0)|0}var Yn=256,Zr=262144,hr=4194304;function Kn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fr(e,t,r){var s=e.pendingLanes;if(s===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var b=s&134217727;return b!==0?(s=b&~f,s!==0?c=Kn(s):(g&=b,g!==0?c=Kn(g):r||(r=b&~e,r!==0&&(c=Kn(r))))):(b=s&~f,b!==0?c=Kn(b):g!==0?c=Kn(g):r||(r=s&~e,r!==0&&(c=Kn(r)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,r=t&-t,f>=r||f===32&&(r&4194048)!==0)?t:c}function ea(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fl(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ta(){var e=hr;return hr<<=1,(hr&62914560)===0&&(hr=4194304),e}function mr(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function pr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function eu(e,t,r,s,c,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var b=e.entanglements,x=e.expirationTimes,M=e.hiddenUpdates;for(r=g&~r;0<r;){var V=31-Ut(r),Y=1<<V;b[V]=0,x[V]=-1;var N=M[V];if(N!==null)for(M[V]=null,V=0;V<N.length;V++){var $=N[V];$!==null&&($.lane&=-536870913)}r&=~Y}s!==0&&es(e,s,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~t))}function es(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Ut(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|r&261930}function T(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Ut(r),c=1<<s;c&t|e[s]&t&&(e[s]|=t),r&=~c}}function U(e,t){var r=t&-t;return r=(r&42)!==0?1:L(r),(r&(e.suspendedLanes|t))!==0?0:r}function L(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function K(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function W(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Qp(e.type))}function de(e,t){var r=J.p;try{return J.p=e,t()}finally{J.p=r}}var le=Math.random().toString(36).slice(2),ee="__reactFiber$"+le,ne="__reactProps$"+le,ce="__reactContainer$"+le,he="__reactEvents$"+le,pe="__reactListeners$"+le,Me="__reactHandles$"+le,Ye="__reactResources$"+le,tt="__reactMarker$"+le;function ot(e){delete e[ee],delete e[ne],delete e[he],delete e[pe],delete e[Me]}function qe(e){var t=e[ee];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ce]||r[ee]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Up(e);e!==null;){if(r=e[ee])return r;e=Up(e)}return t}e=r,r=e.parentNode}return null}function $e(e){if(e=e[ee]||e[ce]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Qt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function dn(e){var t=e[Ye];return t||(t=e[Ye]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[tt]=!0}var Xt=new Set,Ua={};function Wt(e,t){$t(e,t),$t(e+"Capture",t)}function $t(e,t){for(Ua[e]=t,e=0;e<t.length;e++)Xt.add(t[e])}var ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),na={},Ce={};function xt(e){return Da.call(Ce,e)?!0:Da.call(na,e)?!1:ka.test(e)?Ce[e]=!0:(na[e]=!0,!1)}function An(e,t,r){if(xt(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function fn(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function Pe(e,t,r,s){if(s===null)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+s)}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Li(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tu(e,t,r){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nu(e){if(!e._valueTracker){var t=Li(e)?"checked":"value";e._valueTracker=tu(e,t,""+e[t])}}function vf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Li(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var n0=/[\n"\\]/g;function hn(e){return e.replace(n0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ru(e,t,r,s,c,f,g,b){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Rt(t)):e.value!==""+Rt(t)&&(e.value=""+Rt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?au(e,g,Rt(t)):r!=null?au(e,g,Rt(r)):s!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Rt(b):e.removeAttribute("name")}function bf(e,t,r,s,c,f,g,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){nu(e);return}r=r!=null?""+Rt(r):"",t=t!=null?""+Rt(t):r,b||t===e.value||(e.value=t),e.defaultValue=t}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),nu(e)}function au(e,t,r){t==="number"&&ts(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ma(e,t,r,s){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Rt(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function wf(e,t,r){if(t!=null&&(t=""+Rt(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Rt(r):""}function _f(e,t,r,s){if(t==null){if(s!=null){if(r!=null)throw Error(l(92));if(Le(s)){if(1<s.length)throw Error(l(93));s=s[0]}r=s}r==null&&(r=""),t=r}r=Rt(t),e.defaultValue=r,s=e.textContent,s===r&&s!==""&&s!==null&&(e.value=s),nu(e)}function Na(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var r0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sf(e,t,r){var s=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,r):typeof r!="number"||r===0||r0.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Ef(e,t,r){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,r!=null){for(var s in r)!r.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var c in t)s=t[c],t.hasOwnProperty(c)&&r[c]!==s&&Sf(e,c,s)}else for(var f in t)t.hasOwnProperty(f)&&Sf(e,f,t[f])}function iu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),i0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ns(e){return i0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jn(){}var lu=null;function su(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,La=null;function xf(e){var t=$e(e);if(t&&(e=t.stateNode)){var r=e[ne]||null;e:switch(e=t.stateNode,t.type){case"input":if(ru(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var c=s[ne]||null;if(!c)throw Error(l(90));ru(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<r.length;t++)s=r[t],s.form===e.form&&vf(s)}break e;case"textarea":wf(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&Ma(e,!!r.multiple,t,!1)}}}var ou=!1;function Tf(e,t,r){if(ou)return e(t,r);ou=!0;try{var s=e(t);return s}finally{if(ou=!1,(Ba!==null||La!==null)&&(Is(),Ba&&(t=Ba,e=La,La=Ba=null,xf(t),e)))for(t=0;t<e.length;t++)xf(e[t])}}function Hi(e,t){var r=e.stateNode;if(r===null)return null;var s=r[ne]||null;if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(l(231,t,typeof r));return r}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uu=!1;if(Qn)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){uu=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{uu=!1}var gr=null,cu=null,rs=null;function Of(){if(rs)return rs;var e,t=cu,r=t.length,s,c="value"in gr?gr.value:gr.textContent,f=c.length;for(e=0;e<r&&t[e]===c[e];e++);var g=r-e;for(s=1;s<=g&&t[r-s]===c[f-s];s++);return rs=c.slice(e,1<s?1-s:void 0)}function as(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function is(){return!0}function Rf(){return!1}function Pt(e){function t(r,s,c,f,g){this._reactName=r,this._targetInst=c,this.type=s,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(r=e[b],this[b]=r?r(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?is:Rf,this.isPropagationStopped=Rf,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),t}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Pt(ra),$i=v({},ra,{view:0,detail:0}),l0=Pt($i),du,fu,Pi,ss=v({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pi&&(Pi&&e.type==="mousemove"?(du=e.screenX-Pi.screenX,fu=e.screenY-Pi.screenY):fu=du=0,Pi=e),du)},movementY:function(e){return"movementY"in e?e.movementY:fu}}),jf=Pt(ss),s0=v({},ss,{dataTransfer:0}),o0=Pt(s0),u0=v({},$i,{relatedTarget:0}),hu=Pt(u0),c0=v({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),d0=Pt(c0),f0=v({},ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h0=Pt(f0),m0=v({},ra,{data:0}),Af=Pt(m0),p0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=y0[e])?!!t[e]:!1}function mu(){return v0}var b0=v({},$i,{key:function(e){if(e.key){var t=p0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=as(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?g0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mu,charCode:function(e){return e.type==="keypress"?as(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?as(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),w0=Pt(b0),_0=v({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cf=Pt(_0),S0=v({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mu}),E0=Pt(S0),x0=v({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),T0=Pt(x0),O0=v({},ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),R0=Pt(O0),j0=v({},ra,{newState:0,oldState:0}),A0=Pt(j0),C0=[9,13,27,32],pu=Qn&&"CompositionEvent"in window,Ii=null;Qn&&"documentMode"in document&&(Ii=document.documentMode);var D0=Qn&&"TextEvent"in window&&!Ii,Df=Qn&&(!pu||Ii&&8<Ii&&11>=Ii),zf=" ",Uf=!1;function kf(e,t){switch(e){case"keyup":return C0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ha=!1;function z0(e,t){switch(e){case"compositionend":return Mf(t);case"keypress":return t.which!==32?null:(Uf=!0,zf);case"textInput":return e=t.data,e===zf&&Uf?null:e;default:return null}}function U0(e,t){if(Ha)return e==="compositionend"||!pu&&kf(e,t)?(e=Of(),rs=cu=gr=null,Ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Df&&t.locale!=="ko"?null:t.data;default:return null}}var k0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!k0[e.type]:t==="textarea"}function Bf(e,t,r,s){Ba?La?La.push(s):La=[s]:Ba=s,t=Xs(t,"onChange"),0<t.length&&(r=new ls("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Vi=null,Gi=null;function M0(e){bp(e,0)}function os(e){var t=Qt(e);if(vf(t))return e}function Lf(e,t){if(e==="change")return t}var Hf=!1;if(Qn){var gu;if(Qn){var yu="oninput"in document;if(!yu){var qf=document.createElement("div");qf.setAttribute("oninput","return;"),yu=typeof qf.oninput=="function"}gu=yu}else gu=!1;Hf=gu&&(!document.documentMode||9<document.documentMode)}function $f(){Vi&&(Vi.detachEvent("onpropertychange",Pf),Gi=Vi=null)}function Pf(e){if(e.propertyName==="value"&&os(Gi)){var t=[];Bf(t,Gi,e,su(e)),Tf(M0,t)}}function N0(e,t,r){e==="focusin"?($f(),Vi=t,Gi=r,Vi.attachEvent("onpropertychange",Pf)):e==="focusout"&&$f()}function B0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return os(Gi)}function L0(e,t){if(e==="click")return os(t)}function H0(e,t){if(e==="input"||e==="change")return os(t)}function q0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:q0;function Yi(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var c=r[s];if(!Da.call(t,c)||!Zt(e[c],t[c]))return!1}return!0}function If(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vf(e,t){var r=If(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=If(r)}}function Gf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ts(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ts(e.document)}return t}function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var $0=Qn&&"documentMode"in document&&11>=document.documentMode,qa=null,bu=null,Ki=null,wu=!1;function Kf(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wu||qa==null||qa!==ts(s)||(s=qa,"selectionStart"in s&&vu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ki&&Yi(Ki,s)||(Ki=s,s=Xs(bu,"onSelect"),0<s.length&&(t=new ls("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=qa)))}function aa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var $a={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},_u={},Jf={};Qn&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function ia(e){if(_u[e])return _u[e];if(!$a[e])return e;var t=$a[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Jf)return _u[e]=t[r];return e}var Qf=ia("animationend"),Xf=ia("animationiteration"),Wf=ia("animationstart"),P0=ia("transitionrun"),I0=ia("transitionstart"),V0=ia("transitioncancel"),Zf=ia("transitionend"),Ff=new Map,Su="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Su.push("scrollEnd");function Cn(e,t){Ff.set(e,t),Wt(t,[e])}var us=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},mn=[],Pa=0,Eu=0;function cs(){for(var e=Pa,t=Eu=Pa=0;t<e;){var r=mn[t];mn[t++]=null;var s=mn[t];mn[t++]=null;var c=mn[t];mn[t++]=null;var f=mn[t];if(mn[t++]=null,s!==null&&c!==null){var g=s.pending;g===null?c.next=c:(c.next=g.next,g.next=c),s.pending=c}f!==0&&eh(r,c,f)}}function ds(e,t,r,s){mn[Pa++]=e,mn[Pa++]=t,mn[Pa++]=r,mn[Pa++]=s,Eu|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function xu(e,t,r,s){return ds(e,t,r,s),fs(e)}function la(e,t){return ds(e,null,null,t),fs(e)}function eh(e,t,r){e.lanes|=r;var s=e.alternate;s!==null&&(s.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,s=f.alternate,s!==null&&(s.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-Ut(r),e=f.hiddenUpdates,s=e[c],s===null?e[c]=[t]:s.push(t),t.lane=r|536870912),f):null}function fs(e){if(50<pl)throw pl=0,Uc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ia={};function G0(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,r,s){return new G0(e,t,r,s)}function Tu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xn(e,t){var r=e.alternate;return r===null?(r=Ft(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function th(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hs(e,t,r,s,c,f){var g=0;if(s=e,typeof e=="function")Tu(e)&&(g=1);else if(typeof e=="string")g=Xb(e,r,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=Ft(31,r,t,c),e.elementType=F,e.lanes=f,e;case A:return sa(r.children,c,f,t);case C:g=8,c|=24;break;case B:return e=Ft(12,r,t,c|2),e.elementType=B,e.lanes=f,e;case Z:return e=Ft(13,r,t,c),e.elementType=Z,e.lanes=f,e;case ae:return e=Ft(19,r,t,c),e.elementType=ae,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:g=10;break e;case q:g=9;break e;case Q:g=11;break e;case O:g=14;break e;case ye:g=16,s=null;break e}g=29,r=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Ft(g,r,t,c),t.elementType=e,t.type=s,t.lanes=f,t}function sa(e,t,r,s){return e=Ft(7,e,s,t),e.lanes=r,e}function Ou(e,t,r){return e=Ft(6,e,null,t),e.lanes=r,e}function nh(e){var t=Ft(18,null,null,0);return t.stateNode=e,t}function Ru(e,t,r){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var rh=new WeakMap;function pn(e,t){if(typeof e=="object"&&e!==null){var r=rh.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Xl(t)},rh.set(e,t),t)}return{value:e,source:t,stack:Xl(t)}}var Va=[],Ga=0,ms=null,Ji=0,gn=[],yn=0,yr=null,Ln=1,Hn="";function Wn(e,t){Va[Ga++]=Ji,Va[Ga++]=ms,ms=e,Ji=t}function ah(e,t,r){gn[yn++]=Ln,gn[yn++]=Hn,gn[yn++]=yr,yr=e;var s=Ln;e=Hn;var c=32-Ut(s)-1;s&=~(1<<c),r+=1;var f=32-Ut(t)+c;if(30<f){var g=c-c%5;f=(s&(1<<g)-1).toString(32),s>>=g,c-=g,Ln=1<<32-Ut(t)+c|r<<c|s,Hn=f+e}else Ln=1<<f|r<<c|s,Hn=e}function ju(e){e.return!==null&&(Wn(e,1),ah(e,1,0))}function Au(e){for(;e===ms;)ms=Va[--Ga],Va[Ga]=null,Ji=Va[--Ga],Va[Ga]=null;for(;e===yr;)yr=gn[--yn],gn[yn]=null,Hn=gn[--yn],gn[yn]=null,Ln=gn[--yn],gn[yn]=null}function ih(e,t){gn[yn++]=Ln,gn[yn++]=Hn,gn[yn++]=yr,Ln=t.id,Hn=t.overflow,yr=e}var jt=null,nt=null,Ne=!1,vr=null,vn=!1,Cu=Error(l(519));function br(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qi(pn(t,e)),Cu}function lh(e){var t=e.stateNode,r=e.type,s=e.memoizedProps;switch(t[ee]=e,t[ne]=s,r){case"dialog":Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":case"embed":Ae("load",t);break;case"video":case"audio":for(r=0;r<yl.length;r++)Ae(yl[r],t);break;case"source":Ae("error",t);break;case"img":case"image":case"link":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"input":Ae("invalid",t),bf(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ae("invalid",t);break;case"textarea":Ae("invalid",t),_f(t,s.value,s.defaultValue,s.children)}r=s.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||s.suppressHydrationWarning===!0||Ep(t.textContent,r)?(s.popover!=null&&(Ae("beforetoggle",t),Ae("toggle",t)),s.onScroll!=null&&Ae("scroll",t),s.onScrollEnd!=null&&Ae("scrollend",t),s.onClick!=null&&(t.onclick=Jn),t=!0):t=!1,t||br(e,!0)}function sh(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:jt=jt.return}}function Ya(e){if(e!==jt)return!1;if(!Ne)return sh(e),Ne=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Jc(e.type,e.memoizedProps)),r=!r),r&&nt&&br(e),sh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));nt=zp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));nt=zp(e)}else t===27?(t=nt,Ur(e.type)?(e=Fc,Fc=null,nt=e):nt=t):nt=jt?wn(e.stateNode.nextSibling):null;return!0}function oa(){nt=jt=null,Ne=!1}function Du(){var e=vr;return e!==null&&(Yt===null?Yt=e:Yt.push.apply(Yt,e),vr=null),e}function Qi(e){vr===null?vr=[e]:vr.push(e)}var zu=R(null),ua=null,Zn=null;function wr(e,t,r){X(zu,t._currentValue),t._currentValue=r}function Fn(e){e._currentValue=zu.current,I(zu)}function Uu(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function ku(e,t,r,s){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=c;for(var x=0;x<t.length;x++)if(b.context===t[x]){f.lanes|=r,b=f.alternate,b!==null&&(b.lanes|=r),Uu(f.return,r,e),s||(g=null);break e}f=b.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(l(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Uu(g,r,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Ka(e,t,r,s){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var b=c.type;Zt(c.pendingProps.value,g.value)||(e!==null?e.push(b):e=[b])}}else if(c===ke.current){if(g=c.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Sl):e=[Sl])}c=c.return}e!==null&&ku(t,e,r,s),t.flags|=262144}function ps(e){for(e=e.firstContext;e!==null;){if(!Zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ca(e){ua=e,Zn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function At(e){return oh(ua,e)}function gs(e,t){return ua===null&&ca(e),oh(e,t)}function oh(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Zn===null){if(e===null)throw Error(l(308));Zn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Zn=Zn.next=t;return r}var Y0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},K0=a.unstable_scheduleCallback,J0=a.unstable_NormalPriority,yt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mu(){return{controller:new Y0,data:new Map,refCount:0}}function Xi(e){e.refCount--,e.refCount===0&&K0(J0,function(){e.controller.abort()})}var Wi=null,Nu=0,Ja=0,Qa=null;function Q0(e,t){if(Wi===null){var r=Wi=[];Nu=0,Ja=Hc(),Qa={status:"pending",value:void 0,then:function(s){r.push(s)}}}return Nu++,t.then(uh,uh),t}function uh(){if(--Nu===0&&Wi!==null){Qa!==null&&(Qa.status="fulfilled");var e=Wi;Wi=null,Ja=0,Qa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function X0(e,t){var r=[],s={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var c=0;c<r.length;c++)(0,r[c])(t)},function(c){for(s.status="rejected",s.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),s}var ch=P.S;P.S=function(e,t){Km=ft(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Q0(e,t),ch!==null&&ch(e,t)};var da=R(null);function Bu(){var e=da.current;return e!==null?e:Fe.pooledCache}function ys(e,t){t===null?X(da,da.current):X(da,t.pool)}function dh(){var e=Bu();return e===null?null:{parent:yt._currentValue,pool:e}}var Xa=Error(l(460)),Lu=Error(l(474)),vs=Error(l(542)),bs={then:function(){}};function fh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hh(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Jn,Jn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ph(e),e;default:if(typeof t.status=="string")t.then(Jn,Jn);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=s}},function(s){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ph(e),e}throw ha=t,Xa}}function fa(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ha=r,Xa):r}}var ha=null;function mh(){if(ha===null)throw Error(l(459));var e=ha;return ha=null,e}function ph(e){if(e===Xa||e===vs)throw Error(l(483))}var Wa=null,Zi=0;function ws(e){var t=Zi;return Zi+=1,Wa===null&&(Wa=[]),hh(Wa,e,t)}function Fi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _s(e,t){throw t.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gh(e){function t(D,j){if(e){var k=D.deletions;k===null?(D.deletions=[j],D.flags|=16):k.push(j)}}function r(D,j){if(!e)return null;for(;j!==null;)t(D,j),j=j.sibling;return null}function s(D){for(var j=new Map;D!==null;)D.key!==null?j.set(D.key,D):j.set(D.index,D),D=D.sibling;return j}function c(D,j){return D=Xn(D,j),D.index=0,D.sibling=null,D}function f(D,j,k){return D.index=k,e?(k=D.alternate,k!==null?(k=k.index,k<j?(D.flags|=67108866,j):k):(D.flags|=67108866,j)):(D.flags|=1048576,j)}function g(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function b(D,j,k,G){return j===null||j.tag!==6?(j=Ou(k,D.mode,G),j.return=D,j):(j=c(j,k),j.return=D,j)}function x(D,j,k,G){var ge=k.type;return ge===A?V(D,j,k.props.children,G,k.key):j!==null&&(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ye&&fa(ge)===j.type)?(j=c(j,k.props),Fi(j,k),j.return=D,j):(j=hs(k.type,k.key,k.props,null,D.mode,G),Fi(j,k),j.return=D,j)}function M(D,j,k,G){return j===null||j.tag!==4||j.stateNode.containerInfo!==k.containerInfo||j.stateNode.implementation!==k.implementation?(j=Ru(k,D.mode,G),j.return=D,j):(j=c(j,k.children||[]),j.return=D,j)}function V(D,j,k,G,ge){return j===null||j.tag!==7?(j=sa(k,D.mode,G,ge),j.return=D,j):(j=c(j,k),j.return=D,j)}function Y(D,j,k){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Ou(""+j,D.mode,k),j.return=D,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return k=hs(j.type,j.key,j.props,null,D.mode,k),Fi(k,j),k.return=D,k;case E:return j=Ru(j,D.mode,k),j.return=D,j;case ye:return j=fa(j),Y(D,j,k)}if(Le(j)||He(j))return j=sa(j,D.mode,k,null),j.return=D,j;if(typeof j.then=="function")return Y(D,ws(j),k);if(j.$$typeof===H)return Y(D,gs(D,j),k);_s(D,j)}return null}function N(D,j,k,G){var ge=j!==null?j.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ge!==null?null:b(D,j,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return k.key===ge?x(D,j,k,G):null;case E:return k.key===ge?M(D,j,k,G):null;case ye:return k=fa(k),N(D,j,k,G)}if(Le(k)||He(k))return ge!==null?null:V(D,j,k,G,null);if(typeof k.then=="function")return N(D,j,ws(k),G);if(k.$$typeof===H)return N(D,j,gs(D,k),G);_s(D,k)}return null}function $(D,j,k,G,ge){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return D=D.get(k)||null,b(j,D,""+G,ge);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return D=D.get(G.key===null?k:G.key)||null,x(j,D,G,ge);case E:return D=D.get(G.key===null?k:G.key)||null,M(j,D,G,ge);case ye:return G=fa(G),$(D,j,k,G,ge)}if(Le(G)||He(G))return D=D.get(k)||null,V(j,D,G,ge,null);if(typeof G.then=="function")return $(D,j,k,ws(G),ge);if(G.$$typeof===H)return $(D,j,k,gs(j,G),ge);_s(j,G)}return null}function se(D,j,k,G){for(var ge=null,Ie=null,ue=j,Te=j=0,ze=null;ue!==null&&Te<k.length;Te++){ue.index>Te?(ze=ue,ue=null):ze=ue.sibling;var Ve=N(D,ue,k[Te],G);if(Ve===null){ue===null&&(ue=ze);break}e&&ue&&Ve.alternate===null&&t(D,ue),j=f(Ve,j,Te),Ie===null?ge=Ve:Ie.sibling=Ve,Ie=Ve,ue=ze}if(Te===k.length)return r(D,ue),Ne&&Wn(D,Te),ge;if(ue===null){for(;Te<k.length;Te++)ue=Y(D,k[Te],G),ue!==null&&(j=f(ue,j,Te),Ie===null?ge=ue:Ie.sibling=ue,Ie=ue);return Ne&&Wn(D,Te),ge}for(ue=s(ue);Te<k.length;Te++)ze=$(ue,D,Te,k[Te],G),ze!==null&&(e&&ze.alternate!==null&&ue.delete(ze.key===null?Te:ze.key),j=f(ze,j,Te),Ie===null?ge=ze:Ie.sibling=ze,Ie=ze);return e&&ue.forEach(function(Lr){return t(D,Lr)}),Ne&&Wn(D,Te),ge}function be(D,j,k,G){if(k==null)throw Error(l(151));for(var ge=null,Ie=null,ue=j,Te=j=0,ze=null,Ve=k.next();ue!==null&&!Ve.done;Te++,Ve=k.next()){ue.index>Te?(ze=ue,ue=null):ze=ue.sibling;var Lr=N(D,ue,Ve.value,G);if(Lr===null){ue===null&&(ue=ze);break}e&&ue&&Lr.alternate===null&&t(D,ue),j=f(Lr,j,Te),Ie===null?ge=Lr:Ie.sibling=Lr,Ie=Lr,ue=ze}if(Ve.done)return r(D,ue),Ne&&Wn(D,Te),ge;if(ue===null){for(;!Ve.done;Te++,Ve=k.next())Ve=Y(D,Ve.value,G),Ve!==null&&(j=f(Ve,j,Te),Ie===null?ge=Ve:Ie.sibling=Ve,Ie=Ve);return Ne&&Wn(D,Te),ge}for(ue=s(ue);!Ve.done;Te++,Ve=k.next())Ve=$(ue,D,Te,Ve.value,G),Ve!==null&&(e&&Ve.alternate!==null&&ue.delete(Ve.key===null?Te:Ve.key),j=f(Ve,j,Te),Ie===null?ge=Ve:Ie.sibling=Ve,Ie=Ve);return e&&ue.forEach(function(sw){return t(D,sw)}),Ne&&Wn(D,Te),ge}function We(D,j,k,G){if(typeof k=="object"&&k!==null&&k.type===A&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case w:e:{for(var ge=k.key;j!==null;){if(j.key===ge){if(ge=k.type,ge===A){if(j.tag===7){r(D,j.sibling),G=c(j,k.props.children),G.return=D,D=G;break e}}else if(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ye&&fa(ge)===j.type){r(D,j.sibling),G=c(j,k.props),Fi(G,k),G.return=D,D=G;break e}r(D,j);break}else t(D,j);j=j.sibling}k.type===A?(G=sa(k.props.children,D.mode,G,k.key),G.return=D,D=G):(G=hs(k.type,k.key,k.props,null,D.mode,G),Fi(G,k),G.return=D,D=G)}return g(D);case E:e:{for(ge=k.key;j!==null;){if(j.key===ge)if(j.tag===4&&j.stateNode.containerInfo===k.containerInfo&&j.stateNode.implementation===k.implementation){r(D,j.sibling),G=c(j,k.children||[]),G.return=D,D=G;break e}else{r(D,j);break}else t(D,j);j=j.sibling}G=Ru(k,D.mode,G),G.return=D,D=G}return g(D);case ye:return k=fa(k),We(D,j,k,G)}if(Le(k))return se(D,j,k,G);if(He(k)){if(ge=He(k),typeof ge!="function")throw Error(l(150));return k=ge.call(k),be(D,j,k,G)}if(typeof k.then=="function")return We(D,j,ws(k),G);if(k.$$typeof===H)return We(D,j,gs(D,k),G);_s(D,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,j!==null&&j.tag===6?(r(D,j.sibling),G=c(j,k),G.return=D,D=G):(r(D,j),G=Ou(k,D.mode,G),G.return=D,D=G),g(D)):r(D,j)}return function(D,j,k,G){try{Zi=0;var ge=We(D,j,k,G);return Wa=null,ge}catch(ue){if(ue===Xa||ue===vs)throw ue;var Ie=Ft(29,ue,null,D.mode);return Ie.lanes=G,Ie.return=D,Ie}finally{}}}var ma=gh(!0),yh=gh(!1),_r=!1;function Hu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ge&2)!==0){var c=s.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),s.pending=t,t=fs(e),eh(e,null,r),t}return ds(e,s,t,r),fs(e)}function el(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,T(e,r)}}function $u(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?c=f=t:f=f.next=t}else c=f=t;r={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:s.shared,callbacks:s.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Pu=!1;function tl(){if(Pu){var e=Qa;if(e!==null)throw e}}function nl(e,t,r,s){Pu=!1;var c=e.updateQueue;_r=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var x=b,M=x.next;x.next=null,g===null?f=M:g.next=M,g=x;var V=e.alternate;V!==null&&(V=V.updateQueue,b=V.lastBaseUpdate,b!==g&&(b===null?V.firstBaseUpdate=M:b.next=M,V.lastBaseUpdate=x))}if(f!==null){var Y=c.baseState;g=0,V=M=x=null,b=f;do{var N=b.lane&-536870913,$=N!==b.lane;if($?(De&N)===N:(s&N)===N){N!==0&&N===Ja&&(Pu=!0),V!==null&&(V=V.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var se=e,be=b;N=t;var We=r;switch(be.tag){case 1:if(se=be.payload,typeof se=="function"){Y=se.call(We,Y,N);break e}Y=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=be.payload,N=typeof se=="function"?se.call(We,Y,N):se,N==null)break e;Y=v({},Y,N);break e;case 2:_r=!0}}N=b.callback,N!==null&&(e.flags|=64,$&&(e.flags|=8192),$=c.callbacks,$===null?c.callbacks=[N]:$.push(N))}else $={lane:N,tag:b.tag,payload:b.payload,callback:b.callback,next:null},V===null?(M=V=$,x=Y):V=V.next=$,g|=N;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;$=b,b=$.next,$.next=null,c.lastBaseUpdate=$,c.shared.pending=null}}while(!0);V===null&&(x=Y),c.baseState=x,c.firstBaseUpdate=M,c.lastBaseUpdate=V,f===null&&(c.shared.lanes=0),jr|=g,e.lanes=g,e.memoizedState=Y}}function vh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function bh(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)vh(r[e],t)}var Za=R(null),Ss=R(0);function wh(e,t){e=or,X(Ss,e),X(Za,t),or=e|t.baseLanes}function Iu(){X(Ss,or),X(Za,Za.current)}function Vu(){or=Ss.current,I(Za),I(Ss)}var en=R(null),bn=null;function xr(e){var t=e.alternate;X(ht,ht.current&1),X(en,e),bn===null&&(t===null||Za.current!==null||t.memoizedState!==null)&&(bn=e)}function Gu(e){X(ht,ht.current),X(en,e),bn===null&&(bn=e)}function _h(e){e.tag===22?(X(ht,ht.current),X(en,e),bn===null&&(bn=e)):Tr()}function Tr(){X(ht,ht.current),X(en,en.current)}function tn(e){I(en),bn===e&&(bn=null),I(ht)}var ht=R(0);function Es(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Wc(r)||Zc(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var er=0,xe=null,Qe=null,vt=null,xs=!1,Fa=!1,pa=!1,Ts=0,rl=0,ei=null,W0=0;function ut(){throw Error(l(321))}function Yu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Zt(e[r],t[r]))return!1;return!0}function Ku(e,t,r,s,c,f){return er=f,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=e===null||e.memoizedState===null?am:oc,pa=!1,f=r(s,c),pa=!1,Fa&&(f=Eh(t,r,s,c)),Sh(e),f}function Sh(e){P.H=ll;var t=Qe!==null&&Qe.next!==null;if(er=0,vt=Qe=xe=null,xs=!1,rl=0,ei=null,t)throw Error(l(300));e===null||bt||(e=e.dependencies,e!==null&&ps(e)&&(bt=!0))}function Eh(e,t,r,s){xe=e;var c=0;do{if(Fa&&(ei=null),rl=0,Fa=!1,25<=c)throw Error(l(301));if(c+=1,vt=Qe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}P.H=im,f=t(r,s)}while(Fa);return f}function Z0(){var e=P.H,t=e.useState()[0];return t=typeof t.then=="function"?al(t):t,e=e.useState()[0],(Qe!==null?Qe.memoizedState:null)!==e&&(xe.flags|=1024),t}function Ju(){var e=Ts!==0;return Ts=0,e}function Qu(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Xu(e){if(xs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xs=!1}er=0,vt=Qe=xe=null,Fa=!1,rl=Ts=0,ei=null}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?xe.memoizedState=vt=e:vt=vt.next=e,vt}function mt(){if(Qe===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=vt===null?xe.memoizedState:vt.next;if(t!==null)vt=t,Qe=e;else{if(e===null)throw xe.alternate===null?Error(l(467)):Error(l(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},vt===null?xe.memoizedState=vt=e:vt=vt.next=e}return vt}function Os(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(e){var t=rl;return rl+=1,ei===null&&(ei=[]),e=hh(ei,e,t),t=xe,(vt===null?t.memoizedState:vt.next)===null&&(t=t.alternate,P.H=t===null||t.memoizedState===null?am:oc),e}function Rs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return al(e);if(e.$$typeof===H)return At(e)}throw Error(l(438,String(e)))}function Wu(e){var t=null,r=xe.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var s=xe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Os(),xe.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),s=0;s<e;s++)r[s]=fe;return t.index++,r}function tr(e,t){return typeof t=="function"?t(e):t}function js(e){var t=mt();return Zu(t,Qe,e)}function Zu(e,t,r){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=r;var c=e.baseQueue,f=s.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}t.baseQueue=c=f,s.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var b=g=null,x=null,M=t,V=!1;do{var Y=M.lane&-536870913;if(Y!==M.lane?(De&Y)===Y:(er&Y)===Y){var N=M.revertLane;if(N===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),Y===Ja&&(V=!0);else if((er&N)===N){M=M.next,N===Ja&&(V=!0);continue}else Y={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},x===null?(b=x=Y,g=f):x=x.next=Y,xe.lanes|=N,jr|=N;Y=M.action,pa&&r(f,Y),f=M.hasEagerState?M.eagerState:r(f,Y)}else N={lane:Y,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},x===null?(b=x=N,g=f):x=x.next=N,xe.lanes|=Y,jr|=Y;M=M.next}while(M!==null&&M!==t);if(x===null?g=f:x.next=b,!Zt(f,e.memoizedState)&&(bt=!0,V&&(r=Qa,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=x,s.lastRenderedState=f}return c===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Fu(e){var t=mt(),r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=e;var s=r.dispatch,c=r.pending,f=t.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);Zt(f,t.memoizedState)||(bt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,s]}function xh(e,t,r){var s=xe,c=mt(),f=Ne;if(f){if(r===void 0)throw Error(l(407));r=r()}else r=t();var g=!Zt((Qe||c).memoizedState,r);if(g&&(c.memoizedState=r,bt=!0),c=c.queue,nc(Rh.bind(null,s,c,e),[e]),c.getSnapshot!==t||g||vt!==null&&vt.memoizedState.tag&1){if(s.flags|=2048,ti(9,{destroy:void 0},Oh.bind(null,s,c,r,t),null),Fe===null)throw Error(l(349));f||(er&127)!==0||Th(s,t,r)}return r}function Th(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xe.updateQueue,t===null?(t=Os(),xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Oh(e,t,r,s){t.value=r,t.getSnapshot=s,jh(t)&&Ah(e)}function Rh(e,t,r){return r(function(){jh(t)&&Ah(e)})}function jh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Zt(e,r)}catch{return!0}}function Ah(e){var t=la(e,2);t!==null&&Kt(t,e,2)}function ec(e){var t=Lt();if(typeof e=="function"){var r=e;if(e=r(),pa){jn(!0);try{r()}finally{jn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:e},t}function Ch(e,t,r,s){return e.baseState=r,Zu(e,Qe,typeof s=="function"?s:tr)}function F0(e,t,r,s,c){if(Ds(e))throw Error(l(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};P.T!==null?r(!0):f.isTransition=!1,s(f),r=t.pending,r===null?(f.next=t.pending=f,Dh(t,f)):(f.next=r.next,t.pending=r.next=f)}}function Dh(e,t){var r=t.action,s=t.payload,c=e.state;if(t.isTransition){var f=P.T,g={};P.T=g;try{var b=r(c,s),x=P.S;x!==null&&x(g,b),zh(e,t,b)}catch(M){tc(e,t,M)}finally{f!==null&&g.types!==null&&(f.types=g.types),P.T=f}}else try{f=r(c,s),zh(e,t,f)}catch(M){tc(e,t,M)}}function zh(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(s){Uh(e,t,s)},function(s){return tc(e,t,s)}):Uh(e,t,r)}function Uh(e,t,r){t.status="fulfilled",t.value=r,kh(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,Dh(e,r)))}function tc(e,t,r){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=r,kh(t),t=t.next;while(t!==s)}e.action=null}function kh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Mh(e,t){return t}function Nh(e,t){if(Ne){var r=Fe.formState;if(r!==null){e:{var s=xe;if(Ne){if(nt){t:{for(var c=nt,f=vn;c.nodeType!==8;){if(!f){c=null;break t}if(c=wn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){nt=wn(c.nextSibling),s=c.data==="F!";break e}}br(s)}s=!1}s&&(t=r[0])}}return r=Lt(),r.memoizedState=r.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mh,lastRenderedState:t},r.queue=s,r=tm.bind(null,xe,s),s.dispatch=r,s=ec(!1),f=sc.bind(null,xe,!1,s.queue),s=Lt(),c={state:t,dispatch:null,action:e,pending:null},s.queue=c,r=F0.bind(null,xe,c,f,r),c.dispatch=r,s.memoizedState=e,[t,r,!1]}function Bh(e){var t=mt();return Lh(t,Qe,e)}function Lh(e,t,r){if(t=Zu(e,t,Mh)[0],e=js(tr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=al(t)}catch(g){throw g===Xa?vs:g}else s=t;t=mt();var c=t.queue,f=c.dispatch;return r!==t.memoizedState&&(xe.flags|=2048,ti(9,{destroy:void 0},eb.bind(null,c,r),null)),[s,f,e]}function eb(e,t){e.action=t}function Hh(e){var t=mt(),r=Qe;if(r!==null)return Lh(t,r,e);mt(),t=t.memoizedState,r=mt();var s=r.queue.dispatch;return r.memoizedState=e,[t,s,!1]}function ti(e,t,r,s){return e={tag:e,create:r,deps:s,inst:t,next:null},t=xe.updateQueue,t===null&&(t=Os(),xe.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e),e}function qh(){return mt().memoizedState}function As(e,t,r,s){var c=Lt();xe.flags|=e,c.memoizedState=ti(1|t,{destroy:void 0},r,s===void 0?null:s)}function Cs(e,t,r,s){var c=mt();s=s===void 0?null:s;var f=c.memoizedState.inst;Qe!==null&&s!==null&&Yu(s,Qe.memoizedState.deps)?c.memoizedState=ti(t,f,r,s):(xe.flags|=e,c.memoizedState=ti(1|t,f,r,s))}function $h(e,t){As(8390656,8,e,t)}function nc(e,t){Cs(2048,8,e,t)}function tb(e){xe.flags|=4;var t=xe.updateQueue;if(t===null)t=Os(),xe.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function Ph(e){var t=mt().memoizedState;return tb({ref:t,nextImpl:e}),function(){if((Ge&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Ih(e,t){return Cs(4,2,e,t)}function Vh(e,t){return Cs(4,4,e,t)}function Gh(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yh(e,t,r){r=r!=null?r.concat([e]):null,Cs(4,4,Gh.bind(null,t,e),r)}function rc(){}function Kh(e,t){var r=mt();t=t===void 0?null:t;var s=r.memoizedState;return t!==null&&Yu(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Jh(e,t){var r=mt();t=t===void 0?null:t;var s=r.memoizedState;if(t!==null&&Yu(t,s[1]))return s[0];if(s=e(),pa){jn(!0);try{e()}finally{jn(!1)}}return r.memoizedState=[s,t],s}function ac(e,t,r){return r===void 0||(er&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=Qm(),xe.lanes|=e,jr|=e,r)}function Qh(e,t,r,s){return Zt(r,t)?r:Za.current!==null?(e=ac(e,r,s),Zt(e,t)||(bt=!0),e):(er&42)===0||(er&1073741824)!==0&&(De&261930)===0?(bt=!0,e.memoizedState=r):(e=Qm(),xe.lanes|=e,jr|=e,t)}function Xh(e,t,r,s,c){var f=J.p;J.p=f!==0&&8>f?f:8;var g=P.T,b={};P.T=b,sc(e,!1,t,r);try{var x=c(),M=P.S;if(M!==null&&M(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var V=X0(x,s);il(e,t,V,an(e))}else il(e,t,s,an(e))}catch(Y){il(e,t,{then:function(){},status:"rejected",reason:Y},an())}finally{J.p=f,g!==null&&b.types!==null&&(g.types=b.types),P.T=g}}function nb(){}function ic(e,t,r,s){if(e.tag!==5)throw Error(l(476));var c=Wh(e).queue;Xh(e,c,t,te,r===null?nb:function(){return Zh(e),r(s)})}function Wh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:te},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zh(e){var t=Wh(e);t.next===null&&(t=e.alternate.memoizedState),il(e,t.next.queue,{},an())}function lc(){return At(Sl)}function Fh(){return mt().memoizedState}function em(){return mt().memoizedState}function rb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=an();e=Sr(r);var s=Er(t,e,r);s!==null&&(Kt(s,t,r),el(s,t,r)),t={cache:Mu()},e.payload=t;return}t=t.return}}function ab(e,t,r){var s=an();r={lane:s,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ds(e)?nm(t,r):(r=xu(e,t,r,s),r!==null&&(Kt(r,e,s),rm(r,t,s)))}function tm(e,t,r){var s=an();il(e,t,r,s)}function il(e,t,r,s){var c={lane:s,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ds(e))nm(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,b=f(g,r);if(c.hasEagerState=!0,c.eagerState=b,Zt(b,g))return ds(e,t,c,0),Fe===null&&cs(),!1}catch{}finally{}if(r=xu(e,t,c,s),r!==null)return Kt(r,e,s),rm(r,t,s),!0}return!1}function sc(e,t,r,s){if(s={lane:2,revertLane:Hc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ds(e)){if(t)throw Error(l(479))}else t=xu(e,r,s,2),t!==null&&Kt(t,e,2)}function Ds(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function nm(e,t){Fa=xs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function rm(e,t,r){if((r&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,T(e,r)}}var ll={readContext:At,use:Rs,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};ll.useEffectEvent=ut;var am={readContext:At,use:Rs,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:$h,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,As(4194308,4,Gh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return As(4194308,4,e,t)},useInsertionEffect:function(e,t){As(4,2,e,t)},useMemo:function(e,t){var r=Lt();t=t===void 0?null:t;var s=e();if(pa){jn(!0);try{e()}finally{jn(!1)}}return r.memoizedState=[s,t],s},useReducer:function(e,t,r){var s=Lt();if(r!==void 0){var c=r(t);if(pa){jn(!0);try{r(t)}finally{jn(!1)}}}else c=t;return s.memoizedState=s.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},s.queue=e,e=e.dispatch=ab.bind(null,xe,e),[s.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:function(e){e=ec(e);var t=e.queue,r=tm.bind(null,xe,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:rc,useDeferredValue:function(e,t){var r=Lt();return ac(r,e,t)},useTransition:function(){var e=ec(!1);return e=Xh.bind(null,xe,e.queue,!0,!1),Lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var s=xe,c=Lt();if(Ne){if(r===void 0)throw Error(l(407));r=r()}else{if(r=t(),Fe===null)throw Error(l(349));(De&127)!==0||Th(s,t,r)}c.memoizedState=r;var f={value:r,getSnapshot:t};return c.queue=f,$h(Rh.bind(null,s,f,e),[e]),s.flags|=2048,ti(9,{destroy:void 0},Oh.bind(null,s,f,r,t),null),r},useId:function(){var e=Lt(),t=Fe.identifierPrefix;if(Ne){var r=Hn,s=Ln;r=(s&~(1<<32-Ut(s)-1)).toString(32)+r,t="_"+t+"R_"+r,r=Ts++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=W0++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:lc,useFormState:Nh,useActionState:Nh,useOptimistic:function(e){var t=Lt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=sc.bind(null,xe,!0,r),r.dispatch=t,[e,t]},useMemoCache:Wu,useCacheRefresh:function(){return Lt().memoizedState=rb.bind(null,xe)},useEffectEvent:function(e){var t=Lt(),r={impl:e};return t.memoizedState=r,function(){if((Ge&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},oc={readContext:At,use:Rs,useCallback:Kh,useContext:At,useEffect:nc,useImperativeHandle:Yh,useInsertionEffect:Ih,useLayoutEffect:Vh,useMemo:Jh,useReducer:js,useRef:qh,useState:function(){return js(tr)},useDebugValue:rc,useDeferredValue:function(e,t){var r=mt();return Qh(r,Qe.memoizedState,e,t)},useTransition:function(){var e=js(tr)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:al(e),t]},useSyncExternalStore:xh,useId:Fh,useHostTransitionStatus:lc,useFormState:Bh,useActionState:Bh,useOptimistic:function(e,t){var r=mt();return Ch(r,Qe,e,t)},useMemoCache:Wu,useCacheRefresh:em};oc.useEffectEvent=Ph;var im={readContext:At,use:Rs,useCallback:Kh,useContext:At,useEffect:nc,useImperativeHandle:Yh,useInsertionEffect:Ih,useLayoutEffect:Vh,useMemo:Jh,useReducer:Fu,useRef:qh,useState:function(){return Fu(tr)},useDebugValue:rc,useDeferredValue:function(e,t){var r=mt();return Qe===null?ac(r,e,t):Qh(r,Qe.memoizedState,e,t)},useTransition:function(){var e=Fu(tr)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:al(e),t]},useSyncExternalStore:xh,useId:Fh,useHostTransitionStatus:lc,useFormState:Hh,useActionState:Hh,useOptimistic:function(e,t){var r=mt();return Qe!==null?Ch(r,Qe,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Wu,useCacheRefresh:em};im.useEffectEvent=Ph;function uc(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:v({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cc={enqueueSetState:function(e,t,r){e=e._reactInternals;var s=an(),c=Sr(s);c.payload=t,r!=null&&(c.callback=r),t=Er(e,c,s),t!==null&&(Kt(t,e,s),el(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=an(),c=Sr(s);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=Er(e,c,s),t!==null&&(Kt(t,e,s),el(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=an(),s=Sr(r);s.tag=2,t!=null&&(s.callback=t),t=Er(e,s,r),t!==null&&(Kt(t,e,r),el(t,e,r))}};function lm(e,t,r,s,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,f,g):t.prototype&&t.prototype.isPureReactComponent?!Yi(r,s)||!Yi(c,f):!0}function sm(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&cc.enqueueReplaceState(t,t.state,null)}function ga(e,t){var r=t;if("ref"in t){r={};for(var s in t)s!=="ref"&&(r[s]=t[s])}if(e=e.defaultProps){r===t&&(r=v({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function om(e){us(e)}function um(e){console.error(e)}function cm(e){us(e)}function zs(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function dm(e,t,r){try{var s=e.onCaughtError;s(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function dc(e,t,r){return r=Sr(r),r.tag=3,r.payload={element:null},r.callback=function(){zs(e,t)},r}function fm(e){return e=Sr(e),e.tag=3,e}function hm(e,t,r,s){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;e.payload=function(){return c(f)},e.callback=function(){dm(t,r,s)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){dm(t,r,s),typeof c!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function ib(e,t,r,s,c){if(r.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=r.alternate,t!==null&&Ka(t,r,c,!0),r=en.current,r!==null){switch(r.tag){case 31:case 13:return bn===null?Vs():r.alternate===null&&ct===0&&(ct=3),r.flags&=-257,r.flags|=65536,r.lanes=c,s===bs?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([s]):t.add(s),Nc(e,s,c)),!1;case 22:return r.flags|=65536,s===bs?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([s]):r.add(s)),Nc(e,s,c)),!1}throw Error(l(435,r.tag))}return Nc(e,s,c),Vs(),!1}if(Ne)return t=en.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,s!==Cu&&(e=Error(l(422),{cause:s}),Qi(pn(e,r)))):(s!==Cu&&(t=Error(l(423),{cause:s}),Qi(pn(t,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,s=pn(s,r),c=dc(e.stateNode,s,c),$u(e,c),ct!==4&&(ct=2)),!1;var f=Error(l(520),{cause:s});if(f=pn(f,r),ml===null?ml=[f]:ml.push(f),ct!==4&&(ct=2),t===null)return!0;s=pn(s,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=dc(r.stateNode,s,e),$u(r,e),!1;case 1:if(t=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ar===null||!Ar.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=fm(c),hm(c,e,r,s),$u(r,c),!1}r=r.return}while(r!==null);return!1}var fc=Error(l(461)),bt=!1;function Ct(e,t,r,s){t.child=e===null?yh(t,null,r,s):ma(t,e.child,r,s)}function mm(e,t,r,s,c){r=r.render;var f=t.ref;if("ref"in s){var g={};for(var b in s)b!=="ref"&&(g[b]=s[b])}else g=s;return ca(t),s=Ku(e,t,r,g,f,c),b=Ju(),e!==null&&!bt?(Qu(e,t,c),nr(e,t,c)):(Ne&&b&&ju(t),t.flags|=1,Ct(e,t,s,c),t.child)}function pm(e,t,r,s,c){if(e===null){var f=r.type;return typeof f=="function"&&!Tu(f)&&f.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=f,gm(e,t,f,s,c)):(e=hs(r.type,null,s,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!wc(e,c)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Yi,r(g,s)&&e.ref===t.ref)return nr(e,t,c)}return t.flags|=1,e=Xn(f,s),e.ref=t.ref,e.return=t,t.child=e}function gm(e,t,r,s,c){if(e!==null){var f=e.memoizedProps;if(Yi(f,s)&&e.ref===t.ref)if(bt=!1,t.pendingProps=s=f,wc(e,c))(e.flags&131072)!==0&&(bt=!0);else return t.lanes=e.lanes,nr(e,t,c)}return hc(e,t,r,s,c)}function ym(e,t,r,s){var c=s.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(s=t.child=e.child,c=0;s!==null;)c=c|s.lanes|s.childLanes,s=s.sibling;s=c&~f}else s=0,t.child=null;return vm(e,t,f,r,s)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ys(t,f!==null?f.cachePool:null),f!==null?wh(t,f):Iu(),_h(t);else return s=t.lanes=536870912,vm(e,t,f!==null?f.baseLanes|r:r,r,s)}else f!==null?(ys(t,f.cachePool),wh(t,f),Tr(),t.memoizedState=null):(e!==null&&ys(t,null),Iu(),Tr());return Ct(e,t,c,r),t.child}function sl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function vm(e,t,r,s,c){var f=Bu();return f=f===null?null:{parent:yt._currentValue,pool:f},t.memoizedState={baseLanes:r,cachePool:f},e!==null&&ys(t,null),Iu(),_h(t),e!==null&&Ka(e,t,s,!0),t.childLanes=c,null}function Us(e,t){return t=Ms({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function bm(e,t,r){return ma(t,e.child,null,r),e=Us(t,t.pendingProps),e.flags|=2,tn(t),t.memoizedState=null,e}function lb(e,t,r){var s=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(s.mode==="hidden")return e=Us(t,s),t.lanes=536870912,sl(null,e);if(Gu(t),(e=nt)?(e=Dp(e,vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:yr!==null?{id:Ln,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},r=nh(e),r.return=t,t.child=r,jt=t,nt=null)):e=null,e===null)throw br(t);return t.lanes=536870912,null}return Us(t,s)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Gu(t),c)if(t.flags&256)t.flags&=-257,t=bm(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(bt||Ka(e,t,r,!1),c=(r&e.childLanes)!==0,bt||c){if(s=Fe,s!==null&&(g=U(s,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,la(e,g),Kt(s,e,g),fc;Vs(),t=bm(e,t,r)}else e=f.treeContext,nt=wn(g.nextSibling),jt=t,Ne=!0,vr=null,vn=!1,e!==null&&ih(t,e),t=Us(t,s),t.flags|=4096;return t}return e=Xn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ks(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function hc(e,t,r,s,c){return ca(t),r=Ku(e,t,r,s,void 0,c),s=Ju(),e!==null&&!bt?(Qu(e,t,c),nr(e,t,c)):(Ne&&s&&ju(t),t.flags|=1,Ct(e,t,r,c),t.child)}function wm(e,t,r,s,c,f){return ca(t),t.updateQueue=null,r=Eh(t,s,r,c),Sh(e),s=Ju(),e!==null&&!bt?(Qu(e,t,f),nr(e,t,f)):(Ne&&s&&ju(t),t.flags|=1,Ct(e,t,r,f),t.child)}function _m(e,t,r,s,c){if(ca(t),t.stateNode===null){var f=Ia,g=r.contextType;typeof g=="object"&&g!==null&&(f=At(g)),f=new r(s,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=cc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=s,f.state=t.memoizedState,f.refs={},Hu(t),g=r.contextType,f.context=typeof g=="object"&&g!==null?At(g):Ia,f.state=t.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(uc(t,r,g,s),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&cc.enqueueReplaceState(f,f.state,null),nl(t,s,f,c),tl(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){f=t.stateNode;var b=t.memoizedProps,x=ga(r,b);f.props=x;var M=f.context,V=r.contextType;g=Ia,typeof V=="object"&&V!==null&&(g=At(V));var Y=r.getDerivedStateFromProps;V=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,V||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||M!==g)&&sm(t,f,s,g),_r=!1;var N=t.memoizedState;f.state=N,nl(t,s,f,c),tl(),M=t.memoizedState,b||N!==M||_r?(typeof Y=="function"&&(uc(t,r,Y,s),M=t.memoizedState),(x=_r||lm(t,r,x,s,N,M,g))?(V||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=M),f.props=s,f.state=M,f.context=g,s=x):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{f=t.stateNode,qu(e,t),g=t.memoizedProps,V=ga(r,g),f.props=V,Y=t.pendingProps,N=f.context,M=r.contextType,x=Ia,typeof M=="object"&&M!==null&&(x=At(M)),b=r.getDerivedStateFromProps,(M=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||N!==x)&&sm(t,f,s,x),_r=!1,N=t.memoizedState,f.state=N,nl(t,s,f,c),tl();var $=t.memoizedState;g!==Y||N!==$||_r||e!==null&&e.dependencies!==null&&ps(e.dependencies)?(typeof b=="function"&&(uc(t,r,b,s),$=t.memoizedState),(V=_r||lm(t,r,V,s,N,$,x)||e!==null&&e.dependencies!==null&&ps(e.dependencies))?(M||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,$,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,$,x)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=$),f.props=s,f.state=$,f.context=x,s=V):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),s=!1)}return f=s,ks(e,t),s=(t.flags&128)!==0,f||s?(f=t.stateNode,r=s&&typeof r.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&s?(t.child=ma(t,e.child,null,c),t.child=ma(t,null,r,c)):Ct(e,t,r,c),t.memoizedState=f.state,e=t.child):e=nr(e,t,c),e}function Sm(e,t,r,s){return oa(),t.flags|=256,Ct(e,t,r,s),t.child}var mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pc(e){return{baseLanes:e,cachePool:dh()}}function gc(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=rn),e}function Em(e,t,r){var s=t.pendingProps,c=!1,f=(t.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ht.current&2)!==0),g&&(c=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(c?xr(t):Tr(),(e=nt)?(e=Dp(e,vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:yr!==null?{id:Ln,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},r=nh(e),r.return=t,t.child=r,jt=t,nt=null)):e=null,e===null)throw br(t);return Zc(e)?t.lanes=32:t.lanes=536870912,null}var b=s.children;return s=s.fallback,c?(Tr(),c=t.mode,b=Ms({mode:"hidden",children:b},c),s=sa(s,c,r,null),b.return=t,s.return=t,b.sibling=s,t.child=b,s=t.child,s.memoizedState=pc(r),s.childLanes=gc(e,g,r),t.memoizedState=mc,sl(null,s)):(xr(t),yc(t,b))}var x=e.memoizedState;if(x!==null&&(b=x.dehydrated,b!==null)){if(f)t.flags&256?(xr(t),t.flags&=-257,t=vc(e,t,r)):t.memoizedState!==null?(Tr(),t.child=e.child,t.flags|=128,t=null):(Tr(),b=s.fallback,c=t.mode,s=Ms({mode:"visible",children:s.children},c),b=sa(b,c,r,null),b.flags|=2,s.return=t,b.return=t,s.sibling=b,t.child=s,ma(t,e.child,null,r),s=t.child,s.memoizedState=pc(r),s.childLanes=gc(e,g,r),t.memoizedState=mc,t=sl(null,s));else if(xr(t),Zc(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var M=g.dgst;g=M,s=Error(l(419)),s.stack="",s.digest=g,Qi({value:s,source:null,stack:null}),t=vc(e,t,r)}else if(bt||Ka(e,t,r,!1),g=(r&e.childLanes)!==0,bt||g){if(g=Fe,g!==null&&(s=U(g,r),s!==0&&s!==x.retryLane))throw x.retryLane=s,la(e,s),Kt(g,e,s),fc;Wc(b)||Vs(),t=vc(e,t,r)}else Wc(b)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,nt=wn(b.nextSibling),jt=t,Ne=!0,vr=null,vn=!1,e!==null&&ih(t,e),t=yc(t,s.children),t.flags|=4096);return t}return c?(Tr(),b=s.fallback,c=t.mode,x=e.child,M=x.sibling,s=Xn(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,M!==null?b=Xn(M,b):(b=sa(b,c,r,null),b.flags|=2),b.return=t,s.return=t,s.sibling=b,t.child=s,sl(null,s),s=t.child,b=e.child.memoizedState,b===null?b=pc(r):(c=b.cachePool,c!==null?(x=yt._currentValue,c=c.parent!==x?{parent:x,pool:x}:c):c=dh(),b={baseLanes:b.baseLanes|r,cachePool:c}),s.memoizedState=b,s.childLanes=gc(e,g,r),t.memoizedState=mc,sl(e.child,s)):(xr(t),r=e.child,e=r.sibling,r=Xn(r,{mode:"visible",children:s.children}),r.return=t,r.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=r,t.memoizedState=null,r)}function yc(e,t){return t=Ms({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ms(e,t){return e=Ft(22,e,null,t),e.lanes=0,e}function vc(e,t,r){return ma(t,e.child,null,r),e=yc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xm(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Uu(e.return,t,r)}function bc(e,t,r,s,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:c,treeForkCount:f}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=s,g.tail=r,g.tailMode=c,g.treeForkCount=f)}function Tm(e,t,r){var s=t.pendingProps,c=s.revealOrder,f=s.tail;s=s.children;var g=ht.current,b=(g&2)!==0;if(b?(g=g&1|2,t.flags|=128):g&=1,X(ht,g),Ct(e,t,s,r),s=Ne?Ji:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xm(e,r,t);else if(e.tag===19)xm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&Es(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),bc(t,!1,c,r,f,s);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Es(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}bc(t,!0,r,null,f,s);break;case"together":bc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function nr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),jr|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(Ka(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,r=Xn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function wc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ps(e)))}function sb(e,t,r){switch(t.tag){case 3:dt(t,t.stateNode.containerInfo),wr(t,yt,e.memoizedState.cache),oa();break;case 27:case 5:Qr(t);break;case 4:dt(t,t.stateNode.containerInfo);break;case 10:wr(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Gu(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(xr(t),t.flags|=128,null):(r&t.child.childLanes)!==0?Em(e,t,r):(xr(t),e=nr(e,t,r),e!==null?e.sibling:null);xr(t);break;case 19:var c=(e.flags&128)!==0;if(s=(r&t.childLanes)!==0,s||(Ka(e,t,r,!1),s=(r&t.childLanes)!==0),c){if(s)return Tm(e,t,r);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),X(ht,ht.current),s)break;return null;case 22:return t.lanes=0,ym(e,t,r,t.pendingProps);case 24:wr(t,yt,e.memoizedState.cache)}return nr(e,t,r)}function Om(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)bt=!0;else{if(!wc(e,r)&&(t.flags&128)===0)return bt=!1,sb(e,t,r);bt=(e.flags&131072)!==0}else bt=!1,Ne&&(t.flags&1048576)!==0&&ah(t,Ji,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=fa(t.elementType),t.type=e,typeof e=="function")Tu(e)?(s=ga(e,s),t.tag=1,t=_m(null,t,e,s,r)):(t.tag=0,t=hc(null,t,e,s,r));else{if(e!=null){var c=e.$$typeof;if(c===Q){t.tag=11,t=mm(null,t,e,s,r);break e}else if(c===O){t.tag=14,t=pm(null,t,e,s,r);break e}}throw t=Ue(e)||e,Error(l(306,t,""))}}return t;case 0:return hc(e,t,t.type,t.pendingProps,r);case 1:return s=t.type,c=ga(s,t.pendingProps),_m(e,t,s,c,r);case 3:e:{if(dt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var f=t.memoizedState;c=f.element,qu(e,t),nl(t,s,null,r);var g=t.memoizedState;if(s=g.cache,wr(t,yt,s),s!==f.cache&&ku(t,[yt],r,!0),tl(),s=g.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Sm(e,t,s,r);break e}else if(s!==c){c=pn(Error(l(424)),t),Qi(c),t=Sm(e,t,s,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(nt=wn(e.firstChild),jt=t,Ne=!0,vr=null,vn=!0,r=yh(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(oa(),s===c){t=nr(e,t,r);break e}Ct(e,t,s,r)}t=t.child}return t;case 26:return ks(e,t),e===null?(r=Bp(t.type,null,t.pendingProps,null))?t.memoizedState=r:Ne||(r=t.type,e=t.pendingProps,s=Ws(_e.current).createElement(r),s[ee]=t,s[ne]=e,Dt(s,r,e),Ze(s),t.stateNode=s):t.memoizedState=Bp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Qr(t),e===null&&Ne&&(s=t.stateNode=kp(t.type,t.pendingProps,_e.current),jt=t,vn=!0,c=nt,Ur(t.type)?(Fc=c,nt=wn(s.firstChild)):nt=c),Ct(e,t,t.pendingProps.children,r),ks(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((c=s=nt)&&(s=Bb(s,t.type,t.pendingProps,vn),s!==null?(t.stateNode=s,jt=t,nt=wn(s.firstChild),vn=!1,c=!0):c=!1),c||br(t)),Qr(t),c=t.type,f=t.pendingProps,g=e!==null?e.memoizedProps:null,s=f.children,Jc(c,f)?s=null:g!==null&&Jc(c,g)&&(t.flags|=32),t.memoizedState!==null&&(c=Ku(e,t,Z0,null,null,r),Sl._currentValue=c),ks(e,t),Ct(e,t,s,r),t.child;case 6:return e===null&&Ne&&((e=r=nt)&&(r=Lb(r,t.pendingProps,vn),r!==null?(t.stateNode=r,jt=t,nt=null,e=!0):e=!1),e||br(t)),null;case 13:return Em(e,t,r);case 4:return dt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ma(t,null,s,r):Ct(e,t,s,r),t.child;case 11:return mm(e,t,t.type,t.pendingProps,r);case 7:return Ct(e,t,t.pendingProps,r),t.child;case 8:return Ct(e,t,t.pendingProps.children,r),t.child;case 12:return Ct(e,t,t.pendingProps.children,r),t.child;case 10:return s=t.pendingProps,wr(t,t.type,s.value),Ct(e,t,s.children,r),t.child;case 9:return c=t.type._context,s=t.pendingProps.children,ca(t),c=At(c),s=s(c),t.flags|=1,Ct(e,t,s,r),t.child;case 14:return pm(e,t,t.type,t.pendingProps,r);case 15:return gm(e,t,t.type,t.pendingProps,r);case 19:return Tm(e,t,r);case 31:return lb(e,t,r);case 22:return ym(e,t,r,t.pendingProps);case 24:return ca(t),s=At(yt),e===null?(c=Bu(),c===null&&(c=Fe,f=Mu(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),t.memoizedState={parent:s,cache:c},Hu(t),wr(t,yt,c)):((e.lanes&r)!==0&&(qu(e,t),nl(t,null,null,r),tl()),c=e.memoizedState,f=t.memoizedState,c.parent!==s?(c={parent:s,cache:s},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),wr(t,yt,s)):(s=f.cache,wr(t,yt,s),s!==c.cache&&ku(t,[yt],r,!0))),Ct(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function rr(e){e.flags|=4}function _c(e,t,r,s,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Fm())e.flags|=8192;else throw ha=bs,Lu}else e.flags&=-16777217}function Rm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Pp(t))if(Fm())e.flags|=8192;else throw ha=bs,Lu}function Ns(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ta():536870912,e.lanes|=t,ii|=t)}function ol(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function ob(e,t,r){var s=t.pendingProps;switch(Au(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return rt(t),null;case 3:return r=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Fn(yt),it(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ya(t)?rr(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Du())),rt(t),null;case 26:var c=t.type,f=t.memoizedState;return e===null?(rr(t),f!==null?(rt(t),Rm(t,f)):(rt(t),_c(t,c,null,s,r))):f?f!==e.memoizedState?(rr(t),rt(t),Rm(t,f)):(rt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&rr(t),rt(t),_c(t,c,e,s,r)),null;case 27:if(Ca(t),r=_e.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&rr(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return rt(t),null}e=re.current,Ya(t)?lh(t):(e=kp(c,s,r),t.stateNode=e,rr(t))}return rt(t),null;case 5:if(Ca(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&rr(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return rt(t),null}if(f=re.current,Ya(t))lh(t);else{var g=Ws(_e.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof s.is=="string"?g.createElement("select",{is:s.is}):g.createElement("select"),s.multiple?f.multiple=!0:s.size&&(f.size=s.size);break;default:f=typeof s.is=="string"?g.createElement(c,{is:s.is}):g.createElement(c)}}f[ee]=t,f[ne]=s;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=f;e:switch(Dt(f,c,s),c){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&rr(t)}}return rt(t),_c(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&rr(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=_e.current,Ya(t)){if(e=t.stateNode,r=t.memoizedProps,s=null,c=jt,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}e[ee]=t,e=!!(e.nodeValue===r||s!==null&&s.suppressHydrationWarning===!0||Ep(e.nodeValue,r)),e||br(t,!0)}else e=Ws(e).createTextNode(s),e[ee]=t,t.stateNode=e}return rt(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(s=Ya(t),r!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[ee]=t}else oa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),e=!1}else r=Du(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(tn(t),t):(tn(t),null);if((t.flags&128)!==0)throw Error(l(558))}return rt(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ya(t),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[ee]=t}else oa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),c=!1}else c=Du(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(tn(t),t):(tn(t),null)}return tn(t),(t.flags&128)!==0?(t.lanes=r,t):(r=s!==null,e=e!==null&&e.memoizedState!==null,r&&(s=t.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Ns(t,t.updateQueue),rt(t),null);case 4:return it(),e===null&&Ic(t.stateNode.containerInfo),rt(t),null;case 10:return Fn(t.type),rt(t),null;case 19:if(I(ht),s=t.memoizedState,s===null)return rt(t),null;if(c=(t.flags&128)!==0,f=s.rendering,f===null)if(c)ol(s,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Es(e),f!==null){for(t.flags|=128,ol(s,!1),e=f.updateQueue,t.updateQueue=e,Ns(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)th(r,e),r=r.sibling;return X(ht,ht.current&1|2),Ne&&Wn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&ft()>$s&&(t.flags|=128,c=!0,ol(s,!1),t.lanes=4194304)}else{if(!c)if(e=Es(f),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Ns(t,e),ol(s,!0),s.tail===null&&s.tailMode==="hidden"&&!f.alternate&&!Ne)return rt(t),null}else 2*ft()-s.renderingStartTime>$s&&r!==536870912&&(t.flags|=128,c=!0,ol(s,!1),t.lanes=4194304);s.isBackwards?(f.sibling=t.child,t.child=f):(e=s.last,e!==null?e.sibling=f:t.child=f,s.last=f)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ft(),e.sibling=null,r=ht.current,X(ht,c?r&1|2:r&1),Ne&&Wn(t,s.treeForkCount),e):(rt(t),null);case 22:case 23:return tn(t),Vu(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(r&536870912)!==0&&(t.flags&128)===0&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),r=t.updateQueue,r!==null&&Ns(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==r&&(t.flags|=2048),e!==null&&I(da),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Fn(yt),rt(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function ub(e,t){switch(Au(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fn(yt),it(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ca(t),null;case 31:if(t.memoizedState!==null){if(tn(t),t.alternate===null)throw Error(l(340));oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(tn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(ht),null;case 4:return it(),null;case 10:return Fn(t.type),null;case 22:case 23:return tn(t),Vu(),e!==null&&I(da),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Fn(yt),null;case 25:return null;default:return null}}function jm(e,t){switch(Au(t),t.tag){case 3:Fn(yt),it();break;case 26:case 27:case 5:Ca(t);break;case 4:it();break;case 31:t.memoizedState!==null&&tn(t);break;case 13:tn(t);break;case 19:I(ht);break;case 10:Fn(t.type);break;case 22:case 23:tn(t),Vu(),e!==null&&I(da);break;case 24:Fn(yt)}}function ul(e,t){try{var r=t.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var c=s.next;r=c;do{if((r.tag&e)===e){s=void 0;var f=r.create,g=r.inst;s=f(),g.destroy=s}r=r.next}while(r!==c)}}catch(b){Je(t,t.return,b)}}function Or(e,t,r){try{var s=t.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var f=c.next;s=f;do{if((s.tag&e)===e){var g=s.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,c=t;var x=r,M=b;try{M()}catch(V){Je(c,x,V)}}}s=s.next}while(s!==f)}}catch(V){Je(t,t.return,V)}}function Am(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{bh(t,r)}catch(s){Je(e,e.return,s)}}}function Cm(e,t,r){r.props=ga(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(s){Je(e,t,s)}}function cl(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof r=="function"?e.refCleanup=r(s):r.current=s}}catch(c){Je(e,t,c)}}function qn(e,t){var r=e.ref,s=e.refCleanup;if(r!==null)if(typeof s=="function")try{s()}catch(c){Je(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Je(e,t,c)}else r.current=null}function Dm(e){var t=e.type,r=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&s.focus();break e;case"img":r.src?s.src=r.src:r.srcSet&&(s.srcset=r.srcSet)}}catch(c){Je(e,e.return,c)}}function Sc(e,t,r){try{var s=e.stateNode;Db(s,e.type,r,t),s[ne]=t}catch(c){Je(e,e.return,c)}}function zm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ur(e.type)||e.tag===4}function Ec(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ur(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xc(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Jn));else if(s!==4&&(s===27&&Ur(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(xc(e,t,r),e=e.sibling;e!==null;)xc(e,t,r),e=e.sibling}function Bs(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(s===27&&Ur(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Bs(e,t,r),e=e.sibling;e!==null;)Bs(e,t,r),e=e.sibling}function Um(e){var t=e.stateNode,r=e.memoizedProps;try{for(var s=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Dt(t,s,r),t[ee]=e,t[ne]=r}catch(f){Je(e,e.return,f)}}var ar=!1,wt=!1,Tc=!1,km=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function cb(e,t){if(e=e.containerInfo,Yc=ao,e=Yf(e),vu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var c=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,b=-1,x=-1,M=0,V=0,Y=e,N=null;t:for(;;){for(var $;Y!==r||c!==0&&Y.nodeType!==3||(b=g+c),Y!==f||s!==0&&Y.nodeType!==3||(x=g+s),Y.nodeType===3&&(g+=Y.nodeValue.length),($=Y.firstChild)!==null;)N=Y,Y=$;for(;;){if(Y===e)break t;if(N===r&&++M===c&&(b=g),N===f&&++V===s&&(x=g),($=Y.nextSibling)!==null)break;Y=N,N=Y.parentNode}Y=$}r=b===-1||x===-1?null:{start:b,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kc={focusedElem:e,selectionRange:r},ao=!1,Tt=t;Tt!==null;)if(t=Tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Tt=e;else for(;Tt!==null;){switch(t=Tt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=t,c=f.memoizedProps,f=f.memoizedState,s=r.stateNode;try{var se=ga(r.type,c);e=s.getSnapshotBeforeUpdate(se,f),s.__reactInternalSnapshotBeforeUpdate=e}catch(be){Je(r,r.return,be)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)Xc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Tt=e;break}Tt=t.return}}function Mm(e,t,r){var s=r.flags;switch(r.tag){case 0:case 11:case 15:lr(e,r),s&4&&ul(5,r);break;case 1:if(lr(e,r),s&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(g){Je(r,r.return,g)}else{var c=ga(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Je(r,r.return,g)}}s&64&&Am(r),s&512&&cl(r,r.return);break;case 3:if(lr(e,r),s&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{bh(e,t)}catch(g){Je(r,r.return,g)}}break;case 27:t===null&&s&4&&Um(r);case 26:case 5:lr(e,r),t===null&&s&4&&Dm(r),s&512&&cl(r,r.return);break;case 12:lr(e,r);break;case 31:lr(e,r),s&4&&Lm(e,r);break;case 13:lr(e,r),s&4&&Hm(e,r),s&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=bb.bind(null,r),Hb(e,r))));break;case 22:if(s=r.memoizedState!==null||ar,!s){t=t!==null&&t.memoizedState!==null||wt,c=ar;var f=wt;ar=s,(wt=t)&&!f?sr(e,r,(r.subtreeFlags&8772)!==0):lr(e,r),ar=c,wt=f}break;case 30:break;default:lr(e,r)}}function Nm(e){var t=e.alternate;t!==null&&(e.alternate=null,Nm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ot(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var at=null,It=!1;function ir(e,t,r){for(r=r.child;r!==null;)Bm(e,t,r),r=r.sibling}function Bm(e,t,r){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Wr,r)}catch{}switch(r.tag){case 26:wt||qn(r,t),ir(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:wt||qn(r,t);var s=at,c=It;Ur(r.type)&&(at=r.stateNode,It=!1),ir(e,t,r),bl(r.stateNode),at=s,It=c;break;case 5:wt||qn(r,t);case 6:if(s=at,c=It,at=null,ir(e,t,r),at=s,It=c,at!==null)if(It)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(r.stateNode)}catch(f){Je(r,t,f)}else try{at.removeChild(r.stateNode)}catch(f){Je(r,t,f)}break;case 18:at!==null&&(It?(e=at,Ap(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),hi(e)):Ap(at,r.stateNode));break;case 4:s=at,c=It,at=r.stateNode.containerInfo,It=!0,ir(e,t,r),at=s,It=c;break;case 0:case 11:case 14:case 15:Or(2,r,t),wt||Or(4,r,t),ir(e,t,r);break;case 1:wt||(qn(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"&&Cm(r,t,s)),ir(e,t,r);break;case 21:ir(e,t,r);break;case 22:wt=(s=wt)||r.memoizedState!==null,ir(e,t,r),wt=s;break;default:ir(e,t,r)}}function Lm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{hi(e)}catch(r){Je(t,t.return,r)}}}function Hm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hi(e)}catch(r){Je(t,t.return,r)}}function db(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new km),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new km),t;default:throw Error(l(435,e.tag))}}function Ls(e,t){var r=db(e);t.forEach(function(s){if(!r.has(s)){r.add(s);var c=wb.bind(null,e,s);s.then(c,c)}})}function Vt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var c=r[s],f=e,g=t,b=g;e:for(;b!==null;){switch(b.tag){case 27:if(Ur(b.type)){at=b.stateNode,It=!1;break e}break;case 5:at=b.stateNode,It=!1;break e;case 3:case 4:at=b.stateNode.containerInfo,It=!0;break e}b=b.return}if(at===null)throw Error(l(160));Bm(f,g,c),at=null,It=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)qm(t,e),t=t.sibling}var Dn=null;function qm(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vt(t,e),Gt(e),s&4&&(Or(3,e,e.return),ul(3,e),Or(5,e,e.return));break;case 1:Vt(t,e),Gt(e),s&512&&(wt||r===null||qn(r,r.return)),s&64&&ar&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?s:r.concat(s))));break;case 26:var c=Dn;if(Vt(t,e),Gt(e),s&512&&(wt||r===null||qn(r,r.return)),s&4){var f=r!==null?r.memoizedState:null;if(s=e.memoizedState,r===null)if(s===null)if(e.stateNode===null){e:{s=e.type,r=e.memoizedProps,c=c.ownerDocument||c;t:switch(s){case"title":f=c.getElementsByTagName("title")[0],(!f||f[tt]||f[ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(s),c.head.insertBefore(f,c.querySelector("head > title"))),Dt(f,s,r),f[ee]=e,Ze(f),s=f;break e;case"link":var g=qp("link","href",c).get(s+(r.href||""));if(g){for(var b=0;b<g.length;b++)if(f=g[b],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(b,1);break t}}f=c.createElement(s),Dt(f,s,r),c.head.appendChild(f);break;case"meta":if(g=qp("meta","content",c).get(s+(r.content||""))){for(b=0;b<g.length;b++)if(f=g[b],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(b,1);break t}}f=c.createElement(s),Dt(f,s,r),c.head.appendChild(f);break;default:throw Error(l(468,s))}f[ee]=e,Ze(f),s=f}e.stateNode=s}else $p(c,e.type,e.stateNode);else e.stateNode=Hp(c,s,e.memoizedProps);else f!==s?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,s===null?$p(c,e.type,e.stateNode):Hp(c,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Sc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Vt(t,e),Gt(e),s&512&&(wt||r===null||qn(r,r.return)),r!==null&&s&4&&Sc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Vt(t,e),Gt(e),s&512&&(wt||r===null||qn(r,r.return)),e.flags&32){c=e.stateNode;try{Na(c,"")}catch(se){Je(e,e.return,se)}}s&4&&e.stateNode!=null&&(c=e.memoizedProps,Sc(e,c,r!==null?r.memoizedProps:c)),s&1024&&(Tc=!0);break;case 6:if(Vt(t,e),Gt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,r=e.stateNode;try{r.nodeValue=s}catch(se){Je(e,e.return,se)}}break;case 3:if(eo=null,c=Dn,Dn=Zs(t.containerInfo),Vt(t,e),Dn=c,Gt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{hi(t.containerInfo)}catch(se){Je(e,e.return,se)}Tc&&(Tc=!1,$m(e));break;case 4:s=Dn,Dn=Zs(e.stateNode.containerInfo),Vt(t,e),Gt(e),Dn=s;break;case 12:Vt(t,e),Gt(e);break;case 31:Vt(t,e),Gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ls(e,s)));break;case 13:Vt(t,e),Gt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(qs=ft()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ls(e,s)));break;case 22:c=e.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,M=ar,V=wt;if(ar=M||c,wt=V||x,Vt(t,e),wt=V,ar=M,Gt(e),s&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(r===null||x||ar||wt||ya(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){x=r=t;try{if(f=x.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=x.stateNode;var Y=x.memoizedProps.style,N=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(se){Je(x,x.return,se)}}}else if(t.tag===6){if(r===null){x=t;try{x.stateNode.nodeValue=c?"":x.memoizedProps}catch(se){Je(x,x.return,se)}}}else if(t.tag===18){if(r===null){x=t;try{var $=x.stateNode;c?Cp($,!0):Cp(x.stateNode,!1)}catch(se){Je(x,x.return,se)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(r=s.retryQueue,r!==null&&(s.retryQueue=null,Ls(e,r))));break;case 19:Vt(t,e),Gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ls(e,s)));break;case 30:break;case 21:break;default:Vt(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{for(var r,s=e.return;s!==null;){if(zm(s)){r=s;break}s=s.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var c=r.stateNode,f=Ec(e);Bs(e,f,c);break;case 5:var g=r.stateNode;r.flags&32&&(Na(g,""),r.flags&=-33);var b=Ec(e);Bs(e,b,g);break;case 3:case 4:var x=r.stateNode.containerInfo,M=Ec(e);xc(e,M,x);break;default:throw Error(l(161))}}catch(V){Je(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $m(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;$m(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function lr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Mm(e,t.alternate,t),t=t.sibling}function ya(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Or(4,t,t.return),ya(t);break;case 1:qn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&Cm(t,t.return,r),ya(t);break;case 27:bl(t.stateNode);case 26:case 5:qn(t,t.return),ya(t);break;case 22:t.memoizedState===null&&ya(t);break;case 30:ya(t);break;default:ya(t)}e=e.sibling}}function sr(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,c=e,f=t,g=f.flags;switch(f.tag){case 0:case 11:case 15:sr(c,f,r),ul(4,f);break;case 1:if(sr(c,f,r),s=f,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(M){Je(s,s.return,M)}if(s=f,c=s.updateQueue,c!==null){var b=s.stateNode;try{var x=c.shared.hiddenCallbacks;if(x!==null)for(c.shared.hiddenCallbacks=null,c=0;c<x.length;c++)vh(x[c],b)}catch(M){Je(s,s.return,M)}}r&&g&64&&Am(f),cl(f,f.return);break;case 27:Um(f);case 26:case 5:sr(c,f,r),r&&s===null&&g&4&&Dm(f),cl(f,f.return);break;case 12:sr(c,f,r);break;case 31:sr(c,f,r),r&&g&4&&Lm(c,f);break;case 13:sr(c,f,r),r&&g&4&&Hm(c,f);break;case 22:f.memoizedState===null&&sr(c,f,r),cl(f,f.return);break;case 30:break;default:sr(c,f,r)}t=t.sibling}}function Oc(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Xi(r))}function Rc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xi(e))}function zn(e,t,r,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pm(e,t,r,s),t=t.sibling}function Pm(e,t,r,s){var c=t.flags;switch(t.tag){case 0:case 11:case 15:zn(e,t,r,s),c&2048&&ul(9,t);break;case 1:zn(e,t,r,s);break;case 3:zn(e,t,r,s),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xi(e)));break;case 12:if(c&2048){zn(e,t,r,s),e=t.stateNode;try{var f=t.memoizedProps,g=f.id,b=f.onPostCommit;typeof b=="function"&&b(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Je(t,t.return,x)}}else zn(e,t,r,s);break;case 31:zn(e,t,r,s);break;case 13:zn(e,t,r,s);break;case 23:break;case 22:f=t.stateNode,g=t.alternate,t.memoizedState!==null?f._visibility&2?zn(e,t,r,s):dl(e,t):f._visibility&2?zn(e,t,r,s):(f._visibility|=2,ni(e,t,r,s,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Oc(g,t);break;case 24:zn(e,t,r,s),c&2048&&Rc(t.alternate,t);break;default:zn(e,t,r,s)}}function ni(e,t,r,s,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,g=t,b=r,x=s,M=g.flags;switch(g.tag){case 0:case 11:case 15:ni(f,g,b,x,c),ul(8,g);break;case 23:break;case 22:var V=g.stateNode;g.memoizedState!==null?V._visibility&2?ni(f,g,b,x,c):dl(f,g):(V._visibility|=2,ni(f,g,b,x,c)),c&&M&2048&&Oc(g.alternate,g);break;case 24:ni(f,g,b,x,c),c&&M&2048&&Rc(g.alternate,g);break;default:ni(f,g,b,x,c)}t=t.sibling}}function dl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,s=t,c=s.flags;switch(s.tag){case 22:dl(r,s),c&2048&&Oc(s.alternate,s);break;case 24:dl(r,s),c&2048&&Rc(s.alternate,s);break;default:dl(r,s)}t=t.sibling}}var fl=8192;function ri(e,t,r){if(e.subtreeFlags&fl)for(e=e.child;e!==null;)Im(e,t,r),e=e.sibling}function Im(e,t,r){switch(e.tag){case 26:ri(e,t,r),e.flags&fl&&e.memoizedState!==null&&Wb(r,Dn,e.memoizedState,e.memoizedProps);break;case 5:ri(e,t,r);break;case 3:case 4:var s=Dn;Dn=Zs(e.stateNode.containerInfo),ri(e,t,r),Dn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=fl,fl=16777216,ri(e,t,r),fl=s):ri(e,t,r));break;default:ri(e,t,r)}}function Vm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function hl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];Tt=s,Ym(s,e)}Vm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gm(e),e=e.sibling}function Gm(e){switch(e.tag){case 0:case 11:case 15:hl(e),e.flags&2048&&Or(9,e,e.return);break;case 3:hl(e);break;case 12:hl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hs(e)):hl(e);break;default:hl(e)}}function Hs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];Tt=s,Ym(s,e)}Vm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Or(8,t,t.return),Hs(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Hs(t));break;default:Hs(t)}e=e.sibling}}function Ym(e,t){for(;Tt!==null;){var r=Tt;switch(r.tag){case 0:case 11:case 15:Or(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var s=r.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Xi(r.memoizedState.cache)}if(s=r.child,s!==null)s.return=r,Tt=s;else e:for(r=e;Tt!==null;){s=Tt;var c=s.sibling,f=s.return;if(Nm(s),s===r){Tt=null;break e}if(c!==null){c.return=f,Tt=c;break e}Tt=f}}}var fb={getCacheForType:function(e){var t=At(yt),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return At(yt).controller.signal}},hb=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Fe=null,je=null,De=0,Ke=0,nn=null,Rr=!1,ai=!1,jc=!1,or=0,ct=0,jr=0,va=0,Ac=0,rn=0,ii=0,ml=null,Yt=null,Cc=!1,qs=0,Km=0,$s=1/0,Ps=null,Ar=null,St=0,Cr=null,li=null,ur=0,Dc=0,zc=null,Jm=null,pl=0,Uc=null;function an(){return(Ge&2)!==0&&De!==0?De&-De:P.T!==null?Hc():W()}function Qm(){if(rn===0)if((De&536870912)===0||Ne){var e=Zr;Zr<<=1,(Zr&3932160)===0&&(Zr=262144),rn=e}else rn=536870912;return e=en.current,e!==null&&(e.flags|=32),rn}function Kt(e,t,r){(e===Fe&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(si(e,0),Dr(e,De,rn,!1)),pr(e,r),((Ge&2)===0||e!==Fe)&&(e===Fe&&((Ge&2)===0&&(va|=r),ct===4&&Dr(e,De,rn,!1)),$n(e))}function Xm(e,t,r){if((Ge&6)!==0)throw Error(l(327));var s=!r&&(t&127)===0&&(t&e.expiredLanes)===0||ea(e,t),c=s?gb(e,t):Mc(e,t,!0),f=s;do{if(c===0){ai&&!s&&Dr(e,t,0,!1);break}else{if(r=e.current.alternate,f&&!mb(r)){c=Mc(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var b=e;c=ml;var x=b.current.memoizedState.isDehydrated;if(x&&(si(b,g).flags|=256),g=Mc(b,g,!1),g!==2){if(jc&&!x){b.errorRecoveryDisabledLanes|=f,va|=f,c=4;break e}f=Yt,Yt=c,f!==null&&(Yt===null?Yt=f:Yt.push.apply(Yt,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){si(e,0),Dr(e,t,0,!0);break}e:{switch(s=e,f=c,f){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Dr(s,t,rn,!Rr);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(c=qs+300-ft(),10<c)){if(Dr(s,t,rn,!Rr),Fr(s,0,!0)!==0)break e;ur=t,s.timeoutHandle=Rp(Wm.bind(null,s,r,Yt,Ps,Cc,t,rn,va,ii,Rr,f,"Throttled",-0,0),c);break e}Wm(s,r,Yt,Ps,Cc,t,rn,va,ii,Rr,f,null,-0,0)}}break}while(!0);$n(e)}function Wm(e,t,r,s,c,f,g,b,x,M,V,Y,N,$){if(e.timeoutHandle=-1,Y=t.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},Im(t,f,Y);var se=(f&62914560)===f?qs-ft():(f&4194048)===f?Km-ft():0;if(se=Zb(Y,se),se!==null){ur=f,e.cancelPendingCommit=se(ip.bind(null,e,t,f,r,s,c,g,b,x,V,Y,null,N,$)),Dr(e,f,g,!M);return}}ip(e,t,f,r,s,c,g,b,x)}function mb(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var s=0;s<r.length;s++){var c=r[s],f=c.getSnapshot;c=c.value;try{if(!Zt(f(),c))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dr(e,t,r,s){t&=~Ac,t&=~va,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var c=t;0<c;){var f=31-Ut(c),g=1<<f;s[f]=-1,c&=~g}r!==0&&es(e,r,t)}function Is(){return(Ge&6)===0?(gl(0),!1):!0}function kc(){if(je!==null){if(Ke===0)var e=je.return;else e=je,Zn=ua=null,Xu(e),Wa=null,Zi=0,e=je;for(;e!==null;)jm(e.alternate,e),e=e.return;je=null}}function si(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,kb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ur=0,kc(),Fe=e,je=r=Xn(e.current,null),De=t,Ke=0,nn=null,Rr=!1,ai=ea(e,t),jc=!1,ii=rn=Ac=va=jr=ct=0,Yt=ml=null,Cc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var c=31-Ut(s),f=1<<c;t|=e[c],s&=~f}return or=t,cs(),r}function Zm(e,t){xe=null,P.H=ll,t===Xa||t===vs?(t=mh(),Ke=3):t===Lu?(t=mh(),Ke=4):Ke=t===fc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,nn=t,je===null&&(ct=1,zs(e,pn(t,e.current)))}function Fm(){var e=en.current;return e===null?!0:(De&4194048)===De?bn===null:(De&62914560)===De||(De&536870912)!==0?e===bn:!1}function ep(){var e=P.H;return P.H=ll,e===null?ll:e}function tp(){var e=P.A;return P.A=fb,e}function Vs(){ct=4,Rr||(De&4194048)!==De&&en.current!==null||(ai=!0),(jr&134217727)===0&&(va&134217727)===0||Fe===null||Dr(Fe,De,rn,!1)}function Mc(e,t,r){var s=Ge;Ge|=2;var c=ep(),f=tp();(Fe!==e||De!==t)&&(Ps=null,si(e,t)),t=!1;var g=ct;e:do try{if(Ke!==0&&je!==null){var b=je,x=nn;switch(Ke){case 8:kc(),g=6;break e;case 3:case 2:case 9:case 6:en.current===null&&(t=!0);var M=Ke;if(Ke=0,nn=null,oi(e,b,x,M),r&&ai){g=0;break e}break;default:M=Ke,Ke=0,nn=null,oi(e,b,x,M)}}pb(),g=ct;break}catch(V){Zm(e,V)}while(!0);return t&&e.shellSuspendCounter++,Zn=ua=null,Ge=s,P.H=c,P.A=f,je===null&&(Fe=null,De=0,cs()),g}function pb(){for(;je!==null;)np(je)}function gb(e,t){var r=Ge;Ge|=2;var s=ep(),c=tp();Fe!==e||De!==t?(Ps=null,$s=ft()+500,si(e,t)):ai=ea(e,t);e:do try{if(Ke!==0&&je!==null){t=je;var f=nn;t:switch(Ke){case 1:Ke=0,nn=null,oi(e,t,f,1);break;case 2:case 9:if(fh(f)){Ke=0,nn=null,rp(t);break}t=function(){Ke!==2&&Ke!==9||Fe!==e||(Ke=7),$n(e)},f.then(t,t);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:fh(f)?(Ke=0,nn=null,rp(t)):(Ke=0,nn=null,oi(e,t,f,7));break;case 5:var g=null;switch(je.tag){case 26:g=je.memoizedState;case 5:case 27:var b=je;if(g?Pp(g):b.stateNode.complete){Ke=0,nn=null;var x=b.sibling;if(x!==null)je=x;else{var M=b.return;M!==null?(je=M,Gs(M)):je=null}break t}}Ke=0,nn=null,oi(e,t,f,5);break;case 6:Ke=0,nn=null,oi(e,t,f,6);break;case 8:kc(),ct=6;break e;default:throw Error(l(462))}}yb();break}catch(V){Zm(e,V)}while(!0);return Zn=ua=null,P.H=s,P.A=c,Ge=r,je!==null?0:(Fe=null,De=0,cs(),ct)}function yb(){for(;je!==null&&!Xo();)np(je)}function np(e){var t=Om(e.alternate,e,or);e.memoizedProps=e.pendingProps,t===null?Gs(e):je=t}function rp(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=wm(r,t,t.pendingProps,t.type,void 0,De);break;case 11:t=wm(r,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:Xu(t);default:jm(r,t),t=je=th(t,or),t=Om(r,t,or)}e.memoizedProps=e.pendingProps,t===null?Gs(e):je=t}function oi(e,t,r,s){Zn=ua=null,Xu(t),Wa=null,Zi=0;var c=t.return;try{if(ib(e,c,t,r,De)){ct=1,zs(e,pn(r,e.current)),je=null;return}}catch(f){if(c!==null)throw je=c,f;ct=1,zs(e,pn(r,e.current)),je=null;return}t.flags&32768?(Ne||s===1?e=!0:ai||(De&536870912)!==0?e=!1:(Rr=e=!0,(s===2||s===9||s===3||s===6)&&(s=en.current,s!==null&&s.tag===13&&(s.flags|=16384))),ap(t,e)):Gs(t)}function Gs(e){var t=e;do{if((t.flags&32768)!==0){ap(t,Rr);return}e=t.return;var r=ob(t.alternate,t,or);if(r!==null){je=r;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);ct===0&&(ct=5)}function ap(e,t){do{var r=ub(e.alternate,e);if(r!==null){r.flags&=32767,je=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=r}while(e!==null);ct=6,je=null}function ip(e,t,r,s,c,f,g,b,x){e.cancelPendingCommit=null;do Ys();while(St!==0);if((Ge&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(f=t.lanes|t.childLanes,f|=Eu,eu(e,r,f,g,b,x),e===Fe&&(je=Fe=null,De=0),li=t,Cr=e,ur=r,Dc=f,zc=c,Jm=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_b(qt,function(){return cp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=P.T,P.T=null,c=J.p,J.p=2,g=Ge,Ge|=4;try{cb(e,t,r)}finally{Ge=g,J.p=c,P.T=s}}St=1,lp(),sp(),op()}}function lp(){if(St===1){St=0;var e=Cr,t=li,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=P.T,P.T=null;var s=J.p;J.p=2;var c=Ge;Ge|=4;try{qm(t,e);var f=Kc,g=Yf(e.containerInfo),b=f.focusedElem,x=f.selectionRange;if(g!==b&&b&&b.ownerDocument&&Gf(b.ownerDocument.documentElement,b)){if(x!==null&&vu(b)){var M=x.start,V=x.end;if(V===void 0&&(V=M),"selectionStart"in b)b.selectionStart=M,b.selectionEnd=Math.min(V,b.value.length);else{var Y=b.ownerDocument||document,N=Y&&Y.defaultView||window;if(N.getSelection){var $=N.getSelection(),se=b.textContent.length,be=Math.min(x.start,se),We=x.end===void 0?be:Math.min(x.end,se);!$.extend&&be>We&&(g=We,We=be,be=g);var D=Vf(b,be),j=Vf(b,We);if(D&&j&&($.rangeCount!==1||$.anchorNode!==D.node||$.anchorOffset!==D.offset||$.focusNode!==j.node||$.focusOffset!==j.offset)){var k=Y.createRange();k.setStart(D.node,D.offset),$.removeAllRanges(),be>We?($.addRange(k),$.extend(j.node,j.offset)):(k.setEnd(j.node,j.offset),$.addRange(k))}}}}for(Y=[],$=b;$=$.parentNode;)$.nodeType===1&&Y.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var G=Y[b];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ao=!!Yc,Kc=Yc=null}finally{Ge=c,J.p=s,P.T=r}}e.current=t,St=2}}function sp(){if(St===2){St=0;var e=Cr,t=li,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=P.T,P.T=null;var s=J.p;J.p=2;var c=Ge;Ge|=4;try{Mm(e,t.alternate,t)}finally{Ge=c,J.p=s,P.T=r}}St=3}}function op(){if(St===4||St===3){St=0,Wo();var e=Cr,t=li,r=ur,s=Jm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?St=5:(St=0,li=Cr=null,up(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ar=null),K(r),t=t.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Wr,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=P.T,c=J.p,J.p=2,P.T=null;try{for(var f=e.onRecoverableError,g=0;g<s.length;g++){var b=s[g];f(b.value,{componentStack:b.stack})}}finally{P.T=t,J.p=c}}(ur&3)!==0&&Ys(),$n(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===Uc?pl++:(pl=0,Uc=e):pl=0,gl(0)}}function up(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Xi(t)))}function Ys(){return lp(),sp(),op(),cp()}function cp(){if(St!==5)return!1;var e=Cr,t=Dc;Dc=0;var r=K(ur),s=P.T,c=J.p;try{J.p=32>r?32:r,P.T=null,r=zc,zc=null;var f=Cr,g=ur;if(St=0,li=Cr=null,ur=0,(Ge&6)!==0)throw Error(l(331));var b=Ge;if(Ge|=4,Gm(f.current),Pm(f,f.current,g,r),Ge=b,gl(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Wr,f)}catch{}return!0}finally{J.p=c,P.T=s,up(e,t)}}function dp(e,t,r){t=pn(r,t),t=dc(e.stateNode,t,2),e=Er(e,t,2),e!==null&&(pr(e,2),$n(e))}function Je(e,t,r){if(e.tag===3)dp(e,e,r);else for(;t!==null;){if(t.tag===3){dp(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ar===null||!Ar.has(s))){e=pn(r,e),r=fm(2),s=Er(t,r,2),s!==null&&(hm(r,s,t,e),pr(s,2),$n(s));break}}t=t.return}}function Nc(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new hb;var c=new Set;s.set(t,c)}else c=s.get(t),c===void 0&&(c=new Set,s.set(t,c));c.has(r)||(jc=!0,c.add(r),e=vb.bind(null,e,t,r),t.then(e,e))}function vb(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Fe===e&&(De&r)===r&&(ct===4||ct===3&&(De&62914560)===De&&300>ft()-qs?(Ge&2)===0&&si(e,0):Ac|=r,ii===De&&(ii=0)),$n(e)}function fp(e,t){t===0&&(t=ta()),e=la(e,t),e!==null&&(pr(e,t),$n(e))}function bb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),fp(e,r)}function wb(e,t){var r=0;switch(e.tag){case 31:case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),fp(e,r)}function _b(e,t){return Ui(e,t)}var Ks=null,ui=null,Bc=!1,Js=!1,Lc=!1,zr=0;function $n(e){e!==ui&&e.next===null&&(ui===null?Ks=ui=e:ui=ui.next=e),Js=!0,Bc||(Bc=!0,Eb())}function gl(e,t){if(!Lc&&Js){Lc=!0;do for(var r=!1,s=Ks;s!==null;){if(e!==0){var c=s.pendingLanes;if(c===0)var f=0;else{var g=s.suspendedLanes,b=s.pingedLanes;f=(1<<31-Ut(42|e)+1)-1,f&=c&~(g&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,gp(s,f))}else f=De,f=Fr(s,s===Fe?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(f&3)===0||ea(s,f)||(r=!0,gp(s,f));s=s.next}while(r);Lc=!1}}function Sb(){hp()}function hp(){Js=Bc=!1;var e=0;zr!==0&&Ub()&&(e=zr);for(var t=ft(),r=null,s=Ks;s!==null;){var c=s.next,f=mp(s,t);f===0?(s.next=null,r===null?Ks=c:r.next=c,c===null&&(ui=r)):(r=s,(e!==0||(f&3)!==0)&&(Js=!0)),s=c}St!==0&&St!==5||gl(e),zr!==0&&(zr=0)}function mp(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Ut(f),b=1<<g,x=c[g];x===-1?((b&r)===0||(b&s)!==0)&&(c[g]=Fl(b,t)):x<=t&&(e.expiredLanes|=b),f&=~b}if(t=Fe,r=De,r=Fr(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,r===0||e===t&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ki(s),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||ea(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(s!==null&&ki(s),K(r)){case 2:case 8:r=za;break;case 32:r=qt;break;case 268435456:r=Ni;break;default:r=qt}return s=pp.bind(null,e),r=Ui(r,s),e.callbackPriority=t,e.callbackNode=r,t}return s!==null&&s!==null&&ki(s),e.callbackPriority=2,e.callbackNode=null,2}function pp(e,t){if(St!==0&&St!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Ys()&&e.callbackNode!==r)return null;var s=De;return s=Fr(e,e===Fe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Xm(e,s,t),mp(e,ft()),e.callbackNode!=null&&e.callbackNode===r?pp.bind(null,e):null)}function gp(e,t){if(Ys())return null;Xm(e,t,!0)}function Eb(){Mb(function(){(Ge&6)!==0?Ui(Mi,Sb):hp()})}function Hc(){if(zr===0){var e=Ja;e===0&&(e=Yn,Yn<<=1,(Yn&261888)===0&&(Yn=256)),zr=e}return zr}function yp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ns(""+e)}function vp(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function xb(e,t,r,s,c){if(t==="submit"&&r&&r.stateNode===c){var f=yp((c[ne]||null).action),g=s.submitter;g&&(t=(t=g[ne]||null)?yp(t.formAction):g.getAttribute("formAction"),t!==null&&(f=t,g=null));var b=new ls("action","action",null,s,c);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(zr!==0){var x=g?vp(c,g):new FormData(c);ic(r,{pending:!0,data:x,method:c.method,action:f},null,x)}}else typeof f=="function"&&(b.preventDefault(),x=g?vp(c,g):new FormData(c),ic(r,{pending:!0,data:x,method:c.method,action:f},f,x))},currentTarget:c}]})}}for(var qc=0;qc<Su.length;qc++){var $c=Su[qc],Tb=$c.toLowerCase(),Ob=$c[0].toUpperCase()+$c.slice(1);Cn(Tb,"on"+Ob)}Cn(Qf,"onAnimationEnd"),Cn(Xf,"onAnimationIteration"),Cn(Wf,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(P0,"onTransitionRun"),Cn(I0,"onTransitionStart"),Cn(V0,"onTransitionCancel"),Cn(Zf,"onTransitionEnd"),$t("onMouseEnter",["mouseout","mouseover"]),$t("onMouseLeave",["mouseout","mouseover"]),$t("onPointerEnter",["pointerout","pointerover"]),$t("onPointerLeave",["pointerout","pointerover"]),Wt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function bp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],c=s.event;s=s.listeners;e:{var f=void 0;if(t)for(var g=s.length-1;0<=g;g--){var b=s[g],x=b.instance,M=b.currentTarget;if(b=b.listener,x!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=M;try{f(c)}catch(V){us(V)}c.currentTarget=null,f=x}else for(g=0;g<s.length;g++){if(b=s[g],x=b.instance,M=b.currentTarget,b=b.listener,x!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=M;try{f(c)}catch(V){us(V)}c.currentTarget=null,f=x}}}}function Ae(e,t){var r=t[he];r===void 0&&(r=t[he]=new Set);var s=e+"__bubble";r.has(s)||(wp(t,e,2,!1),r.add(s))}function Pc(e,t,r){var s=0;t&&(s|=4),wp(r,e,s,t)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function Ic(e){if(!e[Qs]){e[Qs]=!0,Xt.forEach(function(r){r!=="selectionchange"&&(Rb.has(r)||Pc(r,!1,e),Pc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qs]||(t[Qs]=!0,Pc("selectionchange",!1,t))}}function wp(e,t,r,s){switch(Qp(t)){case 2:var c=tw;break;case 8:c=nw;break;default:c=ad}r=c.bind(null,t,r,e),c=void 0,!uu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(t,r,{capture:!0,passive:c}):e.addEventListener(t,r,!0):c!==void 0?e.addEventListener(t,r,{passive:c}):e.addEventListener(t,r,!1)}function Vc(e,t,r,s,c){var f=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var g=s.tag;if(g===3||g===4){var b=s.stateNode.containerInfo;if(b===c)break;if(g===4)for(g=s.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;b!==null;){if(g=qe(b),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){s=f=g;continue e}b=b.parentNode}}s=s.return}Tf(function(){var M=f,V=su(r),Y=[];e:{var N=Ff.get(e);if(N!==void 0){var $=ls,se=e;switch(e){case"keypress":if(as(r)===0)break e;case"keydown":case"keyup":$=w0;break;case"focusin":se="focus",$=hu;break;case"focusout":se="blur",$=hu;break;case"beforeblur":case"afterblur":$=hu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=o0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=E0;break;case Qf:case Xf:case Wf:$=d0;break;case Zf:$=T0;break;case"scroll":case"scrollend":$=l0;break;case"wheel":$=R0;break;case"copy":case"cut":case"paste":$=h0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Cf;break;case"toggle":case"beforetoggle":$=A0}var be=(t&4)!==0,We=!be&&(e==="scroll"||e==="scrollend"),D=be?N!==null?N+"Capture":null:N;be=[];for(var j=M,k;j!==null;){var G=j;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||D===null||(G=Hi(j,D),G!=null&&be.push(vl(j,G,k))),We)break;j=j.return}0<be.length&&(N=new $(N,se,null,r,V),Y.push({event:N,listeners:be}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",N&&r!==lu&&(se=r.relatedTarget||r.fromElement)&&(qe(se)||se[ce]))break e;if(($||N)&&(N=V.window===V?V:(N=V.ownerDocument)?N.defaultView||N.parentWindow:window,$?(se=r.relatedTarget||r.toElement,$=M,se=se?qe(se):null,se!==null&&(We=u(se),be=se.tag,se!==We||be!==5&&be!==27&&be!==6)&&(se=null)):($=null,se=M),$!==se)){if(be=jf,G="onMouseLeave",D="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(be=Cf,G="onPointerLeave",D="onPointerEnter",j="pointer"),We=$==null?N:Qt($),k=se==null?N:Qt(se),N=new be(G,j+"leave",$,r,V),N.target=We,N.relatedTarget=k,G=null,qe(V)===M&&(be=new be(D,j+"enter",se,r,V),be.target=k,be.relatedTarget=We,G=be),We=G,$&&se)t:{for(be=jb,D=$,j=se,k=0,G=D;G;G=be(G))k++;G=0;for(var ge=j;ge;ge=be(ge))G++;for(;0<k-G;)D=be(D),k--;for(;0<G-k;)j=be(j),G--;for(;k--;){if(D===j||j!==null&&D===j.alternate){be=D;break t}D=be(D),j=be(j)}be=null}else be=null;$!==null&&_p(Y,N,$,be,!1),se!==null&&We!==null&&_p(Y,We,se,be,!0)}}e:{if(N=M?Qt(M):window,$=N.nodeName&&N.nodeName.toLowerCase(),$==="select"||$==="input"&&N.type==="file")var Ie=Lf;else if(Nf(N))if(Hf)Ie=H0;else{Ie=B0;var ue=N0}else $=N.nodeName,!$||$.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?M&&iu(M.elementType)&&(Ie=Lf):Ie=L0;if(Ie&&(Ie=Ie(e,M))){Bf(Y,Ie,r,V);break e}ue&&ue(e,N,M),e==="focusout"&&M&&N.type==="number"&&M.memoizedProps.value!=null&&au(N,"number",N.value)}switch(ue=M?Qt(M):window,e){case"focusin":(Nf(ue)||ue.contentEditable==="true")&&(qa=ue,bu=M,Ki=null);break;case"focusout":Ki=bu=qa=null;break;case"mousedown":wu=!0;break;case"contextmenu":case"mouseup":case"dragend":wu=!1,Kf(Y,r,V);break;case"selectionchange":if($0)break;case"keydown":case"keyup":Kf(Y,r,V)}var Te;if(pu)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Ha?kf(e,r)&&(ze="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ze="onCompositionStart");ze&&(Df&&r.locale!=="ko"&&(Ha||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Ha&&(Te=Of()):(gr=V,cu="value"in gr?gr.value:gr.textContent,Ha=!0)),ue=Xs(M,ze),0<ue.length&&(ze=new Af(ze,e,null,r,V),Y.push({event:ze,listeners:ue}),Te?ze.data=Te:(Te=Mf(r),Te!==null&&(ze.data=Te)))),(Te=D0?z0(e,r):U0(e,r))&&(ze=Xs(M,"onBeforeInput"),0<ze.length&&(ue=new Af("onBeforeInput","beforeinput",null,r,V),Y.push({event:ue,listeners:ze}),ue.data=Te)),xb(Y,e,M,r,V)}bp(Y,t)})}function vl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Xs(e,t){for(var r=t+"Capture",s=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Hi(e,r),c!=null&&s.unshift(vl(e,c,f)),c=Hi(e,t),c!=null&&s.push(vl(e,c,f))),e.tag===3)return s;e=e.return}return[]}function jb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _p(e,t,r,s,c){for(var f=t._reactName,g=[];r!==null&&r!==s;){var b=r,x=b.alternate,M=b.stateNode;if(b=b.tag,x!==null&&x===s)break;b!==5&&b!==26&&b!==27||M===null||(x=M,c?(M=Hi(r,f),M!=null&&g.unshift(vl(r,M,x))):c||(M=Hi(r,f),M!=null&&g.push(vl(r,M,x)))),r=r.return}g.length!==0&&e.push({event:t,listeners:g})}var Ab=/\r\n?/g,Cb=/\u0000|\uFFFD/g;function Sp(e){return(typeof e=="string"?e:""+e).replace(Ab,`
`).replace(Cb,"")}function Ep(e,t){return t=Sp(t),Sp(e)===t}function Xe(e,t,r,s,c,f){switch(r){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Na(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Na(e,""+s);break;case"className":fn(e,"class",s);break;case"tabIndex":fn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,r,s);break;case"style":Ef(e,s,f);break;case"data":if(t!=="object"){fn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(r);break}s=ns(""+s),e.setAttribute(r,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(t!=="input"&&Xe(e,t,"name",c.name,c,null),Xe(e,t,"formEncType",c.formEncType,c,null),Xe(e,t,"formMethod",c.formMethod,c,null),Xe(e,t,"formTarget",c.formTarget,c,null)):(Xe(e,t,"encType",c.encType,c,null),Xe(e,t,"method",c.method,c,null),Xe(e,t,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(r);break}s=ns(""+s),e.setAttribute(r,s);break;case"onClick":s!=null&&(e.onclick=Jn);break;case"onScroll":s!=null&&Ae("scroll",e);break;case"onScrollEnd":s!=null&&Ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(r=s.__html,r!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}r=ns(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(r,""+s):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":s===!0?e.setAttribute(r,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(r,s):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(r,s):e.removeAttribute(r);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(r):e.setAttribute(r,s);break;case"popover":Ae("beforetoggle",e),Ae("toggle",e),An(e,"popover",s);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":An(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=a0.get(r)||r,An(e,r,s))}}function Gc(e,t,r,s,c,f){switch(r){case"style":Ef(e,s,f);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(r=s.__html,r!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"children":typeof s=="string"?Na(e,s):(typeof s=="number"||typeof s=="bigint")&&Na(e,""+s);break;case"onScroll":s!=null&&Ae("scroll",e);break;case"onScrollEnd":s!=null&&Ae("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),t=r.slice(2,c?r.length-7:void 0),f=e[ne]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof s=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,s,c);break e}r in e?e[r]=s:s===!0?e.setAttribute(r,""):An(e,r,s)}}}function Dt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",e),Ae("load",e);var s=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Xe(e,t,f,g,r,null)}}c&&Xe(e,t,"srcSet",r.srcSet,r,null),s&&Xe(e,t,"src",r.src,r,null);return;case"input":Ae("invalid",e);var b=f=g=c=null,x=null,M=null;for(s in r)if(r.hasOwnProperty(s)){var V=r[s];if(V!=null)switch(s){case"name":c=V;break;case"type":g=V;break;case"checked":x=V;break;case"defaultChecked":M=V;break;case"value":f=V;break;case"defaultValue":b=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(l(137,t));break;default:Xe(e,t,s,V,r,null)}}bf(e,f,b,x,M,g,c,!1);return;case"select":Ae("invalid",e),s=g=f=null;for(c in r)if(r.hasOwnProperty(c)&&(b=r[c],b!=null))switch(c){case"value":f=b;break;case"defaultValue":g=b;break;case"multiple":s=b;default:Xe(e,t,c,b,r,null)}t=f,r=g,e.multiple=!!s,t!=null?Ma(e,!!s,t,!1):r!=null&&Ma(e,!!s,r,!0);return;case"textarea":Ae("invalid",e),f=c=s=null;for(g in r)if(r.hasOwnProperty(g)&&(b=r[g],b!=null))switch(g){case"value":s=b;break;case"defaultValue":c=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:Xe(e,t,g,b,r,null)}_f(e,s,c,f);return;case"option":for(x in r)if(r.hasOwnProperty(x)&&(s=r[x],s!=null))switch(x){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Xe(e,t,x,s,r,null)}return;case"dialog":Ae("beforetoggle",e),Ae("toggle",e),Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":Ae("load",e);break;case"video":case"audio":for(s=0;s<yl.length;s++)Ae(yl[s],e);break;case"image":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"embed":case"source":case"link":Ae("error",e),Ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in r)if(r.hasOwnProperty(M)&&(s=r[M],s!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Xe(e,t,M,s,r,null)}return;default:if(iu(t)){for(V in r)r.hasOwnProperty(V)&&(s=r[V],s!==void 0&&Gc(e,t,V,s,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(s=r[b],s!=null&&Xe(e,t,b,s,r,null))}function Db(e,t,r,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,b=null,x=null,M=null,V=null;for($ in r){var Y=r[$];if(r.hasOwnProperty($)&&Y!=null)switch($){case"checked":break;case"value":break;case"defaultValue":x=Y;default:s.hasOwnProperty($)||Xe(e,t,$,null,s,Y)}}for(var N in s){var $=s[N];if(Y=r[N],s.hasOwnProperty(N)&&($!=null||Y!=null))switch(N){case"type":f=$;break;case"name":c=$;break;case"checked":M=$;break;case"defaultChecked":V=$;break;case"value":g=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:$!==Y&&Xe(e,t,N,$,s,Y)}}ru(e,g,b,x,M,V,f,c);return;case"select":$=g=b=N=null;for(f in r)if(x=r[f],r.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":$=x;default:s.hasOwnProperty(f)||Xe(e,t,f,null,s,x)}for(c in s)if(f=s[c],x=r[c],s.hasOwnProperty(c)&&(f!=null||x!=null))switch(c){case"value":N=f;break;case"defaultValue":b=f;break;case"multiple":g=f;default:f!==x&&Xe(e,t,c,f,s,x)}t=b,r=g,s=$,N!=null?Ma(e,!!r,N,!1):!!s!=!!r&&(t!=null?Ma(e,!!r,t,!0):Ma(e,!!r,r?[]:"",!1));return;case"textarea":$=N=null;for(b in r)if(c=r[b],r.hasOwnProperty(b)&&c!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Xe(e,t,b,null,s,c)}for(g in s)if(c=s[g],f=r[g],s.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":N=c;break;case"defaultValue":$=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==f&&Xe(e,t,g,c,s,f)}wf(e,N,$);return;case"option":for(var se in r)if(N=r[se],r.hasOwnProperty(se)&&N!=null&&!s.hasOwnProperty(se))switch(se){case"selected":e.selected=!1;break;default:Xe(e,t,se,null,s,N)}for(x in s)if(N=s[x],$=r[x],s.hasOwnProperty(x)&&N!==$&&(N!=null||$!=null))switch(x){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Xe(e,t,x,N,s,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in r)N=r[be],r.hasOwnProperty(be)&&N!=null&&!s.hasOwnProperty(be)&&Xe(e,t,be,null,s,N);for(M in s)if(N=s[M],$=r[M],s.hasOwnProperty(M)&&N!==$&&(N!=null||$!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(137,t));break;default:Xe(e,t,M,N,s,$)}return;default:if(iu(t)){for(var We in r)N=r[We],r.hasOwnProperty(We)&&N!==void 0&&!s.hasOwnProperty(We)&&Gc(e,t,We,void 0,s,N);for(V in s)N=s[V],$=r[V],!s.hasOwnProperty(V)||N===$||N===void 0&&$===void 0||Gc(e,t,V,N,s,$);return}}for(var D in r)N=r[D],r.hasOwnProperty(D)&&N!=null&&!s.hasOwnProperty(D)&&Xe(e,t,D,null,s,N);for(Y in s)N=s[Y],$=r[Y],!s.hasOwnProperty(Y)||N===$||N==null&&$==null||Xe(e,t,Y,N,s,$)}function xp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),s=0;s<r.length;s++){var c=r[s],f=c.transferSize,g=c.initiatorType,b=c.duration;if(f&&b&&xp(g)){for(g=0,b=c.responseEnd,s+=1;s<r.length;s++){var x=r[s],M=x.startTime;if(M>b)break;var V=x.transferSize,Y=x.initiatorType;V&&xp(Y)&&(x=x.responseEnd,g+=V*(x<b?1:(b-M)/(x-M)))}if(--s,t+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yc=null,Kc=null;function Ws(e){return e.nodeType===9?e:e.ownerDocument}function Tp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Op(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qc=null;function Ub(){var e=window.event;return e&&e.type==="popstate"?e===Qc?!1:(Qc=e,!0):(Qc=null,!1)}var Rp=typeof setTimeout=="function"?setTimeout:void 0,kb=typeof clearTimeout=="function"?clearTimeout:void 0,jp=typeof Promise=="function"?Promise:void 0,Mb=typeof queueMicrotask=="function"?queueMicrotask:typeof jp<"u"?function(e){return jp.resolve(null).then(e).catch(Nb)}:Rp;function Nb(e){setTimeout(function(){throw e})}function Ur(e){return e==="head"}function Ap(e,t){var r=t,s=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(s===0){e.removeChild(c),hi(t);return}s--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")s++;else if(r==="html")bl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,bl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,b=f.nodeName;f[tt]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&bl(e.ownerDocument.body);r=c}while(r);hi(t)}function Cp(e,t){var r=e;e=0;do{var s=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=s}while(r)}function Xc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Xc(r),ot(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Bb(e,t,r,s){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[tt])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=wn(e.nextSibling),e===null)break}return null}function Lb(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=wn(e.nextSibling),e===null))return null;return e}function Dp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=wn(e.nextSibling),e===null))return null;return e}function Wc(e){return e.data==="$?"||e.data==="$~"}function Zc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hb(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var s=function(){t(),r.removeEventListener("DOMContentLoaded",s)};r.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Fc=null;function zp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return wn(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Up(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function kp(e,t,r){switch(t=Ws(r),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function bl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ot(e)}var _n=new Map,Mp=new Set;function Zs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var cr=J.d;J.d={f:qb,r:$b,D:Pb,C:Ib,L:Vb,m:Gb,X:Kb,S:Yb,M:Jb};function qb(){var e=cr.f(),t=Is();return e||t}function $b(e){var t=$e(e);t!==null&&t.tag===5&&t.type==="form"?Zh(t):cr.r(e)}var ci=typeof document>"u"?null:document;function Np(e,t,r){var s=ci;if(s&&typeof t=="string"&&t){var c=hn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Mp.has(c)||(Mp.add(c),e={rel:e,crossOrigin:r,href:t},s.querySelector(c)===null&&(t=s.createElement("link"),Dt(t,"link",e),Ze(t),s.head.appendChild(t)))}}function Pb(e){cr.D(e),Np("dns-prefetch",e,null)}function Ib(e,t){cr.C(e,t),Np("preconnect",e,t)}function Vb(e,t,r){cr.L(e,t,r);var s=ci;if(s&&e&&t){var c='link[rel="preload"][as="'+hn(t)+'"]';t==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+hn(r.imageSizes)+'"]')):c+='[href="'+hn(e)+'"]';var f=c;switch(t){case"style":f=di(e);break;case"script":f=fi(e)}_n.has(f)||(e=v({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),_n.set(f,e),s.querySelector(c)!==null||t==="style"&&s.querySelector(wl(f))||t==="script"&&s.querySelector(_l(f))||(t=s.createElement("link"),Dt(t,"link",e),Ze(t),s.head.appendChild(t)))}}function Gb(e,t){cr.m(e,t);var r=ci;if(r&&e){var s=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+hn(s)+'"][href="'+hn(e)+'"]',f=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fi(e)}if(!_n.has(f)&&(e=v({rel:"modulepreload",href:e},t),_n.set(f,e),r.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(_l(f)))return}s=r.createElement("link"),Dt(s,"link",e),Ze(s),r.head.appendChild(s)}}}function Yb(e,t,r){cr.S(e,t,r);var s=ci;if(s&&e){var c=dn(s).hoistableStyles,f=di(e);t=t||"default";var g=c.get(f);if(!g){var b={loading:0,preload:null};if(g=s.querySelector(wl(f)))b.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},r),(r=_n.get(f))&&ed(e,r);var x=g=s.createElement("link");Ze(x),Dt(x,"link",e),x._p=new Promise(function(M,V){x.onload=M,x.onerror=V}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Fs(g,t,s)}g={type:"stylesheet",instance:g,count:1,state:b},c.set(f,g)}}}function Kb(e,t){cr.X(e,t);var r=ci;if(r&&e){var s=dn(r).hoistableScripts,c=fi(e),f=s.get(c);f||(f=r.querySelector(_l(c)),f||(e=v({src:e,async:!0},t),(t=_n.get(c))&&td(e,t),f=r.createElement("script"),Ze(f),Dt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(c,f))}}function Jb(e,t){cr.M(e,t);var r=ci;if(r&&e){var s=dn(r).hoistableScripts,c=fi(e),f=s.get(c);f||(f=r.querySelector(_l(c)),f||(e=v({src:e,async:!0,type:"module"},t),(t=_n.get(c))&&td(e,t),f=r.createElement("script"),Ze(f),Dt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(c,f))}}function Bp(e,t,r,s){var c=(c=_e.current)?Zs(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=di(r.href),r=dn(c).hoistableStyles,s=r.get(t),s||(s={type:"style",instance:null,count:0,state:null},r.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=di(r.href);var f=dn(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(wl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),_n.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},_n.set(e,r),f||Qb(c,e,r,g.state))),t&&s===null)throw Error(l(528,""));return g}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fi(r),r=dn(c).hoistableScripts,s=r.get(t),s||(s={type:"script",instance:null,count:0,state:null},r.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function di(e){return'href="'+hn(e)+'"'}function wl(e){return'link[rel="stylesheet"]['+e+"]"}function Lp(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Qb(e,t,r,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Dt(t,"link",r),Ze(t),e.head.appendChild(t))}function fi(e){return'[src="'+hn(e)+'"]'}function _l(e){return"script[async]"+e}function Hp(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+hn(r.href)+'"]');if(s)return t.instance=s,Ze(s),s;var c=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ze(s),Dt(s,"style",c),Fs(s,r.precedence,e),t.instance=s;case"stylesheet":c=di(r.href);var f=e.querySelector(wl(c));if(f)return t.state.loading|=4,t.instance=f,Ze(f),f;s=Lp(r),(c=_n.get(c))&&ed(s,c),f=(e.ownerDocument||e).createElement("link"),Ze(f);var g=f;return g._p=new Promise(function(b,x){g.onload=b,g.onerror=x}),Dt(f,"link",s),t.state.loading|=4,Fs(f,r.precedence,e),t.instance=f;case"script":return f=fi(r.src),(c=e.querySelector(_l(f)))?(t.instance=c,Ze(c),c):(s=r,(c=_n.get(f))&&(s=v({},r),td(s,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ze(c),Dt(c,"link",s),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Fs(s,r.precedence,e));return t.instance}function Fs(e,t,r){for(var s=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,f=c,g=0;g<s.length;g++){var b=s[g];if(b.dataset.precedence===t)f=b;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function ed(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function td(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var eo=null;function qp(e,t,r){if(eo===null){var s=new Map,c=eo=new Map;c.set(r,s)}else c=eo,s=c.get(r),s||(s=new Map,c.set(r,s));if(s.has(e))return s;for(s.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[tt]||f[ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(t)||"";g=e+g;var b=s.get(g);b?b.push(f):s.set(g,[f])}}return s}function $p(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function Xb(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Pp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Wb(e,t,r,s){if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=di(s.href),f=t.querySelector(wl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=to.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=f,Ze(f);return}f=t.ownerDocument||t,s=Lp(s),(c=_n.get(c))&&ed(s,c),f=f.createElement("link"),Ze(f);var g=f;g._p=new Promise(function(b,x){g.onload=b,g.onerror=x}),Dt(f,"link",s),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=to.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var nd=0;function Zb(e,t){return e.stylesheets&&e.count===0&&ro(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var s=setTimeout(function(){if(e.stylesheets&&ro(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&nd===0&&(nd=62500*zb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ro(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>nd?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(c)}}:null}function to(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ro(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var no=null;function ro(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,no=new Map,t.forEach(Fb,e),no=null,to.call(e))}function Fb(e,t){if(!(t.state.loading&4)){var r=no.get(e);if(r)var s=r.get(null);else{r=new Map,no.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),s=g)}s&&r.set(null,s)}c=t.instance,g=c.getAttribute("data-precedence"),f=r.get(g)||s,f===s&&r.set(null,c),r.set(g,c),this.count++,s=to.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Sl={$$typeof:H,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function ew(e,t,r,s,c,f,g,b,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mr(0),this.hiddenUpdates=mr(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Ip(e,t,r,s,c,f,g,b,x,M,V,Y){return e=new ew(e,t,r,g,x,M,V,Y,b),t=1,f===!0&&(t|=24),f=Ft(3,null,null,t),e.current=f,f.stateNode=e,t=Mu(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:s,isDehydrated:r,cache:t},Hu(f),e}function Vp(e){return e?(e=Ia,e):Ia}function Gp(e,t,r,s,c,f){c=Vp(c),s.context===null?s.context=c:s.pendingContext=c,s=Sr(t),s.payload={element:r},f=f===void 0?null:f,f!==null&&(s.callback=f),r=Er(e,s,t),r!==null&&(Kt(r,e,t),el(r,e,t))}function Yp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function rd(e,t){Yp(e,t),(e=e.alternate)&&Yp(e,t)}function Kp(e){if(e.tag===13||e.tag===31){var t=la(e,67108864);t!==null&&Kt(t,e,67108864),rd(e,67108864)}}function Jp(e){if(e.tag===13||e.tag===31){var t=an();t=L(t);var r=la(e,t);r!==null&&Kt(r,e,t),rd(e,t)}}var ao=!0;function tw(e,t,r,s){var c=P.T;P.T=null;var f=J.p;try{J.p=2,ad(e,t,r,s)}finally{J.p=f,P.T=c}}function nw(e,t,r,s){var c=P.T;P.T=null;var f=J.p;try{J.p=8,ad(e,t,r,s)}finally{J.p=f,P.T=c}}function ad(e,t,r,s){if(ao){var c=id(s);if(c===null)Vc(e,t,s,io,r),Xp(e,s);else if(aw(c,e,t,r,s))s.stopPropagation();else if(Xp(e,s),t&4&&-1<rw.indexOf(e)){for(;c!==null;){var f=$e(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Kn(f.pendingLanes);if(g!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var x=1<<31-Ut(g);b.entanglements[1]|=x,g&=~x}$n(f),(Ge&6)===0&&($s=ft()+500,gl(0))}}break;case 31:case 13:b=la(f,2),b!==null&&Kt(b,f,2),Is(),rd(f,2)}if(f=id(s),f===null&&Vc(e,t,s,io,r),f===c)break;c=f}c!==null&&s.stopPropagation()}else Vc(e,t,s,null,r)}}function id(e){return e=su(e),ld(e)}var io=null;function ld(e){if(io=null,e=qe(e),e!==null){var t=u(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=d(t),e!==null)return e;e=null}else if(r===31){if(e=h(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return io=e,null}function Qp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xr()){case Mi:return 2;case za:return 8;case qt:case Rn:return 32;case Ni:return 268435456;default:return 32}default:return 32}}var sd=!1,kr=null,Mr=null,Nr=null,El=new Map,xl=new Map,Br=[],rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xp(e,t){switch(e){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":El.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(t.pointerId)}}function Tl(e,t,r,s,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:f,targetContainers:[c]},t!==null&&(t=$e(t),t!==null&&Kp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function aw(e,t,r,s,c){switch(t){case"focusin":return kr=Tl(kr,e,t,r,s,c),!0;case"dragenter":return Mr=Tl(Mr,e,t,r,s,c),!0;case"mouseover":return Nr=Tl(Nr,e,t,r,s,c),!0;case"pointerover":var f=c.pointerId;return El.set(f,Tl(El.get(f)||null,e,t,r,s,c)),!0;case"gotpointercapture":return f=c.pointerId,xl.set(f,Tl(xl.get(f)||null,e,t,r,s,c)),!0}return!1}function Wp(e){var t=qe(e.target);if(t!==null){var r=u(t);if(r!==null){if(t=r.tag,t===13){if(t=d(r),t!==null){e.blockedOn=t,de(e.priority,function(){Jp(r)});return}}else if(t===31){if(t=h(r),t!==null){e.blockedOn=t,de(e.priority,function(){Jp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=id(e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);lu=s,r.target.dispatchEvent(s),lu=null}else return t=$e(r),t!==null&&Kp(t),e.blockedOn=r,!1;t.shift()}return!0}function Zp(e,t,r){lo(e)&&r.delete(t)}function iw(){sd=!1,kr!==null&&lo(kr)&&(kr=null),Mr!==null&&lo(Mr)&&(Mr=null),Nr!==null&&lo(Nr)&&(Nr=null),El.forEach(Zp),xl.forEach(Zp)}function so(e,t){e.blockedOn===t&&(e.blockedOn=null,sd||(sd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,iw)))}var oo=null;function Fp(e){oo!==e&&(oo=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){oo===e&&(oo=null);for(var t=0;t<e.length;t+=3){var r=e[t],s=e[t+1],c=e[t+2];if(typeof s!="function"){if(ld(s||r)===null)continue;break}var f=$e(r);f!==null&&(e.splice(t,3),t-=3,ic(f,{pending:!0,data:c,method:r.method,action:s},s,c))}}))}function hi(e){function t(x){return so(x,e)}kr!==null&&so(kr,e),Mr!==null&&so(Mr,e),Nr!==null&&so(Nr,e),El.forEach(t),xl.forEach(t);for(var r=0;r<Br.length;r++){var s=Br[r];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Br.length&&(r=Br[0],r.blockedOn===null);)Wp(r),r.blockedOn===null&&Br.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(s=0;s<r.length;s+=3){var c=r[s],f=r[s+1],g=c[ne]||null;if(typeof f=="function")g||Fp(r);else if(g){var b=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[ne]||null)b=g.formAction;else if(ld(c)!==null)continue}else b=g.action;typeof b=="function"?r[s+1]=b:(r.splice(s,3),s-=3),Fp(r)}}}function eg(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),s||setTimeout(r,20)}function r(){if(!s&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function od(e){this._internalRoot=e}uo.prototype.render=od.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var r=t.current,s=an();Gp(r,s,e,t,null,null)},uo.prototype.unmount=od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gp(e.current,2,null,e,null,null),Is(),t[ce]=null}};function uo(e){this._internalRoot=e}uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=W();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Br.length&&t!==0&&t<Br[r].priority;r++);Br.splice(r,0,e),r===0&&Wp(e)}};var tg=n.version;if(tg!=="19.2.1")throw Error(l(527,tg,"19.2.1"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var lw={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{Wr=co.inject(lw),lt=co}catch{}}return Rl.createRoot=function(e,t){if(!o(e))throw Error(l(299));var r=!1,s="",c=om,f=um,g=cm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Ip(e,1,!1,null,null,r,s,null,c,f,g,eg),e[ce]=t.current,Ic(e),new od(t)},Rl.hydrateRoot=function(e,t,r){if(!o(e))throw Error(l(299));var s=!1,c="",f=om,g=um,b=cm,x=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(x=r.formState)),t=Ip(e,1,!0,t,r??null,s,c,x,f,g,b,eg),t.context=Vp(null),r=t.current,s=an(),s=L(s),c=Sr(s),c.callback=null,Er(r,c,s),r=s,t.current.lanes=r,pr(t,r),$n(t),e[ce]=t.current,Ic(e),new uo(t)},Rl.version="19.2.1",Rl}var dg;function yw(){if(dg)return dd.exports;dg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),dd.exports=gw(),dd.exports}var vw=yw();var jy=a=>{throw TypeError(a)},bw=(a,n,i)=>n.has(a)||jy("Cannot "+i),pd=(a,n,i)=>(bw(a,n,"read from private field"),i?i.call(a):n.get(a)),ww=(a,n,i)=>n.has(a)?jy("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(a):n.set(a,i),fg="popstate";function _w(a={}){function n(l,o){let{pathname:u,search:d,hash:h}=l.location;return Ll("",{pathname:u,search:d,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(l,o){return typeof o=="string"?o:In(o)}return Ew(n,i,null,a)}function Re(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function pt(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Sw(){return Math.random().toString(36).substring(2,10)}function hg(a,n){return{usr:a.state,key:a.key,idx:n}}function Ll(a,n,i=null,l){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof n=="string"?Gr(n):n,state:i,key:n&&n.key||l||Sw()}}function In({pathname:a="/",search:n="",hash:i=""}){return n&&n!=="?"&&(a+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Gr(a){let n={};if(a){let i=a.indexOf("#");i>=0&&(n.hash=a.substring(i),a=a.substring(0,i));let l=a.indexOf("?");l>=0&&(n.search=a.substring(l),a=a.substring(0,l)),a&&(n.pathname=a)}return n}function Ew(a,n,i,l={}){let{window:o=document.defaultView,v5Compat:u=!1}=l,d=o.history,h="POP",m=null,p=y();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function y(){return(d.state||{idx:null}).idx}function v(){h="POP";let C=y(),B=C==null?null:C-p;p=C,m&&m({action:h,location:A.location,delta:B})}function S(C,B){h="PUSH";let q=Ll(A.location,C,B);p=y()+1;let H=hg(q,p),Q=A.createHref(q);try{d.pushState(H,"",Q)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;o.location.assign(Q)}u&&m&&m({action:h,location:A.location,delta:1})}function w(C,B){h="REPLACE";let q=Ll(A.location,C,B);p=y();let H=hg(q,p),Q=A.createHref(q);d.replaceState(H,"",Q),u&&m&&m({action:h,location:A.location,delta:0})}function E(C){return Ay(C)}let A={get action(){return h},get location(){return a(o,d)},listen(C){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(fg,v),m=C,()=>{o.removeEventListener(fg,v),m=null}},createHref(C){return n(o,C)},createURL:E,encodeLocation(C){let B=E(C);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:S,replace:w,go(C){return d.go(C)}};return A}function Ay(a,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Re(i,"No window.location.(origin|href) available to create URL");let l=typeof a=="string"?a:In(a);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=i+l),new URL(l,i)}var Ul,mg=class{constructor(a){if(ww(this,Ul,new Map),a)for(let[n,i]of a)this.set(n,i)}get(a){if(pd(this,Ul).has(a))return pd(this,Ul).get(a);if(a.defaultValue!==void 0)return a.defaultValue;throw new Error("No value found for context")}set(a,n){pd(this,Ul).set(a,n)}};Ul=new WeakMap;var xw=new Set(["lazy","caseSensitive","path","id","index","children"]);function Tw(a){return xw.has(a)}var Ow=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Rw(a){return Ow.has(a)}function jw(a){return a.index===!0}function Hl(a,n,i=[],l={},o=!1){return a.map((u,d)=>{let h=[...i,String(d)],m=typeof u.id=="string"?u.id:h.join("-");if(Re(u.index!==!0||!u.children,"Cannot specify children on an index route"),Re(o||!l[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),jw(u)){let p={...u,id:m};return l[m]=pg(p,n(p)),p}else{let p={...u,id:m,children:void 0};return l[m]=pg(p,n(p)),u.children&&(p.children=Hl(u.children,n,h,l,o)),p}})}function pg(a,n){return Object.assign(a,{...n,...typeof n.lazy=="object"&&n.lazy!=null?{lazy:{...a.lazy,...n.lazy}}:{}})}function qr(a,n,i="/"){return kl(a,n,i,!1)}function kl(a,n,i,l){let o=typeof n=="string"?Gr(n):n,u=Tn(o.pathname||"/",i);if(u==null)return null;let d=Cy(a);Cw(d);let h=null;for(let m=0;h==null&&m<d.length;++m){let p=$w(u);h=Hw(d[m],p,l)}return h}function Aw(a,n){let{route:i,pathname:l,params:o}=a;return{id:i.id,pathname:l,params:o,data:n[i.id],loaderData:n[i.id],handle:i.handle}}function Cy(a,n=[],i=[],l="",o=!1){let u=(d,h,m=o,p)=>{let y={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(l)&&m)return;Re(y.relativePath.startsWith(l),`Absolute route path "${y.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(l.length)}let v=Pn([l,y.relativePath]),S=i.concat(y);d.children&&d.children.length>0&&(Re(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Cy(d.children,n,S,v,m)),!(d.path==null&&!d.index)&&n.push({path:v,score:Bw(v,d.index),routesMeta:S})};return a.forEach((d,h)=>{if(d.path===""||!d.path?.includes("?"))u(d,h);else for(let m of Dy(d.path))u(d,h,!0,m)}),n}function Dy(a){let n=a.split("/");if(n.length===0)return[];let[i,...l]=n,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(l.length===0)return o?[u,""]:[u];let d=Dy(l.join("/")),h=[];return h.push(...d.map(m=>m===""?u:[u,m].join("/"))),o&&h.push(...d),h.map(m=>a.startsWith("/")&&m===""?"/":m)}function Cw(a){a.sort((n,i)=>n.score!==i.score?i.score-n.score:Lw(n.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var Dw=/^:[\w-]+$/,zw=3,Uw=2,kw=1,Mw=10,Nw=-2,gg=a=>a==="*";function Bw(a,n){let i=a.split("/"),l=i.length;return i.some(gg)&&(l+=Nw),n&&(l+=Uw),i.filter(o=>!gg(o)).reduce((o,u)=>o+(Dw.test(u)?zw:u===""?kw:Mw),l)}function Lw(a,n){return a.length===n.length&&a.slice(0,-1).every((l,o)=>l===n[o])?a[a.length-1]-n[n.length-1]:0}function Hw(a,n,i=!1){let{routesMeta:l}=a,o={},u="/",d=[];for(let h=0;h<l.length;++h){let m=l[h],p=h===l.length-1,y=u==="/"?n:n.slice(u.length)||"/",v=Uo({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),S=m.route;if(!v&&p&&i&&!l[l.length-1].route.index&&(v=Uo({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),d.push({params:o,pathname:Pn([u,v.pathname]),pathnameBase:Gw(Pn([u,v.pathnameBase])),route:S}),v.pathnameBase!=="/"&&(u=Pn([u,v.pathnameBase]))}return d}function Uo(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,l]=qw(a.path,a.caseSensitive,a.end),o=n.match(i);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:l.reduce((p,{paramName:y,isOptional:v},S)=>{if(y==="*"){let E=h[S]||"";d=u.slice(0,u.length-E.length).replace(/(.)\/+$/,"$1")}const w=h[S];return v&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:a}}function qw(a,n=!1,i=!0){pt(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let l=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,m)=>(l.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(l.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),l]}function $w(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return pt(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),a}}function Tn(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,l=a.charAt(i);return l&&l!=="/"?null:a.slice(i)||"/"}function Pw({basename:a,pathname:n}){return n==="/"?a:Pn([a,n])}var Iw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$o=a=>Iw.test(a);function Vw(a,n="/"){let{pathname:i,search:l="",hash:o=""}=typeof a=="string"?Gr(a):a,u;if(i)if($o(i))u=i;else{if(i.includes("//")){let d=i;i=i.replace(/\/\/+/g,"/"),pt(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${i}`)}i.startsWith("/")?u=yg(i.substring(1),"/"):u=yg(i,n)}else u=n;return{pathname:u,search:Yw(l),hash:Kw(o)}}function yg(a,n){let i=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function gd(a,n,i,l){return`Cannot include a '${a}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zy(a){return a.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function Xd(a){let n=zy(a);return n.map((i,l)=>l===n.length-1?i.pathname:i.pathnameBase)}function Wd(a,n,i,l=!1){let o;typeof a=="string"?o=Gr(a):(o={...a},Re(!o.pathname||!o.pathname.includes("?"),gd("?","pathname","search",o)),Re(!o.pathname||!o.pathname.includes("#"),gd("#","pathname","hash",o)),Re(!o.search||!o.search.includes("#"),gd("#","search","hash",o)));let u=a===""||o.pathname==="",d=u?"/":o.pathname,h;if(d==null)h=i;else{let v=n.length-1;if(!l&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),v-=1;o.pathname=S.join("/")}h=v>=0?n[v]:"/"}let m=Vw(o,h),p=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Pn=a=>a.join("/").replace(/\/\/+/g,"/"),Gw=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Yw=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Kw=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,Po=class{constructor(a,n,i,l=!1){this.status=a,this.statusText=n||"",this.internal=l,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function ql(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function Gl(a){return a.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Vr=Symbol("Uninstrumented");function Jw(a,n){let i={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};a.forEach(o=>o({id:n.id,index:n.index,path:n.path,instrument(u){let d=Object.keys(i);for(let h of d)u[h]&&i[h].push(u[h])}}));let l={};if(typeof n.lazy=="function"&&i.lazy.length>0){let o=Ei(i.lazy,n.lazy,()=>{});o&&(l.lazy=o)}if(typeof n.lazy=="object"){let o=n.lazy;["middleware","loader","action"].forEach(u=>{let d=o[u],h=i[`lazy.${u}`];if(typeof d=="function"&&h.length>0){let m=Ei(h,d,()=>{});m&&(l.lazy=Object.assign(l.lazy||{},{[u]:m}))}})}return["loader","action"].forEach(o=>{let u=n[o];if(typeof u=="function"&&i[o].length>0){let d=u[Vr]??u,h=Ei(i[o],d,(...m)=>vg(m[0]));h&&(h[Vr]=d,l[o]=h)}}),n.middleware&&n.middleware.length>0&&i.middleware.length>0&&(l.middleware=n.middleware.map(o=>{let u=o[Vr]??o,d=Ei(i.middleware,u,(...h)=>vg(h[0]));return d?(d[Vr]=u,d):o})),l}function Qw(a,n){let i={navigate:[],fetch:[]};if(n.forEach(l=>l({instrument(o){let u=Object.keys(o);for(let d of u)o[d]&&i[d].push(o[d])}})),i.navigate.length>0){let l=a.navigate[Vr]??a.navigate,o=Ei(i.navigate,l,(...u)=>{let[d,h]=u;return{to:typeof d=="number"||typeof d=="string"?d:d?In(d):".",...bg(a,h??{})}});o&&(o[Vr]=l,a.navigate=o)}if(i.fetch.length>0){let l=a.fetch[Vr]??a.fetch,o=Ei(i.fetch,l,(...u)=>{let[d,,h,m]=u;return{href:h??".",fetcherKey:d,...bg(a,m??{})}});o&&(o[Vr]=l,a.fetch=o)}return a}function Ei(a,n,i){return a.length===0?null:async(...l)=>{let o=await Uy(a,i(...l),()=>n(...l),a.length-1);if(o.type==="error")throw o.value;return o.value}}async function Uy(a,n,i,l){let o=a[l],u;if(o){let d,h=async()=>(d?console.error("You cannot call instrumented handlers more than once"):d=Uy(a,n,i,l-1),u=await d,Re(u,"Expected a result"),u.type==="error"&&u.value instanceof Error?{status:"error",error:u.value}:{status:"success",error:void 0});try{await o(h,n)}catch(m){console.error("An instrumentation function threw an error:",m)}d||await h(),await d}else try{u={type:"success",value:await i()}}catch(d){u={type:"error",value:d}}return u||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function vg(a){let{request:n,context:i,params:l,unstable_pattern:o}=a;return{request:Xw(n),params:{...l},unstable_pattern:o,context:Ww(i)}}function bg(a,n){return{currentUrl:In(a.state.location),..."formMethod"in n?{formMethod:n.formMethod}:{},..."formEncType"in n?{formEncType:n.formEncType}:{},..."formData"in n?{formData:n.formData}:{},..."body"in n?{body:n.body}:{}}}function Xw(a){return{method:a.method,url:a.url,headers:{get:(...n)=>a.headers.get(...n)}}}function Ww(a){if(Fw(a)){let n={...a};return Object.freeze(n),n}else return{get:n=>a.get(n)}}var Zw=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fw(a){if(a===null||typeof a!="object")return!1;const n=Object.getPrototypeOf(a);return n===Object.prototype||n===null||Object.getOwnPropertyNames(n).sort().join("\0")===Zw}var ky=["POST","PUT","PATCH","DELETE"],e_=new Set(ky),t_=["GET",...ky],n_=new Set(t_),r_=new Set([301,302,303,307,308]),a_=new Set([307,308]),yd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},i_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},l_=a=>({hasErrorBoundary:!!a.hasErrorBoundary}),My="remix-router-transitions",Ny=Symbol("ResetLoaderData");function s_(a){const n=a.window?a.window:typeof window<"u"?window:void 0,i=typeof n<"u"&&typeof n.document<"u"&&typeof n.document.createElement<"u";Re(a.routes.length>0,"You must provide a non-empty routes array to createRouter");let l=a.hydrationRouteProperties||[],o=a.mapRouteProperties||l_,u=o;if(a.unstable_instrumentations){let T=a.unstable_instrumentations;u=U=>({...o(U),...Jw(T.map(L=>L.route).filter(Boolean),U)})}let d={},h=Hl(a.routes,u,void 0,d),m,p=a.basename||"/";p.startsWith("/")||(p=`/${p}`);let y=a.dataStrategy||f_,v={...a.future},S=null,w=new Set,E=null,A=null,C=null,B=a.hydrationData!=null,q=qr(h,a.history.location,p),H=!1,Q=null,Z;if(q==null&&!a.patchRoutesOnNavigation){let T=En(404,{pathname:a.history.location.pathname}),{matches:U,route:L}=fo(h);Z=!0,q=U,Q={[L.id]:T}}else if(q&&!a.hydrationData&&ta(q,h,a.history.location.pathname).active&&(q=null),q)if(q.some(T=>T.route.lazy))Z=!1;else if(!q.some(T=>Zd(T.route)))Z=!0;else{let T=a.hydrationData?a.hydrationData.loaderData:null,U=a.hydrationData?a.hydrationData.errors:null;if(U){let L=q.findIndex(K=>U[K.route.id]!==void 0);Z=q.slice(0,L+1).every(K=>!Cd(K.route,T,U))}else Z=q.every(L=>!Cd(L.route,T,U))}else{Z=!1,q=[];let T=ta(null,h,a.history.location.pathname);T.active&&T.matches&&(H=!0,q=T.matches)}let ae,O={historyAction:a.history.action,location:a.history.location,matches:q,initialized:Z,navigation:yd,restoreScrollPosition:a.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:a.hydrationData&&a.hydrationData.loaderData||{},actionData:a.hydrationData&&a.hydrationData.actionData||null,errors:a.hydrationData&&a.hydrationData.errors||Q,fetchers:new Map,blockers:new Map},ye="POP",F=null,fe=!1,ie,He=!1,Be=new Map,Ue=null,Le=!1,P=!1,J=new Set,te=new Map,Ee=0,Oe=-1,R=new Map,I=new Set,X=new Map,re=new Map,ve=new Set,_e=new Map,ke,dt=null;function it(){if(S=a.history.listen(({action:T,location:U,delta:L})=>{if(ke){ke(),ke=void 0;return}pt(_e.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=Zr({currentLocation:O.location,nextLocation:U,historyAction:T});if(K&&L!=null){let W=new Promise(de=>{ke=de});a.history.go(L*-1),Yn(K,{state:"blocked",location:U,proceed(){Yn(K,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),W.then(()=>a.history.go(L))},reset(){let de=new Map(O.blockers);de.set(K,jl),gt({blockers:de})}}),F?.resolve(),F=null;return}return On(T,U)}),i){j_(n,Be);let T=()=>A_(n,Be);n.addEventListener("pagehide",T),Ue=()=>n.removeEventListener("pagehide",T)}return O.initialized||On("POP",O.location,{initialHydration:!0}),ae}function Qr(){S&&S(),Ue&&Ue(),w.clear(),ie&&ie.abort(),O.fetchers.forEach((T,U)=>Bi(U)),O.blockers.forEach((T,U)=>Zl(U))}function Ca(T){return w.add(T),()=>w.delete(T)}function gt(T,U={}){T.matches&&(T.matches=T.matches.map(W=>{let de=d[W.route.id],le=W.route;return le.element!==de.element||le.errorElement!==de.errorElement||le.hydrateFallbackElement!==de.hydrateFallbackElement?{...W,route:de}:W})),O={...O,...T};let L=[],K=[];O.fetchers.forEach((W,de)=>{W.state==="idle"&&(ve.has(de)?L.push(de):K.push(de))}),ve.forEach(W=>{!O.fetchers.has(W)&&!te.has(W)&&L.push(W)}),[...w].forEach(W=>W(O,{deletedFetchers:L,newErrors:T.errors??null,viewTransitionOpts:U.viewTransitionOpts,flushSync:U.flushSync===!0})),L.forEach(W=>Bi(W)),K.forEach(W=>O.fetchers.delete(W))}function Gn(T,U,{flushSync:L}={}){let K=O.actionData!=null&&O.navigation.formMethod!=null&&Ht(O.navigation.formMethod)&&O.navigation.state==="loading"&&T.state?._isRedirect!==!0,W;U.actionData?Object.keys(U.actionData).length>0?W=U.actionData:W=null:K?W=O.actionData:W=null;let de=U.loaderData?Ag(O.loaderData,U.loaderData,U.matches||[],U.errors):O.loaderData,le=O.blockers;le.size>0&&(le=new Map(le),le.forEach((he,pe)=>le.set(pe,jl)));let ee=Le?!1:Fl(T,U.matches||O.matches),ne=fe===!0||O.navigation.formMethod!=null&&Ht(O.navigation.formMethod)&&T.state?._isRedirect!==!0;m&&(h=m,m=void 0),Le||ye==="POP"||(ye==="PUSH"?a.history.push(T,T.state):ye==="REPLACE"&&a.history.replace(T,T.state));let ce;if(ye==="POP"){let he=Be.get(O.location.pathname);he&&he.has(T.pathname)?ce={currentLocation:O.location,nextLocation:T}:Be.has(T.pathname)&&(ce={currentLocation:T,nextLocation:O.location})}else if(He){let he=Be.get(O.location.pathname);he?he.add(T.pathname):(he=new Set([T.pathname]),Be.set(O.location.pathname,he)),ce={currentLocation:O.location,nextLocation:T}}gt({...U,actionData:W,loaderData:de,historyAction:ye,location:T,initialized:!0,navigation:yd,revalidation:"idle",restoreScrollPosition:ee,preventScrollReset:ne,blockers:le},{viewTransitionOpts:ce,flushSync:L===!0}),ye="POP",fe=!1,He=!1,Le=!1,P=!1,F?.resolve(),F=null,dt?.resolve(),dt=null}async function Bn(T,U){if(F?.resolve(),F=null,typeof T=="number"){F||(F=Ug());let Ye=F.promise;return a.history.go(T),Ye}let L=Ad(O.location,O.matches,p,T,U?.fromRouteId,U?.relative),{path:K,submission:W,error:de}=wg(!1,L,U),le=O.location,ee=Ll(O.location,K,U&&U.state);ee={...ee,...a.history.encodeLocation(ee)};let ne=U&&U.replace!=null?U.replace:void 0,ce="PUSH";ne===!0?ce="REPLACE":ne===!1||W!=null&&Ht(W.formMethod)&&W.formAction===O.location.pathname+O.location.search&&(ce="REPLACE");let he=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,pe=(U&&U.flushSync)===!0,Me=Zr({currentLocation:le,nextLocation:ee,historyAction:ce});if(Me){Yn(Me,{state:"blocked",location:ee,proceed(){Yn(Me,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Bn(T,U)},reset(){let Ye=new Map(O.blockers);Ye.set(Me,jl),gt({blockers:Ye})}});return}await On(ce,ee,{submission:W,pendingError:de,preventScrollReset:he,replace:U&&U.replace,enableViewTransition:U&&U.viewTransition,flushSync:pe})}function zi(){dt||(dt=Ug()),za(),gt({revalidation:"loading"});let T=dt.promise;return O.navigation.state==="submitting"?T:O.navigation.state==="idle"?(On(O.historyAction,O.location,{startUninterruptedRevalidation:!0}),T):(On(ye||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation,enableViewTransition:He===!0}),T)}async function On(T,U,L){ie&&ie.abort(),ie=null,ye=T,Le=(L&&L.startUninterruptedRevalidation)===!0,ea(O.location,O.matches),fe=(L&&L.preventScrollReset)===!0,He=(L&&L.enableViewTransition)===!0;let K=m||h,W=L&&L.overrideNavigation,de=L?.initialHydration&&O.matches&&O.matches.length>0&&!H?O.matches:qr(K,U,p),le=(L&&L.flushSync)===!0;if(de&&O.initialized&&!P&&w_(O.location,U)&&!(L&&L.submission&&Ht(L.submission.formMethod))){Gn(U,{matches:de},{flushSync:le});return}let ee=ta(de,K,U.pathname);if(ee.active&&ee.matches&&(de=ee.matches),!de){let{error:ot,notFoundMatches:qe,route:$e}=hr(U.pathname);Gn(U,{matches:qe,loaderData:{},errors:{[$e.id]:ot}},{flushSync:le});return}ie=new AbortController;let ne=wi(a.history,U,ie.signal,L&&L.submission),ce=a.getContext?await a.getContext():new mg,he;if(L&&L.pendingError)he=[$r(de).route.id,{type:"error",error:L.pendingError}];else if(L&&L.submission&&Ht(L.submission.formMethod)){let ot=await Qo(ne,U,L.submission,de,ce,ee.active,L&&L.initialHydration===!0,{replace:L.replace,flushSync:le});if(ot.shortCircuited)return;if(ot.pendingActionResult){let[qe,$e]=ot.pendingActionResult;if(on($e)&&ql($e.error)&&$e.error.status===404){ie=null,Gn(U,{matches:ot.matches,loaderData:{},errors:{[qe]:$e.error}});return}}de=ot.matches||de,he=ot.pendingActionResult,W=vd(U,L.submission),le=!1,ee.active=!1,ne=wi(a.history,ne.url,ne.signal)}let{shortCircuited:pe,matches:Me,loaderData:Ye,errors:tt}=await Xl(ne,U,de,ce,ee.active,W,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,le,he);pe||(ie=null,Gn(U,{matches:Me||de,...Cg(he),loaderData:Ye,errors:tt}))}async function Qo(T,U,L,K,W,de,le,ee={}){za();let ne=O_(U,L);if(gt({navigation:ne},{flushSync:ee.flushSync===!0}),de){let pe=await mr(K,U.pathname,T.signal);if(pe.type==="aborted")return{shortCircuited:!0};if(pe.type==="error"){if(pe.partialMatches.length===0){let{matches:Ye,route:tt}=fo(h);return{matches:Ye,pendingActionResult:[tt.id,{type:"error",error:pe.error}]}}let Me=$r(pe.partialMatches).route.id;return{matches:pe.partialMatches,pendingActionResult:[Me,{type:"error",error:pe.error}]}}else if(pe.matches)K=pe.matches;else{let{notFoundMatches:Me,error:Ye,route:tt}=hr(U.pathname);return{matches:Me,pendingActionResult:[tt.id,{type:"error",error:Ye}]}}}let ce,he=Ao(K,U);if(!he.route.action&&!he.route.lazy)ce={type:"error",error:En(405,{method:T.method,pathname:U.pathname,routeId:he.route.id})};else{let pe=xi(u,d,T,K,he,le?[]:l,W),Me=await Xr(T,pe,W,null);if(ce=Me[he.route.id],!ce){for(let Ye of K)if(Me[Ye.route.id]){ce=Me[Ye.route.id];break}}if(T.signal.aborted)return{shortCircuited:!0}}if(Ta(ce)){let pe;return ee&&ee.replace!=null?pe=ee.replace:pe=Og(ce.response.headers.get("Location"),new URL(T.url),p)===O.location.pathname+O.location.search,await ft(T,ce,!0,{submission:L,replace:pe}),{shortCircuited:!0}}if(on(ce)){let pe=$r(K,he.route.id);return(ee&&ee.replace)!==!0&&(ye="PUSH"),{matches:K,pendingActionResult:[pe.route.id,ce,he.route.id]}}return{matches:K,pendingActionResult:[he.route.id,ce]}}async function Xl(T,U,L,K,W,de,le,ee,ne,ce,he,pe){let Me=de||vd(U,le),Ye=le||ee||zg(Me),tt=!Le&&!ce;if(W){if(tt){let xt=Da(pe);gt({navigation:Me,...xt!==void 0?{actionData:xt}:{}},{flushSync:he})}let Ce=await mr(L,U.pathname,T.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){if(Ce.partialMatches.length===0){let{matches:An,route:fn}=fo(h);return{matches:An,loaderData:{},errors:{[fn.id]:Ce.error}}}let xt=$r(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,loaderData:{},errors:{[xt]:Ce.error}}}else if(Ce.matches)L=Ce.matches;else{let{error:xt,notFoundMatches:An,route:fn}=hr(U.pathname);return{matches:An,loaderData:{},errors:{[fn.id]:xt}}}}let ot=m||h,{dsMatches:qe,revalidatingFetchers:$e}=_g(T,K,u,d,a.history,O,L,Ye,U,ce?[]:l,ce===!0,P,J,ve,X,I,ot,p,a.patchRoutesOnNavigation!=null,pe);if(Oe=++Ee,!a.dataStrategy&&!qe.some(Ce=>Ce.shouldLoad)&&!qe.some(Ce=>Ce.route.middleware&&Ce.route.middleware.length>0)&&$e.length===0){let Ce=Ut();return Gn(U,{matches:L,loaderData:{},errors:pe&&on(pe[1])?{[pe[0]]:pe[1].error}:null,...Cg(pe),...Ce?{fetchers:new Map(O.fetchers)}:{}},{flushSync:he}),{shortCircuited:!0}}if(tt){let Ce={};if(!W){Ce.navigation=Me;let xt=Da(pe);xt!==void 0&&(Ce.actionData=xt)}$e.length>0&&(Ce.fetchers=Ui($e)),gt(Ce,{flushSync:he})}$e.forEach(Ce=>{lt(Ce.key),Ce.controller&&te.set(Ce.key,Ce.controller)});let Qt=()=>$e.forEach(Ce=>lt(Ce.key));ie&&ie.signal.addEventListener("abort",Qt);let{loaderResults:dn,fetcherResults:Ze}=await Mi(qe,$e,T,K);if(T.signal.aborted)return{shortCircuited:!0};ie&&ie.signal.removeEventListener("abort",Qt),$e.forEach(Ce=>te.delete(Ce.key));let Xt=ho(dn);if(Xt)return await ft(T,Xt.result,!0,{replace:ne}),{shortCircuited:!0};if(Xt=ho(Ze),Xt)return I.add(Xt.key),await ft(T,Xt.result,!0,{replace:ne}),{shortCircuited:!0};let{loaderData:Ua,errors:Wt}=jg(O,L,dn,pe,$e,Ze);ce&&O.errors&&(Wt={...O.errors,...Wt});let $t=Ut(),ka=Wl(Oe),na=$t||ka||$e.length>0;return{matches:L,loaderData:Ua,errors:Wt,...na?{fetchers:new Map(O.fetchers)}:{}}}function Da(T){if(T&&!on(T[1]))return{[T[0]]:T[1].data};if(O.actionData)return Object.keys(O.actionData).length===0?null:O.actionData}function Ui(T){return T.forEach(U=>{let L=O.fetchers.get(U.key),K=Al(void 0,L?L.data:void 0);O.fetchers.set(U.key,K)}),new Map(O.fetchers)}async function ki(T,U,L,K){lt(T);let W=(K&&K.flushSync)===!0,de=m||h,le=Ad(O.location,O.matches,p,L,U,K?.relative),ee=qr(de,le,p),ne=ta(ee,de,le);if(ne.active&&ne.matches&&(ee=ne.matches),!ee){Rn(T,U,En(404,{pathname:le}),{flushSync:W});return}let{path:ce,submission:he,error:pe}=wg(!0,le,K);if(pe){Rn(T,U,pe,{flushSync:W});return}let Me=a.getContext?await a.getContext():new mg,Ye=(K&&K.preventScrollReset)===!0;if(he&&Ht(he.formMethod)){await Xo(T,U,ce,ee,Me,ne.active,W,Ye,he);return}X.set(T,{routeId:U,path:ce}),await Wo(T,U,ce,ee,Me,ne.active,W,Ye,he)}async function Xo(T,U,L,K,W,de,le,ee,ne){za(),X.delete(T);let ce=O.fetchers.get(T);qt(T,R_(ne,ce),{flushSync:le});let he=new AbortController,pe=wi(a.history,L,he.signal,ne);if(de){let Pe=await mr(K,new URL(pe.url).pathname,pe.signal,T);if(Pe.type==="aborted")return;if(Pe.type==="error"){Rn(T,U,Pe.error,{flushSync:le});return}else if(Pe.matches)K=Pe.matches;else{Rn(T,U,En(404,{pathname:L}),{flushSync:le});return}}let Me=Ao(K,L);if(!Me.route.action&&!Me.route.lazy){let Pe=En(405,{method:ne.formMethod,pathname:L,routeId:U});Rn(T,U,Pe,{flushSync:le});return}te.set(T,he);let Ye=Ee,tt=xi(u,d,pe,K,Me,l,W),ot=await Xr(pe,tt,W,T),qe=ot[Me.route.id];if(!qe){for(let Pe of tt)if(ot[Pe.route.id]){qe=ot[Pe.route.id];break}}if(pe.signal.aborted){te.get(T)===he&&te.delete(T);return}if(ve.has(T)){if(Ta(qe)||on(qe)){qt(T,dr(void 0));return}}else{if(Ta(qe))if(te.delete(T),Oe>Ye){qt(T,dr(void 0));return}else return I.add(T),qt(T,Al(ne)),ft(pe,qe,!1,{fetcherSubmission:ne,preventScrollReset:ee});if(on(qe)){Rn(T,U,qe.error);return}}let $e=O.navigation.location||O.location,Qt=wi(a.history,$e,he.signal),dn=m||h,Ze=O.navigation.state!=="idle"?qr(dn,O.navigation.location,p):O.matches;Re(Ze,"Didn't find any matches after fetcher action");let Xt=++Ee;R.set(T,Xt);let Ua=Al(ne,qe.data);O.fetchers.set(T,Ua);let{dsMatches:Wt,revalidatingFetchers:$t}=_g(Qt,W,u,d,a.history,O,Ze,ne,$e,l,!1,P,J,ve,X,I,dn,p,a.patchRoutesOnNavigation!=null,[Me.route.id,qe]);$t.filter(Pe=>Pe.key!==T).forEach(Pe=>{let Rt=Pe.key,Li=O.fetchers.get(Rt),tu=Al(void 0,Li?Li.data:void 0);O.fetchers.set(Rt,tu),lt(Rt),Pe.controller&&te.set(Rt,Pe.controller)}),gt({fetchers:new Map(O.fetchers)});let ka=()=>$t.forEach(Pe=>lt(Pe.key));he.signal.addEventListener("abort",ka);let{loaderResults:na,fetcherResults:Ce}=await Mi(Wt,$t,Qt,W);if(he.signal.aborted)return;if(he.signal.removeEventListener("abort",ka),R.delete(T),te.delete(T),$t.forEach(Pe=>te.delete(Pe.key)),O.fetchers.has(T)){let Pe=dr(qe.data);O.fetchers.set(T,Pe)}let xt=ho(na);if(xt)return ft(Qt,xt.result,!1,{preventScrollReset:ee});if(xt=ho(Ce),xt)return I.add(xt.key),ft(Qt,xt.result,!1,{preventScrollReset:ee});let{loaderData:An,errors:fn}=jg(O,Ze,na,void 0,$t,Ce);Wl(Xt),O.navigation.state==="loading"&&Xt>Oe?(Re(ye,"Expected pending action"),ie&&ie.abort(),Gn(O.navigation.location,{matches:Ze,loaderData:An,errors:fn,fetchers:new Map(O.fetchers)})):(gt({errors:fn,loaderData:Ag(O.loaderData,An,Ze,fn),fetchers:new Map(O.fetchers)}),P=!1)}async function Wo(T,U,L,K,W,de,le,ee,ne){let ce=O.fetchers.get(T);qt(T,Al(ne,ce?ce.data:void 0),{flushSync:le});let he=new AbortController,pe=wi(a.history,L,he.signal);if(de){let $e=await mr(K,new URL(pe.url).pathname,pe.signal,T);if($e.type==="aborted")return;if($e.type==="error"){Rn(T,U,$e.error,{flushSync:le});return}else if($e.matches)K=$e.matches;else{Rn(T,U,En(404,{pathname:L}),{flushSync:le});return}}let Me=Ao(K,L);te.set(T,he);let Ye=Ee,tt=xi(u,d,pe,K,Me,l,W),qe=(await Xr(pe,tt,W,T))[Me.route.id];if(te.get(T)===he&&te.delete(T),!pe.signal.aborted){if(ve.has(T)){qt(T,dr(void 0));return}if(Ta(qe))if(Oe>Ye){qt(T,dr(void 0));return}else{I.add(T),await ft(pe,qe,!1,{preventScrollReset:ee});return}if(on(qe)){Rn(T,U,qe.error);return}qt(T,dr(qe.data))}}async function ft(T,U,L,{submission:K,fetcherSubmission:W,preventScrollReset:de,replace:le}={}){L||(F?.resolve(),F=null),U.response.headers.has("X-Remix-Revalidate")&&(P=!0);let ee=U.response.headers.get("Location");Re(ee,"Expected a Location header on the redirect Response"),ee=Og(ee,new URL(T.url),p);let ne=Ll(O.location,ee,{_isRedirect:!0});if(i){let tt=!1;if(U.response.headers.has("X-Remix-Reload-Document"))tt=!0;else if($o(ee)){const ot=Ay(ee,!0);tt=ot.origin!==n.location.origin||Tn(ot.pathname,p)==null}if(tt){le?n.location.replace(ee):n.location.assign(ee);return}}ie=null;let ce=le===!0||U.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:he,formAction:pe,formEncType:Me}=O.navigation;!K&&!W&&he&&pe&&Me&&(K=zg(O.navigation));let Ye=K||W;if(a_.has(U.response.status)&&Ye&&Ht(Ye.formMethod))await On(ce,ne,{submission:{...Ye,formAction:ee},preventScrollReset:de||fe,enableViewTransition:L?He:void 0});else{let tt=vd(ne,K);await On(ce,ne,{overrideNavigation:tt,fetcherSubmission:W,preventScrollReset:de||fe,enableViewTransition:L?He:void 0})}}async function Xr(T,U,L,K){let W,de={};try{W=await m_(y,T,U,K,L,!1)}catch(le){return U.filter(ee=>ee.shouldLoad).forEach(ee=>{de[ee.route.id]={type:"error",error:le}}),de}if(T.signal.aborted)return de;for(let[le,ee]of Object.entries(W))if(x_(ee)){let ne=ee.result;de[le]={type:"redirect",response:v_(ne,T,le,U,p)}}else de[le]=await y_(ee);return de}async function Mi(T,U,L,K){let W=Xr(L,T,K,null),de=Promise.all(U.map(async ne=>{if(ne.matches&&ne.match&&ne.request&&ne.controller){let he=(await Xr(ne.request,ne.matches,K,ne.key))[ne.match.route.id];return{[ne.key]:he}}else return Promise.resolve({[ne.key]:{type:"error",error:En(404,{pathname:ne.path})}})})),le=await W,ee=(await de).reduce((ne,ce)=>Object.assign(ne,ce),{});return{loaderResults:le,fetcherResults:ee}}function za(){P=!0,X.forEach((T,U)=>{te.has(U)&&J.add(U),lt(U)})}function qt(T,U,L={}){O.fetchers.set(T,U),gt({fetchers:new Map(O.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function Rn(T,U,L,K={}){let W=$r(O.matches,U);Bi(T),gt({errors:{[W.route.id]:L},fetchers:new Map(O.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function Ni(T){return re.set(T,(re.get(T)||0)+1),ve.has(T)&&ve.delete(T),O.fetchers.get(T)||i_}function Zo(T,U){lt(T,U?.reason),qt(T,dr(null))}function Bi(T){let U=O.fetchers.get(T);te.has(T)&&!(U&&U.state==="loading"&&R.has(T))&&lt(T),X.delete(T),R.delete(T),I.delete(T),ve.delete(T),J.delete(T),O.fetchers.delete(T)}function Wr(T){let U=(re.get(T)||0)-1;U<=0?(re.delete(T),ve.add(T)):re.set(T,U),gt({fetchers:new Map(O.fetchers)})}function lt(T,U){let L=te.get(T);L&&(L.abort(U),te.delete(T))}function jn(T){for(let U of T){let L=Ni(U),K=dr(L.data);O.fetchers.set(U,K)}}function Ut(){let T=[],U=!1;for(let L of I){let K=O.fetchers.get(L);Re(K,`Expected fetcher: ${L}`),K.state==="loading"&&(I.delete(L),T.push(L),U=!0)}return jn(T),U}function Wl(T){let U=[];for(let[L,K]of R)if(K<T){let W=O.fetchers.get(L);Re(W,`Expected fetcher: ${L}`),W.state==="loading"&&(lt(L),R.delete(L),U.push(L))}return jn(U),U.length>0}function Fo(T,U){let L=O.blockers.get(T)||jl;return _e.get(T)!==U&&_e.set(T,U),L}function Zl(T){O.blockers.delete(T),_e.delete(T)}function Yn(T,U){let L=O.blockers.get(T)||jl;Re(L.state==="unblocked"&&U.state==="blocked"||L.state==="blocked"&&U.state==="blocked"||L.state==="blocked"&&U.state==="proceeding"||L.state==="blocked"&&U.state==="unblocked"||L.state==="proceeding"&&U.state==="unblocked",`Invalid blocker state transition: ${L.state} -> ${U.state}`);let K=new Map(O.blockers);K.set(T,U),gt({blockers:K})}function Zr({currentLocation:T,nextLocation:U,historyAction:L}){if(_e.size===0)return;_e.size>1&&pt(!1,"A router only supports one blocker at a time");let K=Array.from(_e.entries()),[W,de]=K[K.length-1],le=O.blockers.get(W);if(!(le&&le.state==="proceeding")&&de({currentLocation:T,nextLocation:U,historyAction:L}))return W}function hr(T){let U=En(404,{pathname:T}),L=m||h,{matches:K,route:W}=fo(L);return{notFoundMatches:K,route:W,error:U}}function Kn(T,U,L){if(E=T,C=U,A=L||null,!B&&O.navigation===yd){B=!0;let K=Fl(O.location,O.matches);K!=null&&gt({restoreScrollPosition:K})}return()=>{E=null,C=null,A=null}}function Fr(T,U){return A&&A(T,U.map(K=>Aw(K,O.loaderData)))||T.key}function ea(T,U){if(E&&C){let L=Fr(T,U);E[L]=C()}}function Fl(T,U){if(E){let L=Fr(T,U),K=E[L];if(typeof K=="number")return K}return null}function ta(T,U,L){if(a.patchRoutesOnNavigation)if(T){if(Object.keys(T[0].params).length>0)return{active:!0,matches:kl(U,L,p,!0)}}else return{active:!0,matches:kl(U,L,p,!0)||[]};return{active:!1,matches:null}}async function mr(T,U,L,K){if(!a.patchRoutesOnNavigation)return{type:"success",matches:T};let W=T;for(;;){let de=m==null,le=m||h,ee=d;try{await a.patchRoutesOnNavigation({signal:L,path:U,matches:W,fetcherKey:K,patch:(he,pe)=>{L.aborted||Sg(he,pe,le,ee,u,!1)}})}catch(he){return{type:"error",error:he,partialMatches:W}}finally{de&&!L.aborted&&(h=[...h])}if(L.aborted)return{type:"aborted"};let ne=qr(le,U,p),ce=null;if(ne){if(Object.keys(ne[0].params).length===0)return{type:"success",matches:ne};if(ce=kl(le,U,p,!0),!(ce&&W.length<ce.length&&pr(W,ce.slice(0,W.length))))return{type:"success",matches:ne}}if(ce||(ce=kl(le,U,p,!0)),!ce||pr(W,ce))return{type:"success",matches:null};W=ce}}function pr(T,U){return T.length===U.length&&T.every((L,K)=>L.route.id===U[K].route.id)}function eu(T){d={},m=Hl(T,u,void 0,d)}function es(T,U,L=!1){let K=m==null;Sg(T,U,m||h,d,u,L),K&&(h=[...h],gt({}))}return ae={get basename(){return p},get future(){return v},get state(){return O},get routes(){return h},get window(){return n},initialize:it,subscribe:Ca,enableScrollRestoration:Kn,navigate:Bn,fetch:ki,revalidate:zi,createHref:T=>a.history.createHref(T),encodeLocation:T=>a.history.encodeLocation(T),getFetcher:Ni,resetFetcher:Zo,deleteFetcher:Wr,dispose:Qr,getBlocker:Fo,deleteBlocker:Zl,patchRoutes:es,_internalFetchControllers:te,_internalSetRoutes:eu,_internalSetStateDoNotUseOrYouWillBreakYourApp(T){gt(T)}},a.unstable_instrumentations&&(ae=Qw(ae,a.unstable_instrumentations.map(T=>T.router).filter(Boolean))),ae}function o_(a){return a!=null&&("formData"in a&&a.formData!=null||"body"in a&&a.body!==void 0)}function Ad(a,n,i,l,o,u){let d,h;if(o){d=[];for(let p of n)if(d.push(p),p.route.id===o){h=p;break}}else d=n,h=n[n.length-1];let m=Wd(l||".",Xd(d),Tn(a.pathname,i)||a.pathname,u==="path");if(l==null&&(m.search=a.search,m.hash=a.hash),(l==null||l===""||l===".")&&h){let p=Fd(m.search);if(h.route.index&&!p)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let y=new URLSearchParams(m.search),v=y.getAll("index");y.delete("index"),v.filter(w=>w).forEach(w=>y.append("index",w));let S=y.toString();m.search=S?`?${S}`:""}}return i!=="/"&&(m.pathname=Pw({basename:i,pathname:m.pathname})),In(m)}function wg(a,n,i){if(!i||!o_(i))return{path:n};if(i.formMethod&&!T_(i.formMethod))return{path:n,error:En(405,{method:i.formMethod})};let l=()=>({path:n,error:En(400,{type:"invalid-body"})}),u=(i.formMethod||"get").toUpperCase(),d=Py(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Ht(u))return l();let v=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((S,[w,E])=>`${S}${w}=${E}
`,""):String(i.body);return{path:n,submission:{formMethod:u,formAction:d,formEncType:i.formEncType,formData:void 0,json:void 0,text:v}}}else if(i.formEncType==="application/json"){if(!Ht(u))return l();try{let v=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:u,formAction:d,formEncType:i.formEncType,formData:void 0,json:v,text:void 0}}}catch{return l()}}}Re(typeof FormData=="function","FormData is not available in this environment");let h,m;if(i.formData)h=zd(i.formData),m=i.formData;else if(i.body instanceof FormData)h=zd(i.body),m=i.body;else if(i.body instanceof URLSearchParams)h=i.body,m=Rg(h);else if(i.body==null)h=new URLSearchParams,m=new FormData;else try{h=new URLSearchParams(i.body),m=Rg(h)}catch{return l()}let p={formMethod:u,formAction:d,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Ht(p.formMethod))return{path:n,submission:p};let y=Gr(n);return a&&y.search&&Fd(y.search)&&h.append("index",""),y.search=`?${h}`,{path:In(y),submission:p}}function _g(a,n,i,l,o,u,d,h,m,p,y,v,S,w,E,A,C,B,q,H){let Q=H?on(H[1])?H[1].error:H[1].data:void 0,Z=o.createURL(u.location),ae=o.createURL(m),O;if(y&&u.errors){let Ue=Object.keys(u.errors)[0];O=d.findIndex(Le=>Le.route.id===Ue)}else if(H&&on(H[1])){let Ue=H[0];O=d.findIndex(Le=>Le.route.id===Ue)-1}let ye=H?H[1].statusCode:void 0,F=ye&&ye>=400,fe={currentUrl:Z,currentParams:u.matches[0]?.params||{},nextUrl:ae,nextParams:d[0].params,...h,actionResult:Q,actionStatus:ye},ie=Gl(d),He=d.map((Ue,Le)=>{let{route:P}=Ue,J=null;if(O!=null&&Le>O?J=!1:P.lazy?J=!0:Zd(P)?y?J=Cd(P,u.loaderData,u.errors):u_(u.loaderData,u.matches[Le],Ue)&&(J=!0):J=!1,J!==null)return Dd(i,l,a,ie,Ue,p,n,J);let te=F?!1:v||Z.pathname+Z.search===ae.pathname+ae.search||Z.search!==ae.search||c_(u.matches[Le],Ue),Ee={...fe,defaultShouldRevalidate:te},Oe=ko(Ue,Ee);return Dd(i,l,a,ie,Ue,p,n,Oe,Ee)}),Be=[];return E.forEach((Ue,Le)=>{if(y||!d.some(X=>X.route.id===Ue.routeId)||w.has(Le))return;let P=u.fetchers.get(Le),J=P&&P.state!=="idle"&&P.data===void 0,te=qr(C,Ue.path,B);if(!te){if(q&&J)return;Be.push({key:Le,routeId:Ue.routeId,path:Ue.path,matches:null,match:null,request:null,controller:null});return}if(A.has(Le))return;let Ee=Ao(te,Ue.path),Oe=new AbortController,R=wi(o,Ue.path,Oe.signal),I=null;if(S.has(Le))S.delete(Le),I=xi(i,l,R,te,Ee,p,n);else if(J)v&&(I=xi(i,l,R,te,Ee,p,n));else{let X={...fe,defaultShouldRevalidate:F?!1:v};ko(Ee,X)&&(I=xi(i,l,R,te,Ee,p,n,X))}I&&Be.push({key:Le,routeId:Ue.routeId,path:Ue.path,matches:I,match:Ee,request:R,controller:Oe})}),{dsMatches:He,revalidatingFetchers:Be}}function Zd(a){return a.loader!=null||a.middleware!=null&&a.middleware.length>0}function Cd(a,n,i){if(a.lazy)return!0;if(!Zd(a))return!1;let l=n!=null&&a.id in n,o=i!=null&&i[a.id]!==void 0;return!l&&o?!1:typeof a.loader=="function"&&a.loader.hydrate===!0?!0:!l&&!o}function u_(a,n,i){let l=!n||i.route.id!==n.route.id,o=!a.hasOwnProperty(i.route.id);return l||o}function c_(a,n){let i=a.route.path;return a.pathname!==n.pathname||i!=null&&i.endsWith("*")&&a.params["*"]!==n.params["*"]}function ko(a,n){if(a.route.shouldRevalidate){let i=a.route.shouldRevalidate(n);if(typeof i=="boolean")return i}return n.defaultShouldRevalidate}function Sg(a,n,i,l,o,u){let d;if(a){let p=l[a];Re(p,`No route found to patch children into: routeId = ${a}`),p.children||(p.children=[]),d=p.children}else d=i;let h=[],m=[];if(n.forEach(p=>{let y=d.find(v=>By(p,v));y?m.push({existingRoute:y,newRoute:p}):h.push(p)}),h.length>0){let p=Hl(h,o,[a||"_","patch",String(d?.length||"0")],l);d.push(...p)}if(u&&m.length>0)for(let p=0;p<m.length;p++){let{existingRoute:y,newRoute:v}=m[p],S=y,[w]=Hl([v],o,[],{},!0);Object.assign(S,{element:w.element?w.element:S.element,errorElement:w.errorElement?w.errorElement:S.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:S.hydrateFallbackElement})}}function By(a,n){return"id"in a&&"id"in n&&a.id===n.id?!0:a.index===n.index&&a.path===n.path&&a.caseSensitive===n.caseSensitive?(!a.children||a.children.length===0)&&(!n.children||n.children.length===0)?!0:a.children.every((i,l)=>n.children?.some(o=>By(i,o))):!1}var Eg=new WeakMap,Ly=({key:a,route:n,manifest:i,mapRouteProperties:l})=>{let o=i[n.id];if(Re(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[a];if(!u)return;let d=Eg.get(o);d||(d={},Eg.set(o,d));let h=d[a];if(h)return h;let m=(async()=>{let p=Tw(a),v=o[a]!==void 0&&a!=="hasErrorBoundary";if(p)pt(!p,"Route property "+a+" is not a supported lazy route property. This property will be ignored."),d[a]=Promise.resolve();else if(v)pt(!1,`Route "${o.id}" has a static property "${a}" defined. The lazy property will be ignored.`);else{let S=await u();S!=null&&(Object.assign(o,{[a]:S}),Object.assign(o,l(o)))}typeof o.lazy=="object"&&(o.lazy[a]=void 0,Object.values(o.lazy).every(S=>S===void 0)&&(o.lazy=void 0))})();return d[a]=m,m},xg=new WeakMap;function d_(a,n,i,l,o){let u=i[a.id];if(Re(u,"No route found in manifest"),!a.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof a.lazy=="function"){let y=xg.get(u);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let v=(async()=>{Re(typeof a.lazy=="function","No lazy route function found");let S=await a.lazy(),w={};for(let E in S){let A=S[E];if(A===void 0)continue;let C=Rw(E),q=u[E]!==void 0&&E!=="hasErrorBoundary";C?pt(!C,"Route property "+E+" is not a supported property to be returned from a lazy route function. This property will be ignored."):q?pt(!q,`Route "${u.id}" has a static property "${E}" defined but its lazy function is also returning a value for this property. The lazy route property "${E}" will be ignored.`):w[E]=A}Object.assign(u,w),Object.assign(u,{...l(u),lazy:void 0})})();return xg.set(u,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let d=Object.keys(a.lazy),h=[],m;for(let y of d){if(o&&o.includes(y))continue;let v=Ly({key:y,route:a,manifest:i,mapRouteProperties:l});v&&(h.push(v),y===n&&(m=v))}let p=h.length>0?Promise.all(h).then(()=>{}):void 0;return p?.catch(()=>{}),m?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:m}}async function Tg(a){let n=a.matches.filter(o=>o.shouldLoad),i={};return(await Promise.all(n.map(o=>o.resolve()))).forEach((o,u)=>{i[n[u].route.id]=o}),i}async function f_(a){return a.matches.some(n=>n.route.middleware)?Hy(a,()=>Tg(a)):Tg(a)}function Hy(a,n){return h_(a,n,l=>l,S_,i);function i(l,o,u){if(u)return Promise.resolve(Object.assign(u.value,{[o]:{type:"error",result:l}}));{let{matches:d}=a,h=Math.min(Math.max(d.findIndex(p=>p.route.id===o),0),Math.max(d.findIndex(p=>p.shouldCallHandler()),0)),m=$r(d,d[h].route.id).route.id;return Promise.resolve({[m]:{type:"error",result:l}})}}}async function h_(a,n,i,l,o){let{matches:u,request:d,params:h,context:m,unstable_pattern:p}=a,y=u.flatMap(S=>S.route.middleware?S.route.middleware.map(w=>[S.route.id,w]):[]);return await qy({request:d,params:h,context:m,unstable_pattern:p},y,n,i,l,o)}async function qy(a,n,i,l,o,u,d=0){let{request:h}=a;if(h.signal.aborted)throw h.signal.reason??new Error(`Request aborted: ${h.method} ${h.url}`);let m=n[d];if(!m)return await i();let[p,y]=m,v,S=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");try{return v={value:await qy(a,n,i,l,o,u,d+1)},v.value}catch(w){return v={value:await u(w,p,v)},v.value}};try{let w=await y(a,S),E=w!=null?l(w):void 0;return o(E)?E:v?E??v.value:(v={value:await S()},v.value)}catch(w){return await u(w,p,v)}}function $y(a,n,i,l,o){let u=Ly({key:"middleware",route:l.route,manifest:n,mapRouteProperties:a}),d=d_(l.route,Ht(i.method)?"action":"loader",n,a,o);return{middleware:u,route:d.lazyRoutePromise,handler:d.lazyHandlerPromise}}function Dd(a,n,i,l,o,u,d,h,m=null){let p=!1,y=$y(a,n,i,o,u);return{...o,_lazyPromises:y,shouldLoad:h,shouldRevalidateArgs:m,shouldCallHandler(v){return p=!0,m?typeof v=="boolean"?ko(o,{...m,defaultShouldRevalidate:v}):ko(o,m):h},resolve(v){let{lazy:S,loader:w,middleware:E}=o.route,A=p||h||v&&!Ht(i.method)&&(S||w),C=E&&E.length>0&&!w&&!S;return A&&(Ht(i.method)||!C)?p_({request:i,unstable_pattern:l,match:o,lazyHandlerPromise:y?.handler,lazyRoutePromise:y?.route,handlerOverride:v,scopedContext:d}):Promise.resolve({type:"data",result:void 0})}}}function xi(a,n,i,l,o,u,d,h=null){return l.map(m=>m.route.id!==o.route.id?{...m,shouldLoad:!1,shouldRevalidateArgs:h,shouldCallHandler:()=>!1,_lazyPromises:$y(a,n,i,m,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Dd(a,n,i,Gl(l),m,u,d,!0,h))}async function m_(a,n,i,l,o,u){i.some(p=>p._lazyPromises?.middleware)&&await Promise.all(i.map(p=>p._lazyPromises?.middleware));let d={request:n,unstable_pattern:Gl(i),params:i[0].params,context:o,matches:i},m=await a({...d,fetcherKey:l,runClientMiddleware:p=>{let y=d;return Hy(y,()=>p({...y,fetcherKey:l,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(i.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return m}async function p_({request:a,unstable_pattern:n,match:i,lazyHandlerPromise:l,lazyRoutePromise:o,handlerOverride:u,scopedContext:d}){let h,m,p=Ht(a.method),y=p?"action":"loader",v=S=>{let w,E=new Promise((B,q)=>w=q);m=()=>w(),a.signal.addEventListener("abort",m);let A=B=>typeof S!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${i.route.id}]`)):S({request:a,unstable_pattern:n,params:i.params,context:d},...B!==void 0?[B]:[]),C=(async()=>{try{return{type:"data",result:await(u?u(q=>A(q)):A())}}catch(B){return{type:"error",result:B}}})();return Promise.race([C,E])};try{let S=p?i.route.action:i.route.loader;if(l||o)if(S){let w,[E]=await Promise.all([v(S).catch(A=>{w=A}),l,o]);if(w!==void 0)throw w;h=E}else{await l;let w=p?i.route.action:i.route.loader;if(w)[h]=await Promise.all([v(w),o]);else if(y==="action"){let E=new URL(a.url),A=E.pathname+E.search;throw En(405,{method:a.method,pathname:A,routeId:i.route.id})}else return{type:"data",result:void 0}}else if(S)h=await v(S);else{let w=new URL(a.url),E=w.pathname+w.search;throw En(404,{pathname:E})}}catch(S){return{type:"error",result:S}}finally{m&&a.signal.removeEventListener("abort",m)}return h}async function g_(a){let n=a.headers.get("Content-Type");return n&&/\bapplication\/json\b/.test(n)?a.body==null?null:a.json():a.text()}async function y_(a){let{result:n,type:i}=a;if(Iy(n)){let l;try{l=await g_(n)}catch(o){return{type:"error",error:o}}return i==="error"?{type:"error",error:new Po(n.status,n.statusText,l),statusCode:n.status,headers:n.headers}:{type:"data",data:l,statusCode:n.status,headers:n.headers}}return i==="error"?Dg(n)?n.data instanceof Error?{type:"error",error:n.data,statusCode:n.init?.status,headers:n.init?.headers?new Headers(n.init.headers):void 0}:{type:"error",error:__(n),statusCode:ql(n)?n.status:void 0,headers:n.init?.headers?new Headers(n.init.headers):void 0}:{type:"error",error:n,statusCode:ql(n)?n.status:void 0}:Dg(n)?{type:"data",data:n.data,statusCode:n.init?.status,headers:n.init?.headers?new Headers(n.init.headers):void 0}:{type:"data",data:n}}function v_(a,n,i,l,o){let u=a.headers.get("Location");if(Re(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!$o(u)){let d=l.slice(0,l.findIndex(h=>h.route.id===i)+1);u=Ad(new URL(n.url),d,o,u),a.headers.set("Location",u)}return a}function Og(a,n,i){if($o(a)){let l=a,o=l.startsWith("//")?new URL(n.protocol+l):new URL(l),u=Tn(o.pathname,i)!=null;if(o.origin===n.origin&&u)return o.pathname+o.search+o.hash}return a}function wi(a,n,i,l){let o=a.createURL(Py(n)).toString(),u={signal:i};if(l&&Ht(l.formMethod)){let{formMethod:d,formEncType:h}=l;u.method=d.toUpperCase(),h==="application/json"?(u.headers=new Headers({"Content-Type":h}),u.body=JSON.stringify(l.json)):h==="text/plain"?u.body=l.text:h==="application/x-www-form-urlencoded"&&l.formData?u.body=zd(l.formData):u.body=l.formData}return new Request(o,u)}function zd(a){let n=new URLSearchParams;for(let[i,l]of a.entries())n.append(i,typeof l=="string"?l:l.name);return n}function Rg(a){let n=new FormData;for(let[i,l]of a.entries())n.append(i,l);return n}function b_(a,n,i,l=!1,o=!1){let u={},d=null,h,m=!1,p={},y=i&&on(i[1])?i[1].error:void 0;return a.forEach(v=>{if(!(v.route.id in n))return;let S=v.route.id,w=n[S];if(Re(!Ta(w),"Cannot handle redirect results in processLoaderData"),on(w)){let E=w.error;if(y!==void 0&&(E=y,y=void 0),d=d||{},o)d[S]=E;else{let A=$r(a,S);d[A.route.id]==null&&(d[A.route.id]=E)}l||(u[S]=Ny),m||(m=!0,h=ql(w.error)?w.error.status:500),w.headers&&(p[S]=w.headers)}else u[S]=w.data,w.statusCode&&w.statusCode!==200&&!m&&(h=w.statusCode),w.headers&&(p[S]=w.headers)}),y!==void 0&&i&&(d={[i[0]]:y},i[2]&&(u[i[2]]=void 0)),{loaderData:u,errors:d,statusCode:h||200,loaderHeaders:p}}function jg(a,n,i,l,o,u){let{loaderData:d,errors:h}=b_(n,i,l);return o.filter(m=>!m.matches||m.matches.some(p=>p.shouldLoad)).forEach(m=>{let{key:p,match:y,controller:v}=m;if(v&&v.signal.aborted)return;let S=u[p];if(Re(S,"Did not find corresponding fetcher result"),on(S)){let w=$r(a.matches,y?.route.id);h&&h[w.route.id]||(h={...h,[w.route.id]:S.error}),a.fetchers.delete(p)}else if(Ta(S))Re(!1,"Unhandled fetcher revalidation redirect");else{let w=dr(S.data);a.fetchers.set(p,w)}}),{loaderData:d,errors:h}}function Ag(a,n,i,l){let o=Object.entries(n).filter(([,u])=>u!==Ny).reduce((u,[d,h])=>(u[d]=h,u),{});for(let u of i){let d=u.route.id;if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&u.route.loader&&(o[d]=a[d]),l&&l.hasOwnProperty(d))break}return o}function Cg(a){return a?on(a[1])?{actionData:{}}:{actionData:{[a[0]]:a[1].data}}:{}}function $r(a,n){return(n?a.slice(0,a.findIndex(l=>l.route.id===n)+1):[...a]).reverse().find(l=>l.route.hasErrorBoundary===!0)||a[0]}function fo(a){let n=a.length===1?a[0]:a.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:n}],route:n}}function En(a,{pathname:n,routeId:i,method:l,type:o,message:u}={}){let d="Unknown Server Error",h="Unknown @remix-run/router error";return a===400?(d="Bad Request",l&&n&&i?h=`You made a ${l} request to "${n}" but did not provide a \`loader\` for route "${i}", so there is no way to handle the request.`:o==="invalid-body"&&(h="Unable to encode submission body")):a===403?(d="Forbidden",h=`Route "${i}" does not match URL "${n}"`):a===404?(d="Not Found",h=`No route matches URL "${n}"`):a===405&&(d="Method Not Allowed",l&&n&&i?h=`You made a ${l.toUpperCase()} request to "${n}" but did not provide an \`action\` for route "${i}", so there is no way to handle the request.`:l&&(h=`Invalid request method "${l.toUpperCase()}"`)),new Po(a||500,d,new Error(h),!0)}function ho(a){let n=Object.entries(a);for(let i=n.length-1;i>=0;i--){let[l,o]=n[i];if(Ta(o))return{key:l,result:o}}}function Py(a){let n=typeof a=="string"?Gr(a):a;return In({...n,hash:""})}function w_(a,n){return a.pathname!==n.pathname||a.search!==n.search?!1:a.hash===""?n.hash!=="":a.hash===n.hash?!0:n.hash!==""}function __(a){return new Po(a.init?.status??500,a.init?.statusText??"Internal Server Error",a.data)}function S_(a){return a!=null&&typeof a=="object"&&Object.entries(a).every(([n,i])=>typeof n=="string"&&E_(i))}function E_(a){return a!=null&&typeof a=="object"&&"type"in a&&"result"in a&&(a.type==="data"||a.type==="error")}function x_(a){return Iy(a.result)&&r_.has(a.result.status)}function on(a){return a.type==="error"}function Ta(a){return(a&&a.type)==="redirect"}function Dg(a){return typeof a=="object"&&a!=null&&"type"in a&&"data"in a&&"init"in a&&a.type==="DataWithResponseInit"}function Iy(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.headers=="object"&&typeof a.body<"u"}function T_(a){return n_.has(a.toUpperCase())}function Ht(a){return e_.has(a.toUpperCase())}function Fd(a){return new URLSearchParams(a).getAll("index").some(n=>n==="")}function Ao(a,n){let i=typeof n=="string"?Gr(n).search:n.search;if(a[a.length-1].route.index&&Fd(i||""))return a[a.length-1];let l=zy(a);return l[l.length-1]}function zg(a){let{formMethod:n,formAction:i,formEncType:l,text:o,formData:u,json:d}=a;if(!(!n||!i||!l)){if(o!=null)return{formMethod:n,formAction:i,formEncType:l,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:n,formAction:i,formEncType:l,formData:u,json:void 0,text:void 0};if(d!==void 0)return{formMethod:n,formAction:i,formEncType:l,formData:void 0,json:d,text:void 0}}}function vd(a,n){return n?{state:"loading",location:a,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}:{state:"loading",location:a,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function O_(a,n){return{state:"submitting",location:a,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}}function Al(a,n){return a?{state:"loading",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:n}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function R_(a,n){return{state:"submitting",formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text,data:n?n.data:void 0}}function dr(a){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function j_(a,n){try{let i=a.sessionStorage.getItem(My);if(i){let l=JSON.parse(i);for(let[o,u]of Object.entries(l||{}))u&&Array.isArray(u)&&n.set(o,new Set(u||[]))}}catch{}}function A_(a,n){if(n.size>0){let i={};for(let[l,o]of n)i[l]=[...o];try{a.sessionStorage.setItem(My,JSON.stringify(i))}catch(l){pt(!1,`Failed to save applied view transitions in sessionStorage (${l}).`)}}}function Ug(){let a,n,i=new Promise((l,o)=>{a=async u=>{l(u);try{await i}catch{}},n=async u=>{o(u);try{await i}catch{}}});return{promise:i,resolve:a,reject:n}}var Aa=z.createContext(null);Aa.displayName="DataRouter";var Yl=z.createContext(null);Yl.displayName="DataRouterState";z.createContext(!1);var ef=z.createContext({isTransitioning:!1});ef.displayName="ViewTransition";var Vy=z.createContext(new Map);Vy.displayName="Fetchers";var C_=z.createContext(null);C_.displayName="Await";var Nn=z.createContext(null);Nn.displayName="Navigation";var Io=z.createContext(null);Io.displayName="Location";var Vn=z.createContext({outlet:null,matches:[],isDataRoute:!1});Vn.displayName="Route";var tf=z.createContext(null);tf.displayName="RouteError";function D_(a,{relative:n}={}){Re(Kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=z.useContext(Nn),{hash:o,pathname:u,search:d}=Jl(a,{relative:n}),h=u;return i!=="/"&&(h=u==="/"?i:Pn([i,u])),l.createHref({pathname:h,search:d,hash:o})}function Kl(){return z.useContext(Io)!=null}function Yr(){return Re(Kl(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Io).location}var Gy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yy(a){z.useContext(Nn).static||z.useLayoutEffect(a)}function Kr(){let{isDataRoute:a}=z.useContext(Vn);return a?V_():z_()}function z_(){Re(Kl(),"useNavigate() may be used only in the context of a <Router> component.");let a=z.useContext(Aa),{basename:n,navigator:i}=z.useContext(Nn),{matches:l}=z.useContext(Vn),{pathname:o}=Yr(),u=JSON.stringify(Xd(l)),d=z.useRef(!1);return Yy(()=>{d.current=!0}),z.useCallback((m,p={})=>{if(pt(d.current,Gy),!d.current)return;if(typeof m=="number"){i.go(m);return}let y=Wd(m,JSON.parse(u),o,p.relative==="path");a==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:Pn([n,y.pathname])),(p.replace?i.replace:i.push)(y,p.state,p)},[n,i,u,o,a])}z.createContext(null);function Ky(){let{matches:a}=z.useContext(Vn),n=a[a.length-1];return n?n.params:{}}function Jl(a,{relative:n}={}){let{matches:i}=z.useContext(Vn),{pathname:l}=Yr(),o=JSON.stringify(Xd(i));return z.useMemo(()=>Wd(a,JSON.parse(o),l,n==="path"),[a,o,l,n])}function U_(a,n,i,l,o){Re(Kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(Nn),{matches:d}=z.useContext(Vn),h=d[d.length-1],m=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let q=v&&v.path||"";Jy(p,!v||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let S=Yr(),w;w=S;let E=w.pathname||"/",A=E;if(y!=="/"){let q=y.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(q.length).join("/")}let C=qr(a,{pathname:A});return pt(v||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),pt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),L_(C&&C.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:Pn([y,u.encodeLocation?u.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?y:Pn([y,u.encodeLocation?u.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),d,i,l,o)}function k_(){let a=I_(),n=ql(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},u={padding:"2px 4px",backgroundColor:l},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},n),i?z.createElement("pre",{style:o},i):null,d)}var M_=z.createElement(k_,null),N_=class extends z.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,n){return n.location!==a.location||n.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:n.error,location:n.location,revalidation:a.revalidation||n.revalidation}}componentDidCatch(a,n){this.props.onError?this.props.onError(a,n):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?z.createElement(Vn.Provider,{value:this.props.routeContext},z.createElement(tf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function B_({routeContext:a,match:n,children:i}){let l=z.useContext(Aa);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(Vn.Provider,{value:a},i)}function L_(a,n=[],i=null,l=null,o=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let u=a,d=i?.errors;if(d!=null){let y=u.findIndex(v=>v.route.id&&d?.[v.route.id]!==void 0);Re(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let h=!1,m=-1;if(i)for(let y=0;y<u.length;y++){let v=u[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=y),v.route.id){let{loaderData:S,errors:w}=i,E=v.route.loader&&!S.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||E){h=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let p=i&&l?(y,v)=>{l(y,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Gl(i.matches),errorInfo:v})}:void 0;return u.reduceRight((y,v,S)=>{let w,E=!1,A=null,C=null;i&&(w=d&&v.route.id?d[v.route.id]:void 0,A=v.route.errorElement||M_,h&&(m<0&&S===0?(Jy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):m===S&&(E=!0,C=v.route.hydrateFallbackElement||null)));let B=n.concat(u.slice(0,S+1)),q=()=>{let H;return w?H=A:E?H=C:v.route.Component?H=z.createElement(v.route.Component,null):v.route.element?H=v.route.element:H=y,z.createElement(B_,{match:v,routeContext:{outlet:y,matches:B,isDataRoute:i!=null},children:H})};return i&&(v.route.ErrorBoundary||v.route.errorElement||S===0)?z.createElement(N_,{location:i.location,revalidation:i.revalidation,component:A,error:w,children:q(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:p}):q()},null)}function nf(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H_(a){let n=z.useContext(Aa);return Re(n,nf(a)),n}function q_(a){let n=z.useContext(Yl);return Re(n,nf(a)),n}function $_(a){let n=z.useContext(Vn);return Re(n,nf(a)),n}function rf(a){let n=$_(a),i=n.matches[n.matches.length-1];return Re(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function P_(){return rf("useRouteId")}function I_(){let a=z.useContext(tf),n=q_("useRouteError"),i=rf("useRouteError");return a!==void 0?a:n.errors?.[i]}function V_(){let{router:a}=H_("useNavigate"),n=rf("useNavigate"),i=z.useRef(!1);return Yy(()=>{i.current=!0}),z.useCallback(async(o,u={})=>{pt(i.current,Gy),i.current&&(typeof o=="number"?await a.navigate(o):await a.navigate(o,{fromRouteId:n,...u}))},[a,n])}var kg={};function Jy(a,n,i){!n&&!kg[a]&&(kg[a]=!0,pt(!1,i))}var Mg={};function Ng(a,n){!a&&!Mg[n]&&(Mg[n]=!0,console.warn(n))}var G_="useOptimistic",Bg=fw[G_];function Y_(a){return Bg?Bg(a):[a,()=>{}]}function K_(a){let n={hasErrorBoundary:a.hasErrorBoundary||a.ErrorBoundary!=null||a.errorElement!=null};return a.Component&&(a.element&&pt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(n,{element:z.createElement(a.Component),Component:void 0})),a.HydrateFallback&&(a.hydrateFallbackElement&&pt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(n,{hydrateFallbackElement:z.createElement(a.HydrateFallback),HydrateFallback:void 0})),a.ErrorBoundary&&(a.errorElement&&pt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(n,{errorElement:z.createElement(a.ErrorBoundary),ErrorBoundary:void 0})),n}var J_=["HydrateFallback","hydrateFallbackElement"],Q_=class{constructor(){this.status="pending",this.promise=new Promise((n,i)=>{this.resolve=l=>{this.status==="pending"&&(this.status="resolved",n(l))},this.reject=l=>{this.status==="pending"&&(this.status="rejected",i(l))}})}};function X_({router:a,flushSync:n,unstable_onError:i,unstable_useTransitions:l}){let[o,u]=z.useState(a.state),[d,h]=Y_(o),[m,p]=z.useState(),[y,v]=z.useState({isTransitioning:!1}),[S,w]=z.useState(),[E,A]=z.useState(),[C,B]=z.useState(),q=z.useRef(new Map),H=z.useCallback((O,{deletedFetchers:ye,newErrors:F,flushSync:fe,viewTransitionOpts:ie})=>{F&&i&&Object.values(F).forEach(Be=>i(Be,{location:O.location,params:O.matches[0]?.params??{},unstable_pattern:Gl(O.matches)})),O.fetchers.forEach((Be,Ue)=>{Be.data!==void 0&&q.current.set(Ue,Be.data)}),ye.forEach(Be=>q.current.delete(Be)),Ng(fe===!1||n!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let He=a.window!=null&&a.window.document!=null&&typeof a.window.document.startViewTransition=="function";if(Ng(ie==null||He,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ie||!He){n&&fe?n(()=>u(O)):l===!1?u(O):z.startTransition(()=>{l===!0&&h(Be=>Lg(Be,O)),u(O)});return}if(n&&fe){n(()=>{E&&(S?.resolve(),E.skipTransition()),v({isTransitioning:!0,flushSync:!0,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})});let Be=a.window.document.startViewTransition(()=>{n(()=>u(O))});Be.finished.finally(()=>{n(()=>{w(void 0),A(void 0),p(void 0),v({isTransitioning:!1})})}),n(()=>A(Be));return}E?(S?.resolve(),E.skipTransition(),B({state:O,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})):(p(O),v({isTransitioning:!0,flushSync:!1,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation}))},[a.window,n,E,S,l,h,i]);z.useLayoutEffect(()=>a.subscribe(H),[a,H]),z.useEffect(()=>{y.isTransitioning&&!y.flushSync&&w(new Q_)},[y]),z.useEffect(()=>{if(S&&m&&a.window){let O=m,ye=S.promise,F=a.window.document.startViewTransition(async()=>{l===!1?u(O):z.startTransition(()=>{l===!0&&h(fe=>Lg(fe,O)),u(O)}),await ye});F.finished.finally(()=>{w(void 0),A(void 0),p(void 0),v({isTransitioning:!1})}),A(F)}},[m,S,a.window,l,h]),z.useEffect(()=>{S&&m&&d.location.key===m.location.key&&S.resolve()},[S,E,d.location,m]),z.useEffect(()=>{!y.isTransitioning&&C&&(p(C.state),v({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),B(void 0))},[y.isTransitioning,C]);let Q=z.useMemo(()=>({createHref:a.createHref,encodeLocation:a.encodeLocation,go:O=>a.navigate(O),push:(O,ye,F)=>a.navigate(O,{state:ye,preventScrollReset:F?.preventScrollReset}),replace:(O,ye,F)=>a.navigate(O,{replace:!0,state:ye,preventScrollReset:F?.preventScrollReset})}),[a]),Z=a.basename||"/",ae=z.useMemo(()=>({router:a,navigator:Q,static:!1,basename:Z,unstable_onError:i}),[a,Q,Z,i]);return z.createElement(z.Fragment,null,z.createElement(Aa.Provider,{value:ae},z.createElement(Yl.Provider,{value:d},z.createElement(Vy.Provider,{value:q.current},z.createElement(ef.Provider,{value:y},z.createElement(F_,{basename:Z,location:d.location,navigationType:d.historyAction,navigator:Q,unstable_useTransitions:l===!0},z.createElement(W_,{routes:a.routes,future:a.future,state:d,unstable_onError:i})))))),null)}function Lg(a,n){return{...a,navigation:n.navigation.state!=="idle"?n.navigation:a.navigation,revalidation:n.revalidation!=="idle"?n.revalidation:a.revalidation,actionData:n.navigation.state!=="submitting"?n.actionData:a.actionData,fetchers:n.fetchers}}var W_=z.memo(Z_);function Z_({routes:a,future:n,state:i,unstable_onError:l}){return U_(a,void 0,i,l,n)}function F_({basename:a="/",children:n=null,location:i,navigationType:l="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){Re(!Kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=a.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:h,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[h,o,u,d]);typeof i=="string"&&(i=Gr(i));let{pathname:p="/",search:y="",hash:v="",state:S=null,key:w="default"}=i,E=z.useMemo(()=>{let A=Tn(p,h);return A==null?null:{location:{pathname:A,search:y,hash:v,state:S,key:w},navigationType:l}},[h,p,y,v,S,w,l]);return pt(E!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:z.createElement(Nn.Provider,{value:m},z.createElement(Io.Provider,{children:n,value:E}))}var Co="get",Do="application/x-www-form-urlencoded";function Vo(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function eS(a){return Vo(a)&&a.tagName.toLowerCase()==="button"}function tS(a){return Vo(a)&&a.tagName.toLowerCase()==="form"}function nS(a){return Vo(a)&&a.tagName.toLowerCase()==="input"}function rS(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function aS(a,n){return a.button===0&&(!n||n==="_self")&&!rS(a)}var mo=null;function iS(){if(mo===null)try{new FormData(document.createElement("form"),0),mo=!1}catch{mo=!0}return mo}var lS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bd(a){return a!=null&&!lS.has(a)?(pt(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Do}"`),null):a}function sS(a,n){let i,l,o,u,d;if(tS(a)){let h=a.getAttribute("action");l=h?Tn(h,n):null,i=a.getAttribute("method")||Co,o=bd(a.getAttribute("enctype"))||Do,u=new FormData(a)}else if(eS(a)||nS(a)&&(a.type==="submit"||a.type==="image")){let h=a.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=a.getAttribute("formaction")||h.getAttribute("action");if(l=m?Tn(m,n):null,i=a.getAttribute("formmethod")||h.getAttribute("method")||Co,o=bd(a.getAttribute("formenctype"))||bd(h.getAttribute("enctype"))||Do,u=new FormData(h,a),!iS()){let{name:p,type:y,value:v}=a;if(y==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,v)}}else{if(Vo(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Co,l=null,o=Do,d=a}return u&&o==="text/plain"&&(d=u,u=void 0),{action:l,method:i.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function af(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function oS(a,n,i){let l=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return l.pathname==="/"?l.pathname=`_root.${i}`:n&&Tn(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function uS(a,n){if(a.id in n)return n[a.id];try{let i=await import(a.module);return n[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cS(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function dS(a,n,i){let l=await Promise.all(a.map(async o=>{let u=n.routes[o.route.id];if(u){let d=await uS(u,i);return d.links?d.links():[]}return[]}));return pS(l.flat(1).filter(cS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Hg(a,n,i,l,o,u){let d=(m,p)=>i[p]?m.route.id!==i[p].route.id:!0,h=(m,p)=>i[p].pathname!==m.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==m.params["*"];return u==="assets"?n.filter((m,p)=>d(m,p)||h(m,p)):u==="data"?n.filter((m,p)=>{let y=l.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(d(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function fS(a,n,{includeHydrateFallback:i}={}){return hS(a.map(l=>{let o=n.routes[l.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function hS(a){return[...new Set(a)]}function mS(a){let n={},i=Object.keys(a).sort();for(let l of i)n[l]=a[l];return n}function pS(a,n){let i=new Set;return new Set(n),a.reduce((l,o)=>{let u=JSON.stringify(mS(o));return i.has(u)||(i.add(u),l.push({key:u,link:o})),l},[])}function Qy(){let a=z.useContext(Aa);return af(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function gS(){let a=z.useContext(Yl);return af(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var lf=z.createContext(void 0);lf.displayName="FrameworkContext";function Xy(){let a=z.useContext(lf);return af(a,"You must render this element inside a <HydratedRouter> element"),a}function yS(a,n){let i=z.useContext(lf),[l,o]=z.useState(!1),[u,d]=z.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=n,S=z.useRef(null);z.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let A=B=>{B.forEach(q=>{d(q.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return S.current&&C.observe(S.current),()=>{C.disconnect()}}},[a]),z.useEffect(()=>{if(l){let A=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(A)}}},[l]);let w=()=>{o(!0)},E=()=>{o(!1),d(!1)};return i?a!=="intent"?[u,S,{}]:[u,S,{onFocus:Cl(h,w),onBlur:Cl(m,E),onMouseEnter:Cl(p,w),onMouseLeave:Cl(y,E),onTouchStart:Cl(v,w)}]:[!1,S,{}]}function Cl(a,n){return i=>{a&&a(i),i.defaultPrevented||n(i)}}function vS({page:a,...n}){let{router:i}=Qy(),l=z.useMemo(()=>qr(i.routes,a,i.basename),[i.routes,a,i.basename]);return l?z.createElement(wS,{page:a,matches:l,...n}):null}function bS(a){let{manifest:n,routeModules:i}=Xy(),[l,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return dS(a,n,i).then(d=>{u||o(d)}),()=>{u=!0}},[a,n,i]),l}function wS({page:a,matches:n,...i}){let l=Yr(),{manifest:o,routeModules:u}=Xy(),{basename:d}=Qy(),{loaderData:h,matches:m}=gS(),p=z.useMemo(()=>Hg(a,n,m,o,l,"data"),[a,n,m,o,l]),y=z.useMemo(()=>Hg(a,n,m,o,l,"assets"),[a,n,m,o,l]),v=z.useMemo(()=>{if(a===l.pathname+l.search+l.hash)return[];let E=new Set,A=!1;if(n.forEach(B=>{let q=o.routes[B.route.id];!q||!q.hasLoader||(!p.some(H=>H.route.id===B.route.id)&&B.route.id in h&&u[B.route.id]?.shouldRevalidate||q.hasClientLoader?A=!0:E.add(B.route.id))}),E.size===0)return[];let C=oS(a,d,"data");return A&&E.size>0&&C.searchParams.set("_routes",n.filter(B=>E.has(B.route.id)).map(B=>B.route.id).join(",")),[C.pathname+C.search]},[d,h,l,o,p,n,a,u]),S=z.useMemo(()=>fS(y,o),[y,o]),w=bS(y);return z.createElement(z.Fragment,null,v.map(E=>z.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...i})),S.map(E=>z.createElement("link",{key:E,rel:"modulepreload",href:E,...i})),w.map(({key:E,link:A})=>z.createElement("link",{key:E,nonce:i.nonce,...A})))}function _S(...a){return n=>{a.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var Wy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wy&&(window.__reactRouterVersion="7.10.0")}catch{}function SS(a,n){return s_({basename:n?.basename,getContext:n?.getContext,future:n?.future,history:_w({window:n?.window}),hydrationData:ES(),routes:a,mapRouteProperties:K_,hydrationRouteProperties:J_,dataStrategy:n?.dataStrategy,patchRoutesOnNavigation:n?.patchRoutesOnNavigation,window:n?.window,unstable_instrumentations:n?.unstable_instrumentations}).initialize()}function ES(){let a=window?.__staticRouterHydrationData;return a&&a.errors&&(a={...a,errors:xS(a.errors)}),a}function xS(a){if(!a)return null;let n=Object.entries(a),i={};for(let[l,o]of n)if(o&&o.__type==="RouteErrorResponse")i[l]=new Po(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let d=new u(o.message);d.stack="",i[l]=d}catch{}}if(i[l]==null){let u=new Error(o.message);u.stack="",i[l]=u}}else i[l]=o;return i}var Zy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ra=z.forwardRef(function({onClick:n,discover:i="render",prefetch:l="none",relative:o,reloadDocument:u,replace:d,state:h,target:m,to:p,preventScrollReset:y,viewTransition:v,...S},w){let{basename:E,unstable_useTransitions:A}=z.useContext(Nn),C=typeof p=="string"&&Zy.test(p),B,q=!1;if(typeof p=="string"&&C&&(B=p,Wy))try{let fe=new URL(window.location.href),ie=p.startsWith("//")?new URL(fe.protocol+p):new URL(p),He=Tn(ie.pathname,E);ie.origin===fe.origin&&He!=null?p=He+ie.search+ie.hash:q=!0}catch{pt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=D_(p,{relative:o}),[Q,Z,ae]=yS(l,S),O=jS(p,{replace:d,state:h,target:m,preventScrollReset:y,relative:o,viewTransition:v,unstable_useTransitions:A});function ye(fe){n&&n(fe),fe.defaultPrevented||O(fe)}let F=z.createElement("a",{...S,...ae,href:B||H,onClick:q||u?n:ye,ref:_S(w,Z),target:m,"data-discover":!C&&i==="render"?"true":void 0});return Q&&!C?z.createElement(z.Fragment,null,F,z.createElement(vS,{page:H})):F});Ra.displayName="Link";var TS=z.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:l="",end:o=!1,style:u,to:d,viewTransition:h,children:m,...p},y){let v=Jl(d,{relative:p.relative}),S=Yr(),w=z.useContext(Yl),{navigator:E,basename:A}=z.useContext(Nn),C=w!=null&&US(v)&&h===!0,B=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,q=S.pathname,H=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(q=q.toLowerCase(),H=H?H.toLowerCase():null,B=B.toLowerCase()),H&&A&&(H=Tn(H,A)||H);const Q=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let Z=q===B||!o&&q.startsWith(B)&&q.charAt(Q)==="/",ae=H!=null&&(H===B||!o&&H.startsWith(B)&&H.charAt(B.length)==="/"),O={isActive:Z,isPending:ae,isTransitioning:C},ye=Z?n:void 0,F;typeof l=="function"?F=l(O):F=[l,Z?"active":null,ae?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let fe=typeof u=="function"?u(O):u;return z.createElement(Ra,{...p,"aria-current":ye,className:F,ref:y,style:fe,to:d,viewTransition:h},typeof m=="function"?m(O):m)});TS.displayName="NavLink";var OS=z.forwardRef(({discover:a="render",fetcherKey:n,navigate:i,reloadDocument:l,replace:o,state:u,method:d=Co,action:h,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,...S},w)=>{let{unstable_useTransitions:E}=z.useContext(Nn),A=DS(),C=zS(h,{relative:p}),B=d.toLowerCase()==="get"?"get":"post",q=typeof h=="string"&&Zy.test(h),H=Q=>{if(m&&m(Q),Q.defaultPrevented)return;Q.preventDefault();let Z=Q.nativeEvent.submitter,ae=Z?.getAttribute("formmethod")||d,O=()=>A(Z||Q.currentTarget,{fetcherKey:n,method:ae,navigate:i,replace:o,state:u,relative:p,preventScrollReset:y,viewTransition:v});E&&i!==!1?z.startTransition(()=>O()):O()};return z.createElement("form",{ref:w,method:B,action:C,onSubmit:l?m:H,...S,"data-discover":!q&&a==="render"?"true":void 0})});OS.displayName="Form";function RS(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fy(a){let n=z.useContext(Aa);return Re(n,RS(a)),n}function jS(a,{target:n,replace:i,state:l,preventScrollReset:o,relative:u,viewTransition:d,unstable_useTransitions:h}={}){let m=Kr(),p=Yr(),y=Jl(a,{relative:u});return z.useCallback(v=>{if(aS(v,n)){v.preventDefault();let S=i!==void 0?i:In(p)===In(y),w=()=>m(a,{replace:S,state:l,preventScrollReset:o,relative:u,viewTransition:d});h?z.startTransition(()=>w()):w()}},[p,m,y,i,l,n,a,o,u,d,h])}var AS=0,CS=()=>`__${String(++AS)}__`;function DS(){let{router:a}=Fy("useSubmit"),{basename:n}=z.useContext(Nn),i=P_(),l=a.fetch,o=a.navigate;return z.useCallback(async(u,d={})=>{let{action:h,method:m,encType:p,formData:y,body:v}=sS(u,n);if(d.navigate===!1){let S=d.fetcherKey||CS();await l(S,i,d.action||h,{preventScrollReset:d.preventScrollReset,formData:y,body:v,formMethod:d.method||m,formEncType:d.encType||p,flushSync:d.flushSync})}else await o(d.action||h,{preventScrollReset:d.preventScrollReset,formData:y,body:v,formMethod:d.method||m,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:i,flushSync:d.flushSync,viewTransition:d.viewTransition})},[l,o,n,i])}function zS(a,{relative:n}={}){let{basename:i}=z.useContext(Nn),l=z.useContext(Vn);Re(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),u={...Jl(a||".",{relative:n})},d=Yr();if(a==null){u.search=d.search;let h=new URLSearchParams(u.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();u.search=y?`?${y}`:""}}return(!a||a===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Pn([i,u.pathname])),In(u)}function US(a,{relative:n}={}){let i=z.useContext(ef);Re(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Fy("useViewTransitionState"),o=Jl(a,{relative:n});if(!i.isTransitioning)return!1;let u=Tn(i.currentLocation.pathname,l)||i.currentLocation.pathname,d=Tn(i.nextLocation.pathname,l)||i.nextLocation.pathname;return Uo(o.pathname,d)!=null||Uo(o.pathname,u)!=null}var ev=Ry();function kS(a){return z.createElement(X_,{flushSync:ev.flushSync,...a})}var Ud=function(a,n){return Ud=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(i[o]=l[o])},Ud(a,n)};function tv(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Ud(a,n);function i(){this.constructor=a}a.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var Mo=function(){return Mo=Object.assign||function(n){for(var i,l=1,o=arguments.length;l<o;l++){i=arguments[l];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(n[u]=i[u])}return n},Mo.apply(this,arguments)};function Ci(a,n){var i={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&n.indexOf(l)<0&&(i[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(a);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(a,l[o])&&(i[l[o]]=a[l[o]]);return i}function nv(a,n,i,l){var o=arguments.length,u=o<3?n:l===null?l=Object.getOwnPropertyDescriptor(n,i):l,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,n,i,l);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(u=(o<3?d(u):o>3?d(n,i,u):d(n,i))||u);return o>3&&u&&Object.defineProperty(n,i,u),u}function rv(a,n){return function(i,l){n(i,l,a)}}function av(a,n,i,l,o,u){function d(B){if(B!==void 0&&typeof B!="function")throw new TypeError("Function expected");return B}for(var h=l.kind,m=h==="getter"?"get":h==="setter"?"set":"value",p=!n&&a?l.static?a:a.prototype:null,y=n||(p?Object.getOwnPropertyDescriptor(p,l.name):{}),v,S=!1,w=i.length-1;w>=0;w--){var E={};for(var A in l)E[A]=A==="access"?{}:l[A];for(var A in l.access)E.access[A]=l.access[A];E.addInitializer=function(B){if(S)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d(B||null))};var C=(0,i[w])(h==="accessor"?{get:y.get,set:y.set}:y[m],E);if(h==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(v=d(C.get))&&(y.get=v),(v=d(C.set))&&(y.set=v),(v=d(C.init))&&o.unshift(v)}else(v=d(C))&&(h==="field"?o.unshift(v):y[m]=v)}p&&Object.defineProperty(p,l.name,y),S=!0}function iv(a,n,i){for(var l=arguments.length>2,o=0;o<n.length;o++)i=l?n[o].call(a,i):n[o].call(a);return l?i:void 0}function lv(a){return typeof a=="symbol"?a:"".concat(a)}function sv(a,n,i){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:i?"".concat(i," ",n):n})}function ov(a,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,n)}function oe(a,n,i,l){function o(u){return u instanceof i?u:new i(function(d){d(u)})}return new(i||(i=Promise))(function(u,d){function h(y){try{p(l.next(y))}catch(v){d(v)}}function m(y){try{p(l.throw(y))}catch(v){d(v)}}function p(y){y.done?u(y.value):o(y.value).then(h,m)}p((l=l.apply(a,n||[])).next())})}function uv(a,n){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},l,o,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=h(0),d.throw=h(1),d.return=h(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(p){return function(y){return m([p,y])}}function m(p){if(l)throw new TypeError("Generator is already executing.");for(;d&&(d=0,p[0]&&(i=0)),i;)try{if(l=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,o=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){i=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){i.label=p[1];break}if(p[0]===6&&i.label<u[1]){i.label=u[1],u=p;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(p);break}u[2]&&i.ops.pop(),i.trys.pop();continue}p=n.call(a,i)}catch(y){p=[6,y],o=0}finally{l=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Go=Object.create?(function(a,n,i,l){l===void 0&&(l=i);var o=Object.getOwnPropertyDescriptor(n,i);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[i]}}),Object.defineProperty(a,l,o)}):(function(a,n,i,l){l===void 0&&(l=i),a[l]=n[i]});function cv(a,n){for(var i in a)i!=="default"&&!Object.prototype.hasOwnProperty.call(n,i)&&Go(n,a,i)}function No(a){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&a[n],l=0;if(i)return i.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&l>=a.length&&(a=void 0),{value:a&&a[l++],done:!a}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function sf(a,n){var i=typeof Symbol=="function"&&a[Symbol.iterator];if(!i)return a;var l=i.call(a),o,u=[],d;try{for(;(n===void 0||n-- >0)&&!(o=l.next()).done;)u.push(o.value)}catch(h){d={error:h}}finally{try{o&&!o.done&&(i=l.return)&&i.call(l)}finally{if(d)throw d.error}}return u}function dv(){for(var a=[],n=0;n<arguments.length;n++)a=a.concat(sf(arguments[n]));return a}function fv(){for(var a=0,n=0,i=arguments.length;n<i;n++)a+=arguments[n].length;for(var l=Array(a),o=0,n=0;n<i;n++)for(var u=arguments[n],d=0,h=u.length;d<h;d++,o++)l[o]=u[d];return l}function hv(a,n,i){if(i||arguments.length===2)for(var l=0,o=n.length,u;l<o;l++)(u||!(l in n))&&(u||(u=Array.prototype.slice.call(n,0,l)),u[l]=n[l]);return a.concat(u||Array.prototype.slice.call(n))}function Ri(a){return this instanceof Ri?(this.v=a,this):new Ri(a)}function mv(a,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(a,n||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),o[Symbol.asyncIterator]=function(){return this},o;function d(w){return function(E){return Promise.resolve(E).then(w,v)}}function h(w,E){l[w]&&(o[w]=function(A){return new Promise(function(C,B){u.push([w,A,C,B])>1||m(w,A)})},E&&(o[w]=E(o[w])))}function m(w,E){try{p(l[w](E))}catch(A){S(u[0][3],A)}}function p(w){w.value instanceof Ri?Promise.resolve(w.value.v).then(y,v):S(u[0][2],w)}function y(w){m("next",w)}function v(w){m("throw",w)}function S(w,E){w(E),u.shift(),u.length&&m(u[0][0],u[0][1])}}function pv(a){var n,i;return n={},l("next"),l("throw",function(o){throw o}),l("return"),n[Symbol.iterator]=function(){return this},n;function l(o,u){n[o]=a[o]?function(d){return(i=!i)?{value:Ri(a[o](d)),done:!1}:u?u(d):d}:u}}function gv(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=a[Symbol.asyncIterator],i;return n?n.call(a):(a=typeof No=="function"?No(a):a[Symbol.iterator](),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(u){i[u]=a[u]&&function(d){return new Promise(function(h,m){d=a[u](d),o(h,m,d.done,d.value)})}}function o(u,d,h,m){Promise.resolve(m).then(function(p){u({value:p,done:h})},d)}}function yv(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a}var MS=Object.create?(function(a,n){Object.defineProperty(a,"default",{enumerable:!0,value:n})}):function(a,n){a.default=n},kd=function(a){return kd=Object.getOwnPropertyNames||function(n){var i=[];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(i[i.length]=l);return i},kd(a)};function vv(a){if(a&&a.__esModule)return a;var n={};if(a!=null)for(var i=kd(a),l=0;l<i.length;l++)i[l]!=="default"&&Go(n,a,i[l]);return MS(n,a),n}function bv(a){return a&&a.__esModule?a:{default:a}}function wv(a,n,i,l){if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?a!==n||!l:!n.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?l:i==="a"?l.call(a):l?l.value:n.get(a)}function _v(a,n,i,l,o){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?a!==n||!o:!n.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?o.call(a,i):o?o.value=i:n.set(a,i),i}function Sv(a,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof a=="function"?n===a:a.has(n)}function Ev(a,n,i){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var l,o;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=n[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=n[Symbol.dispose],i&&(o=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");o&&(l=function(){try{o.call(this)}catch(u){return Promise.reject(u)}}),a.stack.push({value:n,dispose:l,async:i})}else i&&a.stack.push({async:!0});return n}var NS=typeof SuppressedError=="function"?SuppressedError:function(a,n,i){var l=new Error(i);return l.name="SuppressedError",l.error=a,l.suppressed=n,l};function xv(a){function n(u){a.error=a.hasError?new NS(u,a.error,"An error was suppressed during disposal."):u,a.hasError=!0}var i,l=0;function o(){for(;i=a.stack.pop();)try{if(!i.async&&l===1)return l=0,a.stack.push(i),Promise.resolve().then(o);if(i.dispose){var u=i.dispose.call(i.value);if(i.async)return l|=2,Promise.resolve(u).then(o,function(d){return n(d),o()})}else l|=1}catch(d){n(d)}if(l===1)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return o()}function Tv(a,n){return typeof a=="string"&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,l,o,u,d){return l?n?".jsx":".js":o&&(!u||!d)?i:o+u+"."+d.toLowerCase()+"js"}):a}const BS={__extends:tv,__assign:Mo,__rest:Ci,__decorate:nv,__param:rv,__esDecorate:av,__runInitializers:iv,__propKey:lv,__setFunctionName:sv,__metadata:ov,__awaiter:oe,__generator:uv,__createBinding:Go,__exportStar:cv,__values:No,__read:sf,__spread:dv,__spreadArrays:fv,__spreadArray:hv,__await:Ri,__asyncGenerator:mv,__asyncDelegator:pv,__asyncValues:gv,__makeTemplateObject:yv,__importStar:vv,__importDefault:bv,__classPrivateFieldGet:wv,__classPrivateFieldSet:_v,__classPrivateFieldIn:Sv,__addDisposableResource:Ev,__disposeResources:xv,__rewriteRelativeImportExtension:Tv},LS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Ev,get __assign(){return Mo},__asyncDelegator:pv,__asyncGenerator:mv,__asyncValues:gv,__await:Ri,__awaiter:oe,__classPrivateFieldGet:wv,__classPrivateFieldIn:Sv,__classPrivateFieldSet:_v,__createBinding:Go,__decorate:nv,__disposeResources:xv,__esDecorate:av,__exportStar:cv,__extends:tv,__generator:uv,__importDefault:bv,__importStar:vv,__makeTemplateObject:yv,__metadata:ov,__param:rv,__propKey:lv,__read:sf,__rest:Ci,__rewriteRelativeImportExtension:Tv,__runInitializers:iv,__setFunctionName:sv,__spread:dv,__spreadArray:hv,__spreadArrays:fv,__values:No,default:BS},Symbol.toStringTag,{value:"Module"})),HS=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);class of extends Error{constructor(n,i="FunctionsError",l){super(n),this.name=i,this.context=l}}class qS extends of{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class qg extends of{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class $g extends of{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Md;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Md||(Md={}));class $S{constructor(n,{headers:i={},customFetch:l,region:o=Md.Any}={}){this.url=n,this.headers=i,this.region=o,this.fetch=HS(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return oe(this,arguments,void 0,function*(i,l={}){var o;let u,d;try{const{headers:h,method:m,body:p,signal:y,timeout:v}=l;let S={},{region:w}=l;w||(w=this.region);const E=new URL(`${this.url}/${i}`);w&&w!=="any"&&(S["x-region"]=w,E.searchParams.set("forceFunctionRegion",w));let A;p&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",A=p):typeof p=="string"?(S["Content-Type"]="text/plain",A=p):typeof FormData<"u"&&p instanceof FormData?A=p:(S["Content-Type"]="application/json",A=JSON.stringify(p)):A=p;let C=y;v&&(d=new AbortController,u=setTimeout(()=>d.abort(),v),y?(C=d.signal,y.addEventListener("abort",()=>d.abort())):C=d.signal);const B=yield this.fetch(E.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),h),body:A,signal:C}).catch(Z=>{throw new qS(Z)}),q=B.headers.get("x-relay-error");if(q&&q==="true")throw new qg(B);if(!B.ok)throw new $g(B);let H=((o=B.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),Q;return H==="application/json"?Q=yield B.json():H==="application/octet-stream"||H==="application/pdf"?Q=yield B.blob():H==="text/event-stream"?Q=B:H==="multipart/form-data"?Q=yield B.formData():Q=yield B.text(),{data:Q,error:null,response:B}}catch(h){return{data:null,error:h,response:h instanceof $g||h instanceof qg?h.context:void 0}}finally{u&&clearTimeout(u)}})}}var Mt={};const Di=ow(LS);var po={},go={},yo={},vo={},bo={},wo={},Pg;function Ov(){if(Pg)return wo;Pg=1,Object.defineProperty(wo,"__esModule",{value:!0});class a extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return wo.default=a,wo}var Ig;function Rv(){if(Ig)return bo;Ig=1,Object.defineProperty(bo,"__esModule",{value:!0});const n=Di.__importDefault(Ov());class i{constructor(o){var u,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(u=o.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=new Headers(this.headers),this.headers.set(o,u),this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,y,v,S;let w=null,E=null,A=null,C=m.status,B=m.statusText;if(m.ok){if(this.method!=="HEAD"){const Z=await m.text();Z===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?E=Z:E=JSON.parse(Z))}const H=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),Q=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");H&&Q&&Q.length>1&&(A=parseInt(Q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(w={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,A=null,C=406,B="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const H=await m.text();try{w=JSON.parse(H),Array.isArray(w)&&m.status===404&&(E=[],w=null,C=200,B="OK")}catch{m.status===404&&H===""?(C=204,B="No Content"):w={message:H}}if(w&&this.isMaybeSingle&&(!((S=w?.details)===null||S===void 0)&&S.includes("0 rows"))&&(w=null,C=200,B="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:E,count:A,status:C,statusText:B}});return this.shouldThrowOnError||(h=h.catch(m=>{var p,y,v,S,w,E;let A="";const C=m?.cause;if(C){const B=(p=C?.message)!==null&&p!==void 0?p:"",q=(y=C?.code)!==null&&y!==void 0?y:"";A=`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,A+=`

Caused by: ${(S=C?.name)!==null&&S!==void 0?S:"Error"}: ${B}`,q&&(A+=` (${q})`),C?.stack&&(A+=`
${C.stack}`)}else A=(w=m?.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(E=m?.name)!==null&&E!==void 0?E:"FetchError"}: ${m?.message}`,details:A,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(o,u)}returns(){return this}overrideTypes(){return this}}return bo.default=i,bo}var Vg;function jv(){if(Vg)return vo;Vg=1,Object.defineProperty(vo,"__esModule",{value:!0});const n=Di.__importDefault(Rv());class i extends n.default{select(o){let u=!1;const d=(o??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:u=!0,nullsFirst:d,foreignTable:h,referencedTable:m=h}={}){const p=m?`${m}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${o}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,u,{foreignTable:d,referencedTable:h=d}={}){const m=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(p,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:u=!1,settings:d=!1,buffers:h=!1,wal:m=!1,format:p="text"}={}){var y;const v=[o?"analyze":null,u?"verbose":null,d?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),S=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${S}"; options=${v};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return vo.default=i,vo}var Gg;function uf(){if(Gg)return yo;Gg=1,Object.defineProperty(yo,"__esModule",{value:!0});const n=Di.__importDefault(jv()),i=new RegExp("[,()]");class l extends n.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}regexMatch(u,d){return this.url.searchParams.append(u,`match.${d}`),this}regexIMatch(u,d){return this.url.searchParams.append(u,`imatch.${d}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}isDistinct(u,d){return this.url.searchParams.append(u,`isdistinct.${d}`),this}in(u,d){const h=Array.from(new Set(d)).map(m=>typeof m=="string"&&i.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(u,`in.(${h})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:h,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const y=h===void 0?"":`(${h})`;return this.url.searchParams.append(u,`${p}fts${y}.${d}`),this}match(u){return Object.entries(u).forEach(([d,h])=>{this.url.searchParams.append(d,`eq.${h}`)}),this}not(u,d,h){return this.url.searchParams.append(u,`not.${d}.${h}`),this}or(u,{foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${u})`),this}filter(u,d,h){return this.url.searchParams.append(u,`${d}.${h}`),this}}return yo.default=l,yo}var Yg;function Av(){if(Yg)return go;Yg=1,Object.defineProperty(go,"__esModule",{value:!0});const n=Di.__importDefault(uf());class i{constructor(o,{headers:u={},schema:d,fetch:h}){this.url=o,this.headers=new Headers(u),this.schema=d,this.fetch=h}select(o,u){const{head:d=!1,count:h}=u??{},m=d?"HEAD":"GET";let p=!1;const y=(o??"*").split("").map(v=>/\s/.test(v)&&!p?"":(v==='"'&&(p=!p),v)).join("");return this.url.searchParams.set("select",y),h&&this.headers.append("Prefer",`count=${h}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:u,defaultToNull:d=!0}={}){var h;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(p.length>0){const y=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(o,{onConflict:u,ignoreDuplicates:d=!1,count:h,defaultToNull:m=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),h&&this.headers.append("Prefer",`count=${h}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const v=o.reduce((S,w)=>S.concat(Object.keys(w)),[]);if(v.length>0){const S=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",S.join(","))}}return new n.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:u}={}){var d;const h="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:o}={}){var u;const d="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return go.default=i,go}var Kg;function PS(){if(Kg)return po;Kg=1,Object.defineProperty(po,"__esModule",{value:!0});const a=Di,n=a.__importDefault(Av()),i=a.__importDefault(uf());class l{constructor(u,{headers:d={},schema:h,fetch:m}={}){this.url=u,this.headers=new Headers(d),this.schemaName=h,this.fetch=m}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${u}`);return new n.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new l(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:h=!1,get:m=!1,count:p}={}){var y;let v;const S=new URL(`${this.url}/rpc/${u}`);let w;h||m?(v=h?"HEAD":"GET",Object.entries(d).filter(([A,C])=>C!==void 0).map(([A,C])=>[A,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([A,C])=>{S.searchParams.append(A,C)})):(v="POST",w=d);const E=new Headers(this.headers);return p&&E.set("Prefer",`count=${p}`),new i.default({method:v,url:S,headers:E,schema:this.schemaName,body:w,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return po.default=l,po}var Jg;function IS(){if(Jg)return Mt;Jg=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.PostgrestError=Mt.PostgrestBuilder=Mt.PostgrestTransformBuilder=Mt.PostgrestFilterBuilder=Mt.PostgrestQueryBuilder=Mt.PostgrestClient=void 0;const a=Di,n=a.__importDefault(PS());Mt.PostgrestClient=n.default;const i=a.__importDefault(Av());Mt.PostgrestQueryBuilder=i.default;const l=a.__importDefault(uf());Mt.PostgrestFilterBuilder=l.default;const o=a.__importDefault(jv());Mt.PostgrestTransformBuilder=o.default;const u=a.__importDefault(Rv());Mt.PostgrestBuilder=u.default;const d=a.__importDefault(Ov());return Mt.PostgrestError=d.default,Mt.default={PostgrestClient:n.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:d.default},Mt}var Cv=IS();const Dv=Oy(Cv),VS=Ty({__proto__:null,default:Dv},[Cv]),{PostgrestClient:GS,PostgrestQueryBuilder:uT,PostgrestFilterBuilder:cT,PostgrestTransformBuilder:dT,PostgrestBuilder:fT,PostgrestError:hT}=Dv||VS;class YS{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const l=i.node,o=parseInt(l.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const l=this.getWebSocketConstructor();return new l(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const KS="2.86.0",JS=`realtime-js/${KS}`,zv="1.0.0",QS="2.0.0",Qg=zv,Nd=1e4,XS=1e3,WS=100;var Sa;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Sa||(Sa={}));var Et;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(Et||(Et={}));var Mn;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Mn||(Mn={}));var Bd;(function(a){a.websocket="websocket"})(Bd||(Bd={}));var Ea;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Ea||(Ea={}));class ZS{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,l;const o=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var i,l;const o=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},d=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(n,i,l){var o,u;const d=n.topic,h=(o=n.ref)!==null&&o!==void 0?o:"",m=(u=n.join_ref)!==null&&u!==void 0?u:"",p=n.payload.event,y=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+h.length+d.length+p.length+v.length,w=new ArrayBuffer(this.HEADER_LENGTH+S);let E=new DataView(w),A=0;E.setUint8(A++,this.KINDS.userBroadcastPush),E.setUint8(A++,m.length),E.setUint8(A++,h.length),E.setUint8(A++,d.length),E.setUint8(A++,p.length),E.setUint8(A++,v.length),E.setUint8(A++,i),Array.from(m,B=>E.setUint8(A++,B.charCodeAt(0))),Array.from(h,B=>E.setUint8(A++,B.charCodeAt(0))),Array.from(d,B=>E.setUint8(A++,B.charCodeAt(0))),Array.from(p,B=>E.setUint8(A++,B.charCodeAt(0))),Array.from(v,B=>E.setUint8(A++,B.charCodeAt(0)));var C=new Uint8Array(w.byteLength+l.byteLength);return C.set(new Uint8Array(w),0),C.set(new Uint8Array(l),w.byteLength),C.buffer}decode(n,i){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return i(l)}if(typeof n=="string"){const l=JSON.parse(n),[o,u,d,h,m]=l;return i({join_ref:o,ref:u,topic:d,event:h,payload:m})}return i({})}_binaryDecode(n){const i=new DataView(n),l=i.getUint8(0),o=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,i,o)}}_decodeUserBroadcast(n,i,l){const o=i.getUint8(1),u=i.getUint8(2),d=i.getUint8(3),h=i.getUint8(4);let m=this.HEADER_LENGTH+4;const p=l.decode(n.slice(m,m+o));m=m+o;const y=l.decode(n.slice(m,m+u));m=m+u;const v=l.decode(n.slice(m,m+d));m=m+d;const S=n.slice(m,n.byteLength),w=h===this.JSON_ENCODING?JSON.parse(l.decode(S)):S,E={type:this.BROADCAST_EVENT,event:y,payload:w};return d>0&&(E.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>i.includes(l)))}}class Uv{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(et||(et={}));const Xg=(a,n,i={})=>{var l;const o=(l=i.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((u,d)=>(u[d]=FS(d,a,n,o),u),{}):{}},FS=(a,n,i,l)=>{const o=n.find(h=>h.name===a),u=o?.type,d=i[a];return u&&!l.includes(u)?kv(u,d):Ld(d)},kv=(a,n)=>{if(a.charAt(0)==="_"){const i=a.slice(1,a.length);return rE(n,i)}switch(a){case et.bool:return eE(n);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return tE(n);case et.json:case et.jsonb:return nE(n);case et.timestamp:return aE(n);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return Ld(n);default:return Ld(n)}},Ld=a=>a,eE=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},tE=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},nE=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(n){return console.log(`JSON parse error: ${n}`),a}return a},rE=(a,n)=>{if(typeof a!="string")return a;const i=a.length-1,l=a[i];if(a[0]==="{"&&l==="}"){let u;const d=a.slice(1,i);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(h=>kv(n,h))}return a},aE=a=>typeof a=="string"?a.replace(" ","T"):a,Mv=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class wd{constructor(n,i,l={},o=Nd){this.channel=n,this.event=i,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var l;return this._hasReceived(n)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Wg;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Wg||(Wg={}));class Nl{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nl.syncState(this.state,o,u,d),this.pendingDiffs.forEach(m=>{this.state=Nl.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],h()}),this.channel._on(l.diff,{},o=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Nl.syncDiff(this.state,o,u,d),h())}),this.onJoin((o,u,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:d})}),this.onLeave((o,u,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,l,o){const u=this.cloneDeep(n),d=this.transformState(i),h={},m={};return this.map(u,(p,y)=>{d[p]||(m[p]=y)}),this.map(d,(p,y)=>{const v=u[p];if(v){const S=y.map(C=>C.presence_ref),w=v.map(C=>C.presence_ref),E=y.filter(C=>w.indexOf(C.presence_ref)<0),A=v.filter(C=>S.indexOf(C.presence_ref)<0);E.length>0&&(h[p]=E),A.length>0&&(m[p]=A)}else h[p]=y}),this.syncDiff(u,{joins:h,leaves:m},l,o)}static syncDiff(n,i,l,o){const{joins:u,leaves:d}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(u,(h,m)=>{var p;const y=(p=n[h])!==null&&p!==void 0?p:[];if(n[h]=this.cloneDeep(m),y.length>0){const v=n[h].map(w=>w.presence_ref),S=y.filter(w=>v.indexOf(w.presence_ref)<0);n[h].unshift(...S)}l(h,y,m)}),this.map(d,(h,m)=>{let p=n[h];if(!p)return;const y=m.map(v=>v.presence_ref);p=p.filter(v=>y.indexOf(v.presence_ref)<0),n[h]=p,o(h,p,m),p.length===0&&delete n[h]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(l=>i(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,l)=>{const o=n[l];return"metas"in o?i[l]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[l]=o,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zg;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Zg||(Zg={}));var Bl;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Bl||(Bl={}));var fr;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(fr||(fr={}));class cf{constructor(n,i={config:{}},l){var o,u;if(this.topic=n,this.params=i,this.socket=l,this.bindings={},this.state=Et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new wd(this,Mn.join,this.params,this.timeout),this.rejoinTimer=new Uv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Et.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mn.reply,{},(d,h)=>{this._trigger(this._replyEventName(h),d)}),this.presence=new Nl(this),this.broadcastEndpointURL=Mv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var l,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Et.closed){const{config:{broadcast:d,presence:h,private:m}}=this.params,p=(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(w=>w.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Bl.PRESENCE]&&this.bindings[Bl.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,v={},S={broadcast:d,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(w=>n?.(fr.CHANNEL_ERROR,w)),this._onClose(()=>n?.(fr.CLOSED)),this.updateJoinPayload(Object.assign({config:S},v)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:w})=>{var E;if(this.socket.setAuth(),w===void 0){n?.(fr.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,C=(E=A?.length)!==null&&E!==void 0?E:0,B=[];for(let q=0;q<C;q++){const H=A[q],{filter:{event:Q,schema:Z,table:ae,filter:O}}=H,ye=w&&w[q];if(ye&&ye.event===Q&&ye.schema===Z&&ye.table===ae&&ye.filter===O)B.push(Object.assign(Object.assign({},H),{id:ye.id}));else{this.unsubscribe(),this.state=Et.errored,n?.(fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=B,n&&n(fr.SUBSCRIBED);return}}).receive("error",w=>{this.state=Et.errored,n?.(fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{n?.(fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,l){return this.state===Et.joined&&n===Bl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,i,l)}async httpSend(n,i,l={}){var o;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=l.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const p=await h.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(n,i={}){var l,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,h,m;const p=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Et.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(o=>{l=new wd(this,Mn.leave,{},n),l.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Et.closed,this.bindings={}}async _fetchWithTimeout(n,i,l){const o=new AbortController,u=setTimeout(()=>o.abort(),l),d=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(u),d}_push(n,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new wd(this,n,i,l);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>WS){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,l){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,l){var o,u;const d=n.toLocaleLowerCase(),{close:h,error:m,leave:p,join:y}=Mn;if(l&&[h,m,p,y].indexOf(d)>=0&&l!==this._joinRef())return;let S=this._onMessage(d,i,l);if(i&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var E,A,C;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((C=(A=w.filter)===null||A===void 0?void 0:A.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===d}).map(w=>w.callback(S,l)):(u=this.bindings[d])===null||u===void 0||u.filter(w=>{var E,A,C,B,q,H;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in w){const Q=w.id,Z=(E=w.filter)===null||E===void 0?void 0:E.event;return Q&&((A=i.ids)===null||A===void 0?void 0:A.includes(Q))&&(Z==="*"||Z?.toLocaleLowerCase()===((C=i.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const Q=(q=(B=w?.filter)===null||B===void 0?void 0:B.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return Q==="*"||Q===((H=i?.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===d}).map(w=>{if(typeof S=="object"&&"ids"in S){const E=S.data,{schema:A,table:C,commit_timestamp:B,type:q,errors:H}=E;S=Object.assign(Object.assign({},{schema:A,table:C,commit_timestamp:B,eventType:q,new:{},old:{},errors:H}),this._getPayloadRecords(E))}w.callback(S,l)})}_isClosed(){return this.state===Et.closed}_isJoined(){return this.state===Et.joined}_isJoining(){return this.state===Et.joining}_isLeaving(){return this.state===Et.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,l){const o=n.toLocaleLowerCase(),u={type:o,filter:i,callback:l};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(n,i){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&cf.isEqual(o.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const l in n)if(n[l]!==i[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Mn.close,{},n)}_onError(n){this._on(Mn.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Et.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=Xg(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=Xg(n.columns,n.old_record)),i}}const _d=()=>{},_o={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},iE=[1e3,2e3,5e3,1e4],lE=1e4,sE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class oE{constructor(n,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nd,this.transport=null,this.heartbeatIntervalMs=_o.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_d,this.ref=0,this.reconnectTimer=null,this.vsn=Qg,this.logger=_d,this.conn=null,this.sendBuffer=[],this.serializer=new ZS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Bd.websocket}`,this.httpEndpoint=Mv(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=YS.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,l){this.logger(n,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Sa.connecting:return Ea.Connecting;case Sa.open:return Ea.Open;case Sa.closing:return Ea.Closing;default:return Ea.Closed}}isConnected(){return this.connectionState()===Ea.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const l=`realtime:${n}`,o=this.getChannels().find(u=>u.topic===l);if(o)return o;{const u=new cf(`realtime:${n}`,i,this);return this.channels.push(u),u}}push(n){const{topic:i,event:l,payload:o,ref:u}=n,d=()=>{this.encode(n,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${i} ${l} (${u})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(XS,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},_o.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:o,payload:u,ref:d}=i,h=d?`(${d})`:"",m=u.status||"";this.log("receive",`${m} ${l} ${o} ${h}`.trim(),u),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(o,u,d)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Sa.open||this.conn.readyState===Sa.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Mn.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const l=n.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${n}${l}${o}`}_workerObjectUrl(n){let i;if(n)i=n;else{const l=new Blob([sE],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i;n?i=n:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(l=>{const o={access_token:i,version:JS};i&&l.updateJoinPayload(o),l.joinedOnce&&l._isJoined()&&l._push(Mn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(i)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Uv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_o.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,l,o,u,d,h,m,p,y,v,S,w;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Nd,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:_o.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=n?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(h=n?.heartbeatCallback)!==null&&h!==void 0?h:_d,this.vsn=(m=n?.vsn)!==null&&m!==void 0?m:Qg,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n?.reconnectAfterMs)!==null&&p!==void 0?p:(E=>iE[E-1]||lE),this.vsn){case zv:this.encode=(y=n?.encode)!==null&&y!==void 0?y:((E,A)=>A(JSON.stringify(E))),this.decode=(v=n?.decode)!==null&&v!==void 0?v:((E,A)=>A(JSON.parse(E)));break;case QS:this.encode=(S=n?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(w=n?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class Yo extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function st(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class uE extends Yo{constructor(n,i,l){super(n),this.name="StorageApiError",this.status=i,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hd extends Yo{constructor(n,i){super(n),this.name="StorageUnknownError",this.originalError=i}}const df=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),cE=()=>Response,qd=a=>{if(Array.isArray(a))return a.map(i=>qd(i));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([i,l])=>{const o=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[o]=qd(l)}),n},dE=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},fE=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a),Sd=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},hE=(a,n,i)=>oe(void 0,void 0,void 0,function*(){const l=yield cE();a instanceof l&&!i?.noResolveJson?a.json().then(o=>{const u=a.status||500,d=o?.statusCode||u+"";n(new uE(Sd(o),u,d))}).catch(o=>{n(new Hd(Sd(o),o))}):n(new Hd(Sd(a),a))}),mE=(a,n,i,l)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"||!l?o:(dE(l)?(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(l)):o.body=l,n?.duplex&&(o.duplex=n.duplex),Object.assign(Object.assign({},o),i))};function Ql(a,n,i,l,o,u){return oe(this,void 0,void 0,function*(){return new Promise((d,h)=>{a(i,mE(n,l,o,u)).then(m=>{if(!m.ok)throw m;return l?.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>hE(m,h,l))})})}function $l(a,n,i,l){return oe(this,void 0,void 0,function*(){return Ql(a,"GET",n,i,l)})}function kn(a,n,i,l,o){return oe(this,void 0,void 0,function*(){return Ql(a,"POST",n,l,o,i)})}function $d(a,n,i,l,o){return oe(this,void 0,void 0,function*(){return Ql(a,"PUT",n,l,o,i)})}function pE(a,n,i,l){return oe(this,void 0,void 0,function*(){return Ql(a,"HEAD",n,Object.assign(Object.assign({},i),{noResolveJson:!0}),l)})}function ff(a,n,i,l,o){return oe(this,void 0,void 0,function*(){return Ql(a,"DELETE",n,l,o,i)})}class gE{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i}then(n,i){return this.execute().then(n,i)}execute(){return oe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}}var Nv;class yE{constructor(n,i){this.downloadFn=n,this.shouldThrowOnError=i,this[Nv]="BlobDownloadBuilder",this.promise=null}asStream(){return new gE(this.downloadFn,this.shouldThrowOnError)}then(n,i){return this.getPromise().then(n,i)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return oe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}}Nv=Symbol.toStringTag;const vE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bE{constructor(n,i={},l,o){this.shouldThrowOnError=!1,this.url=n,this.headers=i,this.bucketId=l,this.fetch=df(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,i,l,o){return oe(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},Fg),o);let h=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&l instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",l)):typeof FormData<"u"&&l instanceof FormData?(u=l,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),m&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(m))):(u=l,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),o?.headers&&(h=Object.assign(Object.assign({},h),o.headers));const p=this._removeEmptyFolders(i),y=this._getFinalPath(p),v=yield(n=="PUT"?$d:kn)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:h},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(st(u))return{data:null,error:u};throw u}})}upload(n,i,l){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,i,l)})}uploadToSignedUrl(n,i,l,o){return oe(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",i);try{let m;const p=Object.assign({upsert:Fg.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",p.cacheControl)):(m=l,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const v=yield $d(this.fetch,h.toString(),m,{headers:y});return{data:{path:u,fullPath:v.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(st(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,i){return oe(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n);const o=Object.assign({},this.headers);i?.upsert&&(o["x-upsert"]="true");const u=yield kn(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:o}),d=new URL(this.url+u.url),h=d.searchParams.get("token");if(!h)throw new Yo("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:h},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}update(n,i,l){return oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,i,l)})}move(n,i,l){return oe(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}copy(n,i,l){return oe(this,void 0,void 0,function*(){try{return{data:{path:(yield kn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:i,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}createSignedUrl(n,i,l){return oe(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),u=yield kn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:i},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}createSignedUrls(n,i,l){return oe(this,void 0,void 0,function*(){try{const o=yield kn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:n},{headers:this.headers}),u=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}download(n,i){const o=typeof i?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(i?.transform||{}),d=u?`?${u}`:"",h=this._getFinalPath(n),m=()=>$l(this.fetch,`${this.url}/${o}/${h}${d}`,{headers:this.headers,noResolveJson:!0});return new yE(m,this.shouldThrowOnError)}info(n){return oe(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{const l=yield $l(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:qd(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}exists(n){return oe(this,void 0,void 0,function*(){const i=this._getFinalPath(n);try{return yield pE(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l)&&l instanceof Hd){const o=l.originalError;if([400,404].includes(o?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(n,i){const l=this._getFinalPath(n),o=[],u=i?.download?`download=${i.download===!0?"":i.download}`:"";u!==""&&o.push(u);const h=typeof i?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(i?.transform||{});m!==""&&o.push(m);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${l}${p}`)}}}remove(n){return oe(this,void 0,void 0,function*(){try{return{data:yield ff(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}list(n,i,l){return oe(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},vE),i),{prefix:n||""});return{data:yield kn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},l),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}listV2(n,i){return oe(this,void 0,void 0,function*(){try{const l=Object.assign({},n);return{data:yield kn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const i=[];return n.width&&i.push(`width=${n.width}`),n.height&&i.push(`height=${n.height}`),n.resize&&i.push(`resize=${n.resize}`),n.format&&i.push(`format=${n.format}`),n.quality&&i.push(`quality=${n.quality}`),i.join("&")}}const Bv="2.86.0",Lv={"X-Client-Info":`storage-js/${Bv}`};class wE{constructor(n,i={},l,o){this.shouldThrowOnError=!1;const u=new URL(n);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lv),i),this.fetch=df(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return oe(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(n);return{data:yield $l(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}getBucket(n){return oe(this,void 0,void 0,function*(){try{return{data:yield $l(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}createBucket(n){return oe(this,arguments,void 0,function*(i,l={public:!1}){try{return{data:yield kn(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}updateBucket(n,i){return oe(this,void 0,void 0,function*(){try{return{data:yield $d(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}emptyBucket(n){return oe(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}deleteBucket(n){return oe(this,void 0,void 0,function*(){try{return{data:yield ff(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(n){const i={};return n&&("limit"in n&&(i.limit=String(n.limit)),"offset"in n&&(i.offset=String(n.offset)),n.search&&(i.search=n.search),n.sortColumn&&(i.sortColumn=n.sortColumn),n.sortOrder&&(i.sortOrder=n.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var Pl=class extends Error{constructor(a,n){super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function _E(a,n,i){const l=new URL(n,a);if(i)for(const[o,u]of Object.entries(i))u!==void 0&&l.searchParams.set(o,u);return l.toString()}async function SE(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function EE(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:o,body:u,headers:d}){const h=_E(a.baseUrl,l,o),m=await SE(a.auth),p=await n(h,{method:i,headers:{...u?{"Content-Type":"application/json"}:{},...m,...d},body:u?JSON.stringify(u):void 0}),y=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),S=v&&y?JSON.parse(y):y;if(!p.ok){const w=v?S:void 0,E=w?.error;throw new Pl(E?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:E?.type,icebergCode:E?.code,details:w})}return{status:p.status,headers:p.headers,data:S}}}}function So(a){return a.join("")}var xE=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:So(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(a,n){const i={namespace:a.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${So(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${So(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${So(a.namespace)}`}),!0}catch(n){if(n instanceof Pl&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(i){if(i instanceof Pl&&i.status===409)return;throw i}}};function mi(a){return a.join("")}var TE=class{constructor(a,n="",i){this.client=a,this.prefix=n,this.accessDelegation=i}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mi(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mi(a.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(a,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mi(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mi(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mi(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mi(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(i){if(i instanceof Pl&&i.status===404)return!1;throw i}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(i){if(i instanceof Pl&&i.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw i}}},OE=class{constructor(a){let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const i=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=EE({baseUrl:i,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new xE(this.client,n),this.tableOps=new TE(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}};class RE{constructor(n,i={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lv),i),this.fetch=df(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return oe(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}listBuckets(n){return oe(this,void 0,void 0,function*(){try{const i=new URLSearchParams;n?.limit!==void 0&&i.set("limit",n.limit.toString()),n?.offset!==void 0&&i.set("offset",n.offset.toString()),n?.sortColumn&&i.set("sortColumn",n.sortColumn),n?.sortOrder&&i.set("sortOrder",n.sortOrder),n?.search&&i.set("search",n.search);const l=i.toString(),o=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield $l(this.fetch,o,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}deleteBucket(n){return oe(this,void 0,void 0,function*(){try{return{data:yield ff(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}from(n){if(!fE(n))throw new Yo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new OE({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>oe(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const hf={"X-Client-Info":`storage-js/${Bv}`,"Content-Type":"application/json"};class Hv extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function un(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}class Ed extends Hv{constructor(n,i,l){super(n),this.name="StorageVectorsApiError",this.status=i,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jE extends Hv{constructor(n,i){super(n),this.name="StorageVectorsUnknownError",this.originalError=i}}var ey;(function(a){a.InternalError="InternalError",a.S3VectorConflictException="S3VectorConflictException",a.S3VectorNotFoundException="S3VectorNotFoundException",a.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",a.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",a.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ey||(ey={}));const mf=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),AE=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},ty=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),CE=(a,n,i)=>oe(void 0,void 0,void 0,function*(){if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!i?.noResolveJson){const o=a.status||500,u=a;if(typeof u.json=="function")u.json().then(d=>{const h=d?.statusCode||d?.code||o+"";n(new Ed(ty(d),o,h))}).catch(()=>{const d=o+"",h=u.statusText||`HTTP ${o} error`;n(new Ed(h,o,d))});else{const d=o+"",h=u.statusText||`HTTP ${o} error`;n(new Ed(h,o,d))}}else n(new jE(ty(a),a))}),DE=(a,n,i,l)=>{const o={method:a,headers:n?.headers||{}};return l?(AE(l)?(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(l)):o.body=l,Object.assign(Object.assign({},o),i)):o};function zE(a,n,i,l,o,u){return oe(this,void 0,void 0,function*(){return new Promise((d,h)=>{a(i,DE(n,l,o,u)).then(m=>{if(!m.ok)throw m;if(l?.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>d(m)).catch(m=>CE(m,h,l))})})}function cn(a,n,i,l,o){return oe(this,void 0,void 0,function*(){return zE(a,"POST",n,l,o,i)})}class UE{constructor(n,i={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hf),i),this.fetch=mf(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return oe(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}getIndex(n,i){return oe(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(un(l))return{data:null,error:l};throw l}})}listIndexes(n){return oe(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}deleteIndex(n,i){return oe(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:i},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(un(l))return{data:null,error:l};throw l}})}}class kE{constructor(n,i={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hf),i),this.fetch=mf(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return oe(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield cn(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}getVectors(n){return oe(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}listVectors(n){return oe(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield cn(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}queryVectors(n){return oe(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}deleteVectors(n){return oe(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield cn(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}}class ME{constructor(n,i={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hf),i),this.fetch=mf(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return oe(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}getBucket(n){return oe(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}listBuckets(){return oe(this,arguments,void 0,function*(n={}){try{return{data:yield cn(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}deleteBucket(n){return oe(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(un(i))return{data:null,error:i};throw i}})}}class NE extends ME{constructor(n,i={}){super(n,i.headers||{},i.fetch)}from(n){return new BE(this.url,this.headers,n,this.fetch)}createBucket(n){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return oe(this,void 0,void 0,function*(){return i.createBucket.call(this,n)})}getBucket(n){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return oe(this,void 0,void 0,function*(){return i.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return oe(this,arguments,void 0,function*(i={}){return n.listBuckets.call(this,i)})}deleteBucket(n){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return oe(this,void 0,void 0,function*(){return i.deleteBucket.call(this,n)})}}class BE extends UE{constructor(n,i,l,o){super(n,i,o),this.vectorBucketName=l}createIndex(n){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return oe(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return oe(this,arguments,void 0,function*(i={}){return n.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return oe(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return oe(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new LE(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class LE extends kE{constructor(n,i,l,o,u){super(n,i,u),this.vectorBucketName=l,this.indexName=o}putVectors(n){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return oe(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return oe(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return oe(this,arguments,void 0,function*(i={}){return n.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return oe(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return oe(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class HE extends wE{constructor(n,i={},l,o){super(n,i,l,o)}from(n){return new bE(this.url,this.headers,n,this.fetch)}get vectors(){return new NE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RE(this.url+"/iceberg",this.headers,this.fetch)}}const qE="2.86.0";let Ml="";typeof Deno<"u"?Ml="deno":typeof document<"u"?Ml="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ml="react-native":Ml="node";const $E={"X-Client-Info":`supabase-js-${Ml}/${qE}`},PE={headers:$E},IE={schema:"public"},VE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},GE={},YE=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),KE=()=>Headers,JE=(a,n,i)=>{const l=YE(i),o=KE();return async(u,d)=>{var h;const m=(h=await n())!==null&&h!==void 0?h:a;let p=new o(d?.headers);return p.has("apikey")||p.set("apikey",a),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),l(u,Object.assign(Object.assign({},d),{headers:p}))}};function QE(a){return a.endsWith("/")?a:a+"/"}function XE(a,n){var i,l;const{db:o,auth:u,realtime:d,global:h}=a,{db:m,auth:p,realtime:y,global:v}=n,S={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},p),u),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(i=v?.headers)!==null&&i!==void 0?i:{}),(l=h?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return a.accessToken?S.accessToken=a.accessToken:delete S.accessToken,S}function WE(a){const n=a?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(QE(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const qv="2.86.0",_i=30*1e3,Pd=3,xd=Pd*_i,ZE="http://localhost:9999",FE="supabase.auth.token",ex={"X-Client-Info":`gotrue-js/${qv}`},Id="X-Supabase-Api-Version",$v={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nx=600*1e3;class Il extends Error{constructor(n,i,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function me(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class rx extends Il{constructor(n,i,l){super(n,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function ax(a){return me(a)&&a.name==="AuthApiError"}class xa extends Il{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class Jr extends Il{constructor(n,i,l,o){super(n,l,o),this.name=i,this.status=l}}class ln extends Jr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ix(a){return me(a)&&a.name==="AuthSessionMissingError"}class pi extends Jr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Eo extends Jr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class xo extends Jr{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lx(a){return me(a)&&a.name==="AuthImplicitGrantRedirectError"}class ny extends Jr{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vd extends Jr{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function Td(a){return me(a)&&a.name==="AuthRetryableFetchError"}class ry extends Jr{constructor(n,i,l){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class Gd extends Jr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ay=` 	
\r=`.split(""),sx=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<ay.length;n+=1)a[ay[n].charCodeAt(0)]=-2;for(let n=0;n<Bo.length;n+=1)a[Bo[n].charCodeAt(0)]=n;return a})();function iy(a,n,i){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(Bo[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(Bo[l]),n.queuedBits-=6}}function Pv(a,n,i){const l=sx[a];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function ly(a){const n=[],i=d=>{n.push(String.fromCodePoint(d))},l={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=d=>{cx(d,l,i)};for(let d=0;d<a.length;d+=1)Pv(a.charCodeAt(d),o,u);return n.join("")}function ox(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function ux(a,n){for(let i=0;i<a.length;i+=1){let l=a.charCodeAt(i);if(l>55295&&l<=56319){const o=(l-55296)*1024&65535;l=(a.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}ox(l,n)}}function cx(a,n,i){if(n.utf8seq===0){if(a<=127){i(a);return}for(let l=1;l<6;l+=1)if((a>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Ti(a){const n=[],i={queue:0,queuedBits:0},l=o=>{n.push(o)};for(let o=0;o<a.length;o+=1)Pv(a.charCodeAt(o),i,l);return new Uint8Array(n)}function dx(a){const n=[];return ux(a,i=>n.push(i)),new Uint8Array(n)}function Oa(a){const n=[],i={queue:0,queuedBits:0},l=o=>{n.push(o)};return a.forEach(o=>iy(o,i,l)),iy(null,i,l),n.join("")}function fx(a){return Math.round(Date.now()/1e3)+a}function hx(){return Symbol("auth-callback")}const zt=()=>typeof window<"u"&&typeof document<"u",ba={tested:!1,writable:!1},Iv=()=>{if(!zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ba.tested)return ba.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),ba.tested=!0,ba.writable=!0}catch{ba.tested=!0,ba.writable=!1}return ba.writable};function mx(a){const n={},i=new URL(a);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,u)=>{n[u]=o})}catch{}return i.searchParams.forEach((l,o)=>{n[o]=l}),n}const Vv=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),px=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Si=async(a,n,i)=>{await a.setItem(n,JSON.stringify(i))},wa=async(a,n)=>{const i=await a.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Hr=async(a,n)=>{await a.removeItem(n)};class Ko{constructor(){this.promise=new Ko.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}Ko.promiseConstructor=Promise;function Od(a){const n=a.split(".");if(n.length!==3)throw new Gd("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!tx.test(n[l]))throw new Gd("JWT not in base64url format");return{header:JSON.parse(ly(n[0])),payload:JSON.parse(ly(n[1])),signature:Ti(n[2]),raw:{header:n[0],payload:n[1]}}}async function gx(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function yx(a,n){return new Promise((l,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await a(u);if(!n(u,null,d)){l(d);return}}catch(d){if(!n(u,d)){o(d);return}}})()})}function vx(a){return("0"+a.toString(16)).substr(-2)}function bx(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let o="";for(let u=0;u<56;u++)o+=i.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(n),Array.from(n,vx).join("")}async function wx(a){const i=new TextEncoder().encode(a),l=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(l);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function _x(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const i=await wx(a);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gi(a,n,i=!1){const l=bx();let o=l;i&&(o+="/PASSWORD_RECOVERY"),await Si(a,`${n}-code-verifier`,o);const u=await _x(l);return[u,l===u?"plain":"s256"]}const Sx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ex(a){const n=a.headers.get(Id);if(!n||!n.match(Sx))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function xx(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function Tx(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ox=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yi(a){if(!Ox.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rd(){const a={};return new Proxy(a,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Rx(a,n){return new Proxy(a,{get:(i,l,o)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const u=l.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,o)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,l,o)}})}function sy(a){return JSON.parse(JSON.stringify(a))}const _a=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),jx=[502,503,504];async function oy(a){var n;if(!px(a))throw new Vd(_a(a),0);if(jx.includes(a.status))throw new Vd(_a(a),a.status);let i;try{i=await a.json()}catch(u){throw new xa(_a(u),u)}let l;const o=Ex(a);if(o&&o.getTime()>=$v["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new ry(_a(i),a.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new ln}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new ry(_a(i),a.status,i.weak_password.reasons);throw new rx(_a(i),a.status||500,l)}const Ax=(a,n,i,l)=>{const o={method:a,headers:n?.headers||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),i))};async function we(a,n,i,l){var o;const u=Object.assign({},l?.headers);u[Id]||(u[Id]=$v["2024-01-01"].name),l?.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const d=(o=l?.query)!==null&&o!==void 0?o:{};l?.redirectTo&&(d.redirect_to=l.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await Cx(a,n,i+h,{headers:u,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function Cx(a,n,i,l,o,u){const d=Ax(n,l,o,u);let h;try{h=await a(i,Object.assign({},d))}catch(m){throw console.error(m),new Vd(_a(m),0)}if(h.ok||await oy(h),l?.noResolveJson)return h;try{return await h.json()}catch(m){await oy(m)}}function Un(a){var n;let i=null;Ux(a)&&(i=Object.assign({},a),a.expires_at||(i.expires_at=fx(a.expires_in)));const l=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:i,user:l},error:null}}function uy(a){const n=Un(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(n.data.weak_password=a.weak_password),n}function Pr(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function Dx(a){return{data:a,error:null}}function zx(a){const{action_link:n,email_otp:i,hashed_token:l,redirect_to:o,verification_type:u}=a,d=Ci(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:i,hashed_token:l,redirect_to:o,verification_type:u},m=Object.assign({},d);return{data:{properties:h,user:m},error:null}}function cy(a){return a}function Ux(a){return a.access_token&&a.refresh_token&&a.expires_in}const jd=["global","local","others"];class kx{constructor({url:n="",headers:i={},fetch:l}){this.url=n,this.headers=i,this.fetch=Vv(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=jd[0]){if(jd.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jd.join(", ")}`);try{return await we(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(me(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,i={}){try{return await we(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Pr})}catch(l){if(me(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:i}=n,l=Ci(n,["options"]),o=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(o.new_email=l?.newEmail,delete o.newEmail),await we(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:zx,redirectTo:i?.redirectTo})}catch(i){if(me(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await we(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Pr})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,l,o,u,d,h,m;try{const p={nextPage:null,lastPage:0,total:0},y=await we(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:cy});if(y.error)throw y.error;const v=await y.json(),S=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(E=>{const A=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);p[`${C}Page`]=A}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(me(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){yi(n);try{return await we(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Pr})}catch(i){if(me(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){yi(n);try{return await we(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:Pr})}catch(l){if(me(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,i=!1){yi(n);try{return await we(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:Pr})}catch(l){if(me(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){yi(n.userId);try{const{data:i,error:l}=await we(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:l}}catch(i){if(me(i))return{data:null,error:i};throw i}}async _deleteFactor(n){yi(n.userId),yi(n.id);try{return{data:await we(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,l,o,u,d,h,m;try{const p={nextPage:null,lastPage:0,total:0},y=await we(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:cy});if(y.error)throw y.error;const v=await y.json(),S=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(E=>{const A=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);p[`${C}Page`]=A}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(me(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(me(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await we(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(me(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await we(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(me(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await we(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await we(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(me(i))return{data:null,error:i};throw i}}}function dy(a={}){return{getItem:n=>a[n]||null,setItem:(n,i)=>{a[n]=i},removeItem:n=>{delete a[n]}}}const vi={debug:!!(globalThis&&Iv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gv extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Mx extends Gv{}async function Nx(a,n,i){vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),vi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await i()}finally{vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(n===0)throw vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new Mx(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(vi.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function Bx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Yv(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function Lx(a){return parseInt(a,16)}function Hx(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function qx(a){var n;const{chainId:i,domain:l,expirationTime:o,issuedAt:u=new Date,nonce:d,notBefore:h,requestId:m,resources:p,scheme:y,uri:v,version:S}=a;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const w=Yv(a.address),E=y?`${y}://${l}`:l,A=a.statement?`${a.statement}
`:"",C=`${E} wants you to sign in with your Ethereum account:
${w}

${A}`;let B=`URI: ${v}
Version: ${S}
Chain ID: ${i}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(o&&(B+=`
Expiration Time: ${o.toISOString()}`),h&&(B+=`
Not Before: ${h.toISOString()}`),m&&(B+=`
Request ID: ${m}`),p){let q=`
Resources:`;for(const H of p){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);q+=`
- ${H}`}B+=q}return`${C}
${B}`}class _t extends Error{constructor({message:n,code:i,cause:l,name:o}){var u;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(u=o??(l instanceof Error?l.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=i}}class Lo extends _t{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function $x({error:a,options:n}){var i,l,o;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new _t({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((i=u.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new _t({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new _t({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new _t({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new _t({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new _t({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new _t({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new _t({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const d=window.location.hostname;if(Kv(d)){if(u.rp.id!==d)return new _t({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new _t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new _t({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new _t({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new _t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function Px({error:a,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new _t({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new _t({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const l=window.location.hostname;if(Kv(l)){if(i.rpId!==l)return new _t({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new _t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new _t({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new _t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class Ix{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Vx=new Ix;function Gx(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:i,excludeCredentials:l}=a,o=Ci(a,["challenge","user","excludeCredentials"]),u=Ti(n).buffer,d=Object.assign(Object.assign({},i),{id:Ti(i.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:u,user:d});if(l&&l.length>0){h.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const p=l[m];h.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:Ti(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function Yx(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:i}=a,l=Ci(a,["challenge","allowCredentials"]),o=Ti(n).buffer,u=Object.assign(Object.assign({},l),{challenge:o});if(i&&i.length>0){u.allowCredentials=new Array(i.length);for(let d=0;d<i.length;d++){const h=i[d];u.allowCredentials[d]=Object.assign(Object.assign({},h),{id:Ti(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function Kx(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a;return{id:a.id,rawId:a.id,response:{attestationObject:Oa(new Uint8Array(a.response.attestationObject)),clientDataJSON:Oa(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Jx(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const i=a,l=a.getClientExtensionResults(),o=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:Oa(new Uint8Array(o.authenticatorData)),clientDataJSON:Oa(new Uint8Array(o.clientDataJSON)),signature:Oa(new Uint8Array(o.signature)),userHandle:o.userHandle?Oa(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Kv(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function fy(){var a,n;return!!(zt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Qx(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Lo("Browser returned unexpected credential type",n)}:{data:null,error:new Lo("Empty credential response",n)}}catch(n){return{data:null,error:$x({error:n,options:a})}}}async function Xx(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Lo("Browser returned unexpected credential type",n)}:{data:null,error:new Lo("Empty credential response",n)}}catch(n){return{data:null,error:Px({error:n,options:a})}}}const Wx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Zx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ho(...a){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),l={};for(const o of a)if(o)for(const u in o){const d=o[u];if(d!==void 0)if(Array.isArray(d))l[u]=d;else if(i(d))l[u]=d;else if(n(d)){const h=l[u];n(h)?l[u]=Ho(h,d):l[u]=Ho(d)}else l[u]=d}return l}function Fx(a,n){return Ho(Wx,a,n||{})}function e1(a,n){return Ho(Zx,a,n||{})}class t1{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:l,signal:o},u){try{const{data:d,error:h}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!d)return{data:null,error:h};const m=o??Vx.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${l}`),p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=Fx(d.webauthn.credential_options.publicKey,u?.create),{data:y,error:v}=await Qx({publicKey:p,signal:m});return y?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const p=e1(d.webauthn.credential_options.publicKey,u?.request),{data:y,error:v}=await Xx(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:m}));return y?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(d){return me(d)?{data:null,error:d}:{data:null,error:new xa("Unexpected error in challenge",d)}}}async _verify({challengeId:n,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!i)return{data:null,error:new Il("rpId is required for WebAuthn authentication")};try{if(!fy())return{data:null,error:new xa("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:l},signal:o},{request:u});if(!d)return{data:null,error:h};const{webauthn:m}=d;return this._verify({factorId:n,challengeId:d.challengeId,webauthn:{type:m.type,rpId:i,rpOrigins:l,credential_response:m.credential_response}})}catch(d){return me(d)?{data:null,error:d}:{data:null,error:new xa("Unexpected error in authenticate",d)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!i)return{data:null,error:new Il("rpId is required for WebAuthn registration")};try{if(!fy())return{data:null,error:new xa("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this._enroll({friendlyName:n});if(!d)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===n&&S.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:h};const{data:m,error:p}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:o},{create:u});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:i,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(d){return me(d)?{data:null,error:d}:{data:null,error:new xa("Unexpected error in register",d)}}}}Bx();const n1={url:ZE,storageKey:FE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ex,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function hy(a,n,i){return await i()}const bi={};class Vl{get jwks(){var n,i;return(i=(n=bi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){bi[this.storageKey]=Object.assign(Object.assign({},bi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=bi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){bi[this.storageKey]=Object.assign(Object.assign({},bi[this.storageKey]),{cachedAt:n})}constructor(n){var i,l,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},n1),n);if(this.storageKey=u.storageKey,this.instanceID=(i=Vl.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Vl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&zt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new kx({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Vv(u.fetch),this.lock=u.lock||hy,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:zt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=Nx:this.lock=hy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new t1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Iv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=dy(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=dy(this.memoryStorage)),zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${qv}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},l="none";if(zt()&&(i=mx(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),zt()&&this.detectSessionInUrl&&l!=="none"){const{data:o,error:u}=await this._getSessionFromURL(i,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),lx(u)){const m=(n=u.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return me(i)?this._returnResult({error:i}):this._returnResult({error:new xa("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,l,o;try{const u=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Un}),{data:d,error:h}=u;if(h||!d)return this._returnResult({data:{user:null,session:null},error:h});const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(me(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var i,l,o;try{let u;if("email"in n){const{email:y,password:v,options:S}=n;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await gi(this.storage,this.storageKey)),u=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:y,password:v,data:(i=S?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:w,code_challenge_method:E},xform:Un})}else if("phone"in n){const{phone:y,password:v,options:S}=n;u=await we(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(l=S?.data)!==null&&l!==void 0?l:{},channel:(o=S?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Un})}else throw new Eo("You must provide either an email or phone number and a password");const{data:d,error:h}=u;if(h||!d)return this._returnResult({data:{user:null,session:null},error:h});const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(me(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let i;if("email"in n){const{email:u,password:d,options:h}=n;i=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:uy})}else if("phone"in n){const{phone:u,password:d,options:h}=n;i=await we(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:uy})}else throw new Eo("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l||!l.session||!l.user){const u=new pi;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,l,o,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,l,o,u,d,h,m,p,y,v,S;let w,E;if("message"in n)w=n.message,E=n.signature;else{const{chain:A,wallet:C,statement:B,options:q}=n;let H;if(zt())if(typeof C=="object")H=C;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")H=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=C}const Q=new URL((i=q?.url)!==null&&i!==void 0?i:window.location.href),Z=await H.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Z||Z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ae=Yv(Z[0]);let O=(l=q?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!O){const F=await H.request({method:"eth_chainId"});O=Lx(F)}const ye={domain:Q.host,address:ae,statement:B,uri:Q.href,version:"1",chainId:O,nonce:(o=q?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(u=q?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(h=q?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=q?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=q?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=q?.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=qx(ye),E=await H.request({method:"personal_sign",params:[Hx(w),ae]})}try{const{data:A,error:C}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:E},!((v=n.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Un});if(C)throw C;if(!A||!A.session||!A.user){const B=new pi;return this._returnResult({data:{user:null,session:null},error:B})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:C})}catch(A){if(me(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(n){var i,l,o,u,d,h,m,p,y,v,S,w;let E,A;if("message"in n)E=n.message,A=n.signature;else{const{chain:C,wallet:B,statement:q,options:H}=n;let Q;if(zt())if(typeof B=="object")Q=B;else{const ae=window;if("solana"in ae&&typeof ae.solana=="object"&&("signIn"in ae.solana&&typeof ae.solana.signIn=="function"||"signMessage"in ae.solana&&typeof ae.solana.signMessage=="function"))Q=ae.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=B}const Z=new URL((i=H?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in Q&&Q.signIn){const ae=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H?.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),q?{statement:q}:null));let O;if(Array.isArray(ae)&&ae[0]&&typeof ae[0]=="object")O=ae[0];else if(ae&&typeof ae=="object"&&"signedMessage"in ae&&"signature"in ae)O=ae;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)E=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),A=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${Z.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(o=(l=H?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=H?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((d=H?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((h=H?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((m=H?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((p=H?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((v=(y=H?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...H.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const ae=await Q.signMessage(new TextEncoder().encode(E),"utf8");if(!ae||!(ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=ae}}try{const{data:C,error:B}=await we(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Oa(A)},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Un});if(B)throw B;if(!C||!C.session||!C.user){const q=new pi;return this._returnResult({data:{user:null,session:null},error:q})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:B})}catch(C){if(me(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(n){const i=await wa(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(i??"").split("/");try{const{data:u,error:d}=await we(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Un});if(await Hr(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const h=new pi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:d})}catch(u){if(me(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:i,provider:l,token:o,access_token:u,nonce:d}=n,h=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Un}),{data:m,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const y=new pi;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,l,o,u,d;try{if("email"in n){const{email:h,options:m}=n;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await gi(this.storage,this.storageKey));const{error:v}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=m?.data)!==null&&i!==void 0?i:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in n){const{phone:h,options:m}=n,{data:p,error:y}=await we(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:y})}throw new Eo("You must provide either an email or phone number.")}catch(h){if(me(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(n){var i,l;try{let o,u;"options"in n&&(o=(i=n.options)===null||i===void 0?void 0:i.redirectTo,u=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:d,error:h}=await we(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Un});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,p=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var i,l,o,u,d;try{let h=null,m=null;this.flowType==="pkce"&&([h,m]=await gi(this.storage,this.storageKey));const p=await we(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:m}),headers:this.headers,xform:Dx});return!((u=p.data)===null||u===void 0)&&u.url&&zt()&&!(!((d=n.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(h){if(me(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)throw l;if(!i)throw new ln;const{error:o}=await we(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(me(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:l,type:o,options:u}=n,{error:d}=await we(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in n){const{phone:l,type:o,options:u}=n,{data:d,error:h}=await we(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new Eo("You must provide either an email or phone number and a type")}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await wa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<xd:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const d=await wa(this.userStorage,this.storageKey+"-user");d?.user?n.user=d.user:n.user=Rd()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};n.user=Rx(n.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Pr}):await this._useSession(async i=>{var l,o,u;const{data:d,error:h}=i;if(h)throw h;return!(!((l=d.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ln}:await we(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Pr})})}catch(i){if(me(i))return ix(i)&&(await this._removeSession(),await Hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async l=>{const{data:o,error:u}=l;if(u)throw u;if(!o.session)throw new ln;const d=o.session;let h=null,m=null;this.flowType==="pkce"&&n.email!=null&&([h,m]=await gi(this.storage,this.storageKey));const{data:p,error:y}=await we(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:m}),jwt:d.access_token,xform:Pr});if(y)throw y;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(l){if(me(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new ln;const i=Date.now()/1e3;let l=i,o=!0,u=null;const{payload:d}=Od(n.access_token);if(d.exp&&(l=d.exp,o=l<=i),o){const{data:h,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:m}=await this._getUser(n.access_token);if(m)throw m;u={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(i){if(me(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var l;if(!n){const{data:d,error:h}=i;if(h)throw h;n=(l=d.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new ln;const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!zt())throw new xo("No browser detected.");if(n.error||n.error_description||n.error_code)throw new xo(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new ny("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xo("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new ny("No code detected.");const{data:q,error:H}=await this._exchangeCodeForSession(n.code);if(H)throw H;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:o,access_token:u,refresh_token:d,expires_in:h,expires_at:m,token_type:p}=n;if(!u||!h||!d||!p)throw new xo("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(h);let S=y+v;m&&(S=parseInt(m));const w=S-y;w*1e3<=_i&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const E=S-v;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,S,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,S,y);const{data:A,error:C}=await this._getUser(u);if(C)throw C;const B={provider_token:l,provider_refresh_token:o,access_token:u,expires_in:v,expires_at:S,refresh_token:d,token_type:p,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:B,redirectType:n.type},error:null})}catch(l){if(me(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await wa(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:o,error:u}=i;if(u)return this._returnResult({error:u});const d=(l=o.session)===null||l===void 0?void 0:l.access_token;if(d){const{error:h}=await this.admin.signOut(d,n);if(h&&!(ax(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return n!=="others"&&(await this._removeSession(),await Hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=hx(),l={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async i=>{var l,o;try{const{data:{session:u},error:d}=i;if(d)throw d;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,i={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await gi(this.storage,this.storageKey,!0));try{return await we(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(me(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:l,error:o}=await this._useSession(async u=>{var d,h,m,p,y;const{data:v,error:S}=u;if(S)throw S;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await we(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return zt()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(me(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var l;try{const{error:o,data:{session:u}}=i;if(o)throw o;const{options:d,provider:h,token:m,access_token:p,nonce:y}=n,v=await we(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=u?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:h,id_token:m,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Un}),{data:S,error:w}=v;return w?this._returnResult({data:{user:null,session:null},error:w}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new pi}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:w}))}catch(o){if(me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var l,o;const{data:u,error:d}=i;if(d)throw d;return await we(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await yx(async o=>(o>0&&await gx(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await we(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Un})),(o,u)=>{const d=200*Math.pow(2,o);return u&&Td(u)&&Date.now()+d-l<_i})}catch(l){if(this._debug(i,"error",l),me(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",l),zt()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const o=await wa(this.storage,this.storageKey);if(o&&this.userStorage){let d=await wa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await Si(this.userStorage,this.storageKey+"-user",d)),o.user=(n=d?.user)!==null&&n!==void 0?n:Rd()}else if(o&&!o.user&&!o.user){const d=await wa(this.storage,this.storageKey+"-user");d&&d?.user?(o.user=d.user,await Hr(this.storage,this.storageKey+"-user"),await Si(this.storage,this.storageKey,o)):o.user=Rd()}if(this._debug(l,"session from storage",o),!this._isValidSession(o)){this._debug(l,"session is not valid"),o!==null&&await this._removeSession();return}const u=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<xd;if(this._debug(l,`session has${u?"":" not"} expired with margin of ${xd}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),Td(d)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(o.access_token);!h&&d?.user?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(l,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(l,"error",o),console.error(o);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var i,l;if(!n)throw new ln;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ko;const{data:u,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!u.session)throw new ln;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={data:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(o,"error",u),me(u)){const d={data:null,error:u};return Td(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(d),d}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,i,l=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:i});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,i)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const i=Object.assign({},n),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await Si(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const u=sy(o);await Si(this.storage,this.storageKey,u)}else{const o=sy(i);await Si(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Hr(this.storage,this.storageKey),await Hr(this.storage,this.storageKey+"-code-verifier"),await Hr(this.storage,this.storageKey+"-user"),this.userStorage&&await Hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&zt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),_i);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-n)/_i);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${_i}ms, refresh threshold is ${Pd} ticks`),o<=Pd&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Gv)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,l){const o=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,d]=await gi(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(h.toString())}if(l?.queryParams){const u=new URLSearchParams(l.queryParams);o.push(u.toString())}return l?.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var l;const{data:o,error:u}=i;return u?this._returnResult({data:null,error:u}):await we(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var l,o;const{data:u,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:p}=await we(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:o,error:u}=i;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Kx(n.webauthn.credential_response):Jx(n.webauthn.credential_response)})}:{code:n.code}),{data:h,error:m}=await we(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:d,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:m}))})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:o,error:u}=i;if(u)return this._returnResult({data:null,error:u});const d=await we(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});if(d.error)return d;const{data:h}=d;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Gx(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Yx(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=i?.factors)!==null&&n!==void 0?n:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:l},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Od(l.access_token);let d=null;u.aal&&(d=u.aal);let h=d;((i=(n=l.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const p=u.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:l},error:o}=i;return o?this._returnResult({data:null,error:o}):l?await we(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new ln})})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:o},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new ln});const d=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&zt()&&!i?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(l){if(me(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:o},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new ln});const d=await we(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&zt()&&!i?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(l){if(me(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await we(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ln})})}catch(n){if(me(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:l},error:o}=i;return o?this._returnResult({data:null,error:o}):l?(await we(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ln})})}catch(i){if(me(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let l=i.keys.find(h=>h.kid===n);if(l)return l;const o=Date.now();if(l=this.jwks.keys.find(h=>h.kid===n),l&&this.jwks_cached_at+nx>o)return l;const{data:u,error:d}=await we(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,l=u.keys.find(h=>h.kid===n),!l)?null:l}async getClaims(n,i={}){try{let l=n;if(!l){const{data:w,error:E}=await this.getSession();if(E||!w.session)return this._returnResult({data:null,error:E});l=w.session.access_token}const{header:o,payload:u,signature:d,raw:{header:h,payload:m}}=Od(l);i?.allowExpired||xx(u.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!p){const{error:w}=await this.getUser(l);if(w)throw w;return{data:{claims:u,header:o,signature:d},error:null}}const y=Tx(o.alg),v=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,d,dx(`${h}.${m}`)))throw new Gd("Invalid JWT signature");return{data:{claims:u,header:o,signature:d},error:null}}catch(l){if(me(l))return this._returnResult({data:null,error:l});throw l}}}Vl.nextInstanceID={};const r1=Vl;class a1 extends r1{constructor(n){super(n)}}class i1{constructor(n,i,l){var o,u,d;this.supabaseUrl=n,this.supabaseKey=i;const h=WE(n);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:IE,realtime:GE,auth:Object.assign(Object.assign({},VE),{storageKey:m}),global:PE},y=XE(l??{},p);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=JE(i,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new GS(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new HE(this.storageUrl.href,this.headers,this.fetch,l?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new $S(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,i={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,i,l)}channel(n,i={config:{}}){return this.realtime.channel(n,i)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,i;if(this.accessToken)return await this.accessToken();const{data:l}=await this.auth.getSession();return(i=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:i,detectSessionInUrl:l,storage:o,userStorage:u,storageKey:d,flowType:h,lock:m,debug:p,throwOnError:y},v,S){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new a1({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),v),storageKey:d,autoRefreshToken:n,persistSession:i,detectSessionInUrl:l,storage:o,userStorage:u,flowType:h,lock:m,debug:p,throwOnError:y,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new oE(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,l)=>{this._handleTokenChanged(i,"CLIENT",l?.access_token)})}_handleTokenChanged(n,i,l){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const l1=(a,n,i)=>new i1(a,n,i);function s1(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const n=a.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}s1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Bt=l1("https://smkbiguvgiscojwxgbae.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNta2JpZ3V2Z2lzY29qd3hnYmFlIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MzQxMTgyMywiZXhwIjoyMDc4OTg3ODIzfQ.uDFNhOGqGb4kv3DWcVHdRoPjCSUhL_IJURaTRtqJZNE"),my=a=>{let n;const i=new Set,l=(p,y)=>{const v=typeof p=="function"?p(n):p;if(!Object.is(v,n)){const S=n;n=y??(typeof v!="object"||v===null)?v:Object.assign({},n,v),i.forEach(w=>w(n,S))}},o=()=>n,h={setState:l,getState:o,getInitialState:()=>m,subscribe:p=>(i.add(p),()=>i.delete(p))},m=n=a(l,o,h);return h},o1=(a=>a?my(a):my),u1=a=>a;function c1(a,n=u1){const i=zl.useSyncExternalStore(a.subscribe,zl.useCallback(()=>n(a.getState()),[a,n]),zl.useCallback(()=>n(a.getInitialState()),[a,n]));return zl.useDebugValue(i),i}const py=a=>{const n=o1(a),i=l=>c1(n,l);return Object.assign(i,n),i},Jo=(a=>a?py(a):py),pf=Jo(a=>({user:null,loading:!1,setUser:n=>a({user:n}),signIn:async(n,i)=>{a({loading:!0});const{data:l,error:o}=await Bt.auth.signInWithPassword({email:n,password:i});return a({user:l.user,loading:!1}),{data:l,error:o}},signUp:async(n,i,l)=>{a({loading:!0});const{data:o,error:u}=await Bt.auth.signUp({email:n,password:i,options:{captchaToken:l}});return a({user:o.user,loading:!1}),{data:o,error:u}},loginAsGuest:async()=>{a({loading:!0});const{data:n,error:i}=await Bt.auth.signInAnonymously();return i&&console.error("Error login annimo:",i),a({user:n.user,loading:!1}),{data:n,error:i}},convertGuestToUser:async(n,i)=>{a({loading:!0});const{data:{session:l}}=await Bt.auth.getSession(),o=l?.user?.id,{data:u,error:d}=await Bt.auth.updateUser({email:n,password:i});if(d){if(d.message.includes("already registered")||d.message.includes("unique constraint")||d.status===422){console.log("Email exists. Attempting to link/merge account...");const{data:h,error:m}=await Bt.auth.signInWithPassword({email:n,password:i});if(m)throw a({loading:!1}),new Error("El usuario ya existe y la contrasea es incorrecta.");if(h.user&&o){console.log(`Merging data from ${o} to ${h.user.id}`);const{error:p}=await Bt.from("projects").update({user_id:h.user.id}).eq("user_id",o);p&&console.warn("Project merge warning:",p);const{error:y}=await Bt.from("runs").update({user_id:h.user.id}).eq("user_id",o);y&&console.warn("Run merge warning:",y)}return a({user:h.user,loading:!1}),{data:h,error:null}}return a({loading:!1}),{data:u,error:d}}return a({user:u.user,loading:!1}),{data:u,error:d}},signOut:async()=>{await Bt.auth.signOut(),a({user:null})}})),Dl=({children:a})=>{const[n,i]=z.useState(!1),{setUser:l,loginAsGuest:o}=pf();return z.useEffect(()=>{Bt.auth.getSession().then(({data:{session:d}})=>{l(d?.user||null),d?i(!0):o().then(()=>i(!0))});const{data:{subscription:u}}=Bt.auth.onAuthStateChange((d,h)=>{l(h?.user||null)});return()=>u.unsubscribe()},[l,o]),n?_.jsx(_.Fragment,{children:a}):_.jsx("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--bg-app)",color:"var(--text-primary)"},children:"Preparando tu espacio de conversacin..."})},Oi=z.forwardRef(({hoverable:a,style:n,children:i,...l},o)=>_.jsx("div",{ref:o,style:{backgroundColor:"var(--bg-panel)",border:"1px solid var(--border-subtle)",borderRadius:"var(--radius-lg)",padding:"var(--space-4)",transition:"transform 0.2s, border-color 0.2s, box-shadow 0.2s",cursor:a?"pointer":"default",...n},onMouseEnter:u=>{a&&(u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.borderColor="var(--border-focus)",u.currentTarget.style.boxShadow="var(--shadow-md)")},onMouseLeave:u=>{a&&(u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.borderColor="var(--border-subtle)",u.currentTarget.style.boxShadow="none")},...l,children:i}));Oi.displayName="Card";const ja=z.forwardRef(({label:a,error:n,fullWidth:i=!0,style:l,...o},u)=>_.jsxs("div",{style:{display:"flex",flexDirection:"column",width:i?"100%":"auto"},children:[a&&_.jsx("label",{style:{marginBottom:"var(--space-1)",fontSize:"0.875rem",fontWeight:500,color:"var(--text-secondary)"},children:a}),_.jsx("input",{ref:u,style:{width:"100%",padding:"var(--space-2) var(--space-3)",backgroundColor:"var(--bg-app)",border:n?"1px solid var(--error)":"1px solid var(--border-subtle)",borderRadius:"var(--radius-md)",color:"var(--text-primary)",fontSize:"1rem",outline:"none",transition:"border-color 0.2s",...l},onFocus:d=>{n||(d.currentTarget.style.borderColor="var(--border-focus)")},onBlur:d=>{n||(d.currentTarget.style.borderColor="var(--border-subtle)")},...o}),n&&_.jsx("span",{style:{color:"var(--error)",fontSize:"0.8rem",marginTop:"4px"},children:n})]}));ja.displayName="Input";const xn=z.forwardRef(({className:a,variant:n="primary",size:i="md",fullWidth:l=!1,style:o,...u},d)=>{let h="var(--accent-primary)",m="var(--accent-text)",p="none",y="var(--space-2) var(--space-4)",v="1rem";n==="secondary"?(h="var(--bg-element)",m="var(--text-primary)"):n==="outline"?(h="transparent",p="1px solid var(--border-subtle)",m="var(--text-primary)"):n==="ghost"?(h="transparent",m="var(--text-secondary)"):n==="danger"&&(h="transparent",m="var(--error)",p="1px solid var(--error)"),i==="sm"?(y="var(--space-1) var(--space-3)",v="0.875rem"):i==="lg"&&(y="var(--space-3) var(--space-5)",v="1.125rem");const S={display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:"var(--radius-md)",fontWeight:500,cursor:u.disabled?"not-allowed":"pointer",opacity:u.disabled?.6:1,transition:"all 0.2s ease",backgroundColor:h,color:m,border:p,padding:y,fontSize:v,width:l?"100%":"auto",...o};return _.jsx("button",{ref:d,className:a,style:S,onMouseEnter:w=>{!u.disabled&&n==="primary"&&(w.currentTarget.style.backgroundColor="var(--accent-primary-hover)"),!u.disabled&&n==="outline"&&(w.currentTarget.style.borderColor="var(--border-focus)")},onMouseLeave:w=>{!u.disabled&&n==="primary"&&(w.currentTarget.style.backgroundColor="var(--accent-primary)"),!u.disabled&&n==="outline"&&(w.currentTarget.style.borderColor="var(--border-subtle)")},...u})});xn.displayName="Button";function Sn(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function Yd(a,n){return Yd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,l){return i.__proto__=l,i},Yd(a,n)}function d1(a,n){a.prototype=Object.create(n.prototype),a.prototype.constructor=a,Yd(a,n)}var f1=Object.defineProperty,h1=Object.defineProperties,m1=Object.getOwnPropertyDescriptors,qo=Object.getOwnPropertySymbols,Jv=Object.prototype.hasOwnProperty,Qv=Object.prototype.propertyIsEnumerable,Kd=(a,n,i)=>n in a?f1(a,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[n]=i,sn=(a,n)=>{for(var i in n||(n={}))Jv.call(n,i)&&Kd(a,i,n[i]);if(qo)for(var i of qo(n))Qv.call(n,i)&&Kd(a,i,n[i]);return a},Xv=(a,n)=>h1(a,m1(n)),p1=(a,n)=>{var i={};for(var l in a)Jv.call(a,l)&&n.indexOf(l)<0&&(i[l]=a[l]);if(a!=null&&qo)for(var l of qo(a))n.indexOf(l)<0&&Qv.call(a,l)&&(i[l]=a[l]);return i},Ot=(a,n,i)=>(Kd(a,typeof n!="symbol"?n+"":n,i),i),ji=(a,n,i)=>new Promise((l,o)=>{var u=m=>{try{h(i.next(m))}catch(p){o(p)}},d=m=>{try{h(i.throw(m))}catch(p){o(p)}},h=m=>m.done?l(m.value):Promise.resolve(m.value).then(u,d);h((i=i.apply(a,n)).next())}),g1="hCaptcha-script",zo="hCaptchaOnLoad",gy="script-error",Ir="@hCaptcha/loader";function y1(a){return Object.entries(a).filter(([,n])=>n||n===!1).map(([n,i])=>`${encodeURIComponent(n)}=${encodeURIComponent(String(i))}`).join("&")}function Wv(a){let n=a&&a.ownerDocument||document,i=n.defaultView||n.parentWindow||window;return{document:n,window:i}}function Zv(a){return a||document.head}function v1(a){var n;a.setTag("source",Ir),a.setTag("url",document.URL),a.setContext("os",{UA:navigator.userAgent}),a.setContext("browser",sn({},b1())),a.setContext("device",Xv(sn({},_1()),{screen_width_pixels:screen.width,screen_height_pixels:screen.height,language:navigator.language,orientation:((n=screen.orientation)==null?void 0:n.type)||"Unknown",processor_count:navigator.hardwareConcurrency,platform:navigator.platform}))}function b1(){var a,n,i,l,o,u;let d=navigator.userAgent,h,m;return d.indexOf("Firefox")!==-1?(h="Firefox",m=(a=d.match(/Firefox\/([\d.]+)/))==null?void 0:a[1]):d.indexOf("Edg")!==-1?(h="Microsoft Edge",m=(n=d.match(/Edg\/([\d.]+)/))==null?void 0:n[1]):d.indexOf("Chrome")!==-1&&d.indexOf("Safari")!==-1?(h="Chrome",m=(i=d.match(/Chrome\/([\d.]+)/))==null?void 0:i[1]):d.indexOf("Safari")!==-1&&d.indexOf("Chrome")===-1?(h="Safari",m=(l=d.match(/Version\/([\d.]+)/))==null?void 0:l[1]):d.indexOf("Opera")!==-1||d.indexOf("OPR")!==-1?(h="Opera",m=(o=d.match(/(Opera|OPR)\/([\d.]+)/))==null?void 0:o[2]):d.indexOf("MSIE")!==-1||d.indexOf("Trident")!==-1?(h="Internet Explorer",m=(u=d.match(/(MSIE |rv:)([\d.]+)/))==null?void 0:u[2]):(h="Unknown",m="Unknown"),{name:h,version:m}}function w1(a){return new Promise(n=>setTimeout(n,a))}function _1(){let a=navigator.userAgent,n;a.indexOf("Win")!==-1?n="Windows":a.indexOf("Mac")!==-1?n="Mac":a.indexOf("Linux")!==-1?n="Linux":a.indexOf("Android")!==-1?n="Android":a.indexOf("like Mac")!==-1||a.indexOf("iPhone")!==-1||a.indexOf("iPad")!==-1?n="iOS":n="Unknown";let i;return/Mobile|iPhone|iPod|Android/i.test(a)?i="Mobile":/Tablet|iPad/i.test(a)?i="Tablet":i="Desktop",{model:n,family:n,device:i}}var S1=class Fv{constructor(n){Ot(this,"_parent"),Ot(this,"breadcrumbs",[]),Ot(this,"context",{}),Ot(this,"extra",{}),Ot(this,"tags",{}),Ot(this,"request"),Ot(this,"user"),this._parent=n}get parent(){return this._parent}child(){return new Fv(this)}setRequest(n){return this.request=n,this}removeRequest(){return this.request=void 0,this}addBreadcrumb(n){return typeof n.timestamp>"u"&&(n.timestamp=new Date().toISOString()),this.breadcrumbs.push(n),this}setExtra(n,i){return this.extra[n]=i,this}removeExtra(n){return delete this.extra[n],this}setContext(n,i){return typeof i.type>"u"&&(i.type=n),this.context[n]=i,this}removeContext(n){return delete this.context[n],this}setTags(n){return this.tags=sn(sn({},this.tags),n),this}setTag(n,i){return this.tags[n]=i,this}removeTag(n){return delete this.tags[n],this}setUser(n){return this.user=n,this}removeUser(){return this.user=void 0,this}toBody(){let n=[],i=this;for(;i;)n.push(i),i=i.parent;return n.reverse().reduce((l,o)=>{var u;return l.breadcrumbs=[...(u=l.breadcrumbs)!=null?u:[],...o.breadcrumbs],l.extra=sn(sn({},l.extra),o.extra),l.contexts=sn(sn({},l.contexts),o.context),l.tags=sn(sn({},l.tags),o.tags),o.user&&(l.user=o.user),o.request&&(l.request=o.request),l},{breadcrumbs:[],extra:{},contexts:{},tags:{},request:void 0,user:void 0})}clear(){this.breadcrumbs=[],this.context={},this.tags={},this.user=void 0}},E1=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,x1=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,T1=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,O1=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,To="?",yy="An unknown error occurred",R1="0.0.4";function j1(a){for(let n=0;n<a.length;n++)a[n]=Math.floor(Math.random()*256);return a}function Nt(a){return(a+256).toString(16).substring(1)}function A1(){let a=j1(new Array(16));return a[6]=a[6]&15|64,a[8]=a[8]&63|128,Nt(a[0])+Nt(a[1])+Nt(a[2])+Nt(a[3])+"-"+Nt(a[4])+Nt(a[5])+"-"+Nt(a[6])+Nt(a[7])+"-"+Nt(a[8])+Nt(a[9])+"-"+Nt(a[10])+Nt(a[11])+Nt(a[12])+Nt(a[13])+Nt(a[14])+Nt(a[15])}var C1=[[E1,"chrome"],[T1,"winjs"],[x1,"gecko"]];function D1(a){var n,i,l,o;if(!a.stack)return null;let u=[],d=(l=(i=(n=a.stack).split)==null?void 0:i.call(n,`
`))!=null?l:[];for(let h=0;h<d.length;++h){let m=null,p=null,y=null;for(let[v,S]of C1)if(p=v.exec(d[h]),p){y=S;break}if(!(!p||!y)){if(y==="chrome")m={filename:(o=p[2])!=null&&o.startsWith("address at ")?p[2].substring(11):p[2],function:p[1]||To,lineno:p[3]?+p[3]:null,colno:p[4]?+p[4]:null};else if(y==="winjs")m={filename:p[2],function:p[1]||To,lineno:+p[3],colno:p[4]?+p[4]:null};else if(y==="gecko")h===0&&!p[5]&&a.columnNumber!==void 0&&u.length>0&&(u[0].column=a.columnNumber+1),m={filename:p[3],function:p[1]||To,lineno:p[4]?+p[4]:null,colno:p[5]?+p[5]:null};else continue;!m.function&&m.lineno&&(m.function=To),u.push(m)}}return u.length?u.reverse():null}function z1(a){let n=D1(a);return{type:a.name,value:a.message,stacktrace:{frames:n??[]}}}function U1(a){let n=O1.exec(a),i=n?n.slice(1):[];if(i.length!==6)throw new Error("Invalid DSN");let l=i[5].split("/"),o=l.slice(0,-1).join("/");return i[0]+"://"+i[3]+(i[4]?":"+i[4]:"")+(o?"/"+o:"")+"/api/"+l.pop()+"/envelope/?sentry_version=7&sentry_key="+i[1]+(i[2]?"&sentry_secret="+i[2]:"")}function k1(a,n,i){var l,o;let u=sn({event_id:A1().replaceAll("-",""),platform:"javascript",sdk:{name:"@hcaptcha/sentry",version:R1},environment:n,release:i,timestamp:Date.now()/1e3},a.scope.toBody());if(a.type==="exception"){u.message=(o=(l=a.error)==null?void 0:l.message)!=null?o:"Unknown error",u.fingerprint=[u.message];let d=[],h=a.error;for(let m=0;m<5&&h&&(d.push(z1(h)),!(!h.cause||!(h.cause instanceof Error)));m++)h=h.cause;u.exception={values:d.reverse()}}return a.type==="message"&&(u.message=a.message,u.level=a.level),u}function M1(a){if(a instanceof Error)return a;if(typeof a=="string")return new Error(a);if(typeof a=="object"&&a!==null&&!Array.isArray(a)){let i=a,{message:l}=i,o=p1(i,["message"]),u=new Error(typeof l=="string"?l:yy);return Object.assign(u,o)}let n=new Error(yy);return Object.assign(n,{cause:a})}function N1(a,n,i){return ji(this,null,function*(){var l,o;try{if(typeof fetch<"u"&&typeof AbortSignal<"u"){let u;if(i){let m=new AbortController;u=m.signal,setTimeout(()=>m.abort(),i)}let d=yield fetch(a,Xv(sn({},n),{signal:u})),h=yield d.text();return{status:d.status,body:h}}return yield new Promise((u,d)=>{var h,m;let p=new XMLHttpRequest;if(p.open((h=n?.method)!=null?h:"GET",a),p.onload=()=>u({status:p.status,body:p.responseText}),p.onerror=()=>d(new Error("XHR Network Error")),n?.headers)for(let[y,v]of Object.entries(n.headers))p.setRequestHeader(y,v);if(i){let y=setTimeout(()=>{p.abort(),d(new Error("Request timed out"))},i);p.onloadend=()=>{clearTimeout(y)}}p.send((m=n?.body)==null?void 0:m.toString())})}catch(u){return{status:0,body:(o=(l=u?.toString)==null?void 0:l.call(u))!=null?o:"Unknown error"}}})}var Jt,Jd=(Jt=class{constructor(a){Ot(this,"apiURL"),Ot(this,"dsn"),Ot(this,"environment"),Ot(this,"release"),Ot(this,"sampleRate"),Ot(this,"debug"),Ot(this,"_scope"),Ot(this,"shouldBuffer",!1),Ot(this,"bufferlimit",20),Ot(this,"buffer",[]);var n,i,l,o,u;this.environment=a.environment,this.release=a.release,this.sampleRate=(n=a.sampleRate)!=null?n:1,this.debug=(i=a.debug)!=null?i:!1,this._scope=(l=a.scope)!=null?l:new S1,this.apiURL=U1(a.dsn),this.dsn=a.dsn,this.shouldBuffer=(o=a.buffer)!=null?o:!1,this.bufferlimit=(u=a.bufferLimit)!=null?u:20}static init(a){Jt._instance||(Jt._instance=new Jt(a))}static get instance(){if(!Jt._instance)throw new Error("Sentry has not been initialized");return Jt._instance}log(...a){this.debug&&console.log(...a)}get scope(){return this._scope}static get scope(){return Jt.instance.scope}withScope(a){let n=this._scope.child();a(n)}static withScope(a){Jt.instance.withScope(a)}captureException(a,n){this.captureEvent({type:"exception",level:"error",error:M1(a),scope:n??this._scope})}static captureException(a,n){Jt.instance.captureException(a,n)}captureMessage(a,n="info",i){this.captureEvent({type:"message",level:n,message:a,scope:i??this._scope})}static captureMessage(a,n="info",i){Jt.instance.captureMessage(a,n,i)}captureEvent(a){if(Math.random()>=this.sampleRate){this.log("Dropped event due to sample rate");return}if(this.shouldBuffer){if(this.buffer.length>=this.bufferlimit)return;this.buffer.push(a)}else this.sendEvent(a)}sendEvent(a,n=5e3){return ji(this,null,function*(){try{this.log("Sending sentry event",a);let i=k1(a,this.environment,this.release),l={event_id:i.event_id,dsn:this.dsn},o={type:"event"},u=JSON.stringify(l)+`
`+JSON.stringify(o)+`
`+JSON.stringify(i),d=yield N1(this.apiURL,{method:"POST",headers:{"Content-Type":"application/x-sentry-envelope"},body:u},n);this.log("Sentry response",d.status),d.status!==200&&(console.log(d.body),console.error("Failed to send event to Sentry",d))}catch(i){console.error("Failed to send event",i)}})}flush(a=5e3){return ji(this,null,function*(){try{this.log("Flushing sentry events",this.buffer.length);let n=this.buffer.splice(0,this.buffer.length).map(i=>this.sendEvent(i,a));yield Promise.all(n),this.log("Flushed all events")}catch(n){console.error("Failed to flush events",n)}})}static flush(a=5e3){return Jt.instance.flush(a)}static reset(){Jt._instance=void 0}},Ot(Jt,"_instance"),Jt),B1="https://d233059272824702afc8c43834c4912d@sentry.hcaptcha.com/6",L1="2.3.0",H1="production";function q1(a=!0){if(!a)return vy();Jd.init({dsn:B1,release:L1,environment:H1});let n=Jd.scope;return v1(n),vy(n)}function vy(a=null){return{addBreadcrumb:n=>{a&&a.addBreadcrumb(n)},captureRequest:n=>{a&&a.setRequest(n)},captureException:n=>{a&&Jd.captureException(n,a)}}}function $1({scriptLocation:a,query:n,loadAsync:i=!0,crossOrigin:l="anonymous",apihost:o="https://js.hcaptcha.com",cleanup:u=!1,secureApi:d=!1,scriptSource:h=""}={},m){let p=Zv(a),y=Wv(p);return new Promise((v,S)=>{let w=y.document.createElement("script");w.id=g1,h?w.src=`${h}?onload=${zo}`:d?w.src=`${o}/1/secure-api.js?onload=${zo}`:w.src=`${o}/1/api.js?onload=${zo}`,w.crossOrigin=l,w.async=i;let E=(A,C)=>{try{!d&&u&&p.removeChild(w),C(A)}catch(B){S(B)}};w.onload=A=>E(A,v),w.onerror=A=>{m&&m(w.src),E(A,S)},w.src+=n!==""?`&${n}`:"",p.appendChild(w)})}var Oo=[];function P1(a={cleanup:!1},n){try{n.addBreadcrumb({category:Ir,message:"hCaptcha loader params",data:a});let i=Zv(a.scriptLocation),l=Wv(i),o=Oo.find(({scope:d})=>d===l.window);if(o)return n.addBreadcrumb({category:Ir,message:"hCaptcha already loaded"}),o.promise;let u=new Promise((d,h)=>ji(this,null,function*(){try{l.window[zo]=()=>{n.addBreadcrumb({category:Ir,message:"hCaptcha script called onload function"}),d(l.window.hcaptcha)};let m=y1({custom:a.custom,render:a.render,sentry:a.sentry,assethost:a.assethost,imghost:a.imghost,reportapi:a.reportapi,endpoint:a.endpoint,host:a.host,recaptchacompat:a.recaptchacompat,hl:a.hl,uj:a.uj});yield $1(sn({query:m},a),p=>{n.captureRequest({url:p,method:"GET"})}),n.addBreadcrumb({category:Ir,message:"hCaptcha loaded",data:o})}catch{n.addBreadcrumb({category:Ir,message:"hCaptcha failed to load"});let p=Oo.findIndex(y=>y.scope===l.window);p!==-1&&Oo.splice(p,1),h(new Error(gy))}}));return Oo.push({promise:u,scope:l.window}),u}catch(i){return n.captureException(i),Promise.reject(new Error(gy))}}function e0(a,n,i=0){return ji(this,null,function*(){var l,o;let u=(l=a.maxRetries)!=null?l:2,d=(o=a.retryDelay)!=null?o:1e3,h=i<u?"Retry loading hCaptcha Api":"Exceeded maximum retries";try{return yield P1(a,n)}catch(m){return n.addBreadcrumb({category:Ir,message:h}),i>=u?(n.captureException(m),Promise.reject(m)):(n.addBreadcrumb({category:Ir,message:`Waiting ${d}ms before retry attempt ${i+1}`}),yield w1(d),i+=1,e0(a,n,i))}})}function I1(){return ji(this,arguments,function*(a={}){let n=q1(a.sentry);return yield e0(a,n)})}function by(a){var n=a&&a.ownerDocument||document,i=n.defaultView||n.parentWindow||window;return{document:n,window:i}}function wy(a){return a||document.head}var V1=(function(a){d1(n,a);function n(l){var o;return o=a.call(this,l)||this,o._hcaptcha=void 0,o.renderCaptcha=o.renderCaptcha.bind(Sn(o)),o.resetCaptcha=o.resetCaptcha.bind(Sn(o)),o.removeCaptcha=o.removeCaptcha.bind(Sn(o)),o.isReady=o.isReady.bind(Sn(o)),o._onReady=null,o.loadCaptcha=o.loadCaptcha.bind(Sn(o)),o.handleOnLoad=o.handleOnLoad.bind(Sn(o)),o.handleSubmit=o.handleSubmit.bind(Sn(o)),o.handleExpire=o.handleExpire.bind(Sn(o)),o.handleError=o.handleError.bind(Sn(o)),o.handleOpen=o.handleOpen.bind(Sn(o)),o.handleClose=o.handleClose.bind(Sn(o)),o.handleChallengeExpired=o.handleChallengeExpired.bind(Sn(o)),o.ref=z.createRef(),o.apiScriptRequested=!1,o.sentryHub=null,o.captchaId="",o._pendingExecute=null,o.state={isApiReady:!1,isRemoved:!1,elementId:l.id},o}var i=n.prototype;return i.componentDidMount=function(){var o=this,u=wy(this.props.scriptLocation),d=by(u);this._hcaptcha=d.window.hcaptcha||void 0;var h=typeof this._hcaptcha<"u";if(h){this.setState({isApiReady:!0},function(){o.renderCaptcha()});return}this.loadCaptcha()},i.componentWillUnmount=function(){var o=this._hcaptcha,u=this.captchaId;this._cancelPendingExecute("react-component-unmounted"),this.isReady()&&(o.reset(u),o.remove(u))},i.shouldComponentUpdate=function(o,u){return!(this.state.isApiReady!==u.isApiReady||this.state.isRemoved!==u.isRemoved)},i.componentDidUpdate=function(o){var u=this,d=["sitekey","size","theme","tabindex","languageOverride","endpoint"],h=d.every(function(m){return o[m]===u.props[m]});h||this.removeCaptcha(function(){u.renderCaptcha()})},i.loadCaptcha=function(){if(!this.apiScriptRequested){var o=this.props,u=o.apihost,d=o.assethost,h=o.endpoint,m=o.host,p=o.imghost,y=o.languageOverride,v=o.reCaptchaCompat,S=o.reportapi,w=o.sentry,E=o.custom,A=o.loadAsync,C=o.scriptLocation,B=o.scriptSource,q=o.secureApi,H=o.cleanup,Q=H===void 0?!0:H,Z=o.userJourneys,ae={render:"explicit",apihost:u,assethost:d,endpoint:h,hl:y,host:m,imghost:p,recaptchacompat:v===!1?"off":null,reportapi:S,sentry:w,custom:E,loadAsync:A,scriptLocation:C,scriptSource:B,secureApi:q,cleanup:Q,uj:Z!==void 0?Z:!1};I1(ae).then(this.handleOnLoad,this.handleError).catch(this.handleError),this.apiScriptRequested=!0}},i.renderCaptcha=function(o){var u=this,d=this.props.onReady,h=this.state.isApiReady,m=this.captchaId;if(!(!h||m)){var p=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),y=this._hcaptcha,v=y.render(this.ref.current,p);this.captchaId=v,this.setState({isRemoved:!1},function(){o&&o(),d&&d(),u._onReady&&u._onReady(v)})}},i.resetCaptcha=function(){var o=this._hcaptcha,u=this.captchaId;this.isReady()&&(o.reset(u),this._cancelPendingExecute("hcaptcha-reset"))},i.removeCaptcha=function(o){var u=this,d=this._hcaptcha,h=this.captchaId;this._cancelPendingExecute("hcaptcha-removed"),this.isReady()&&this.setState({isRemoved:!0},function(){u.captchaId="",d.remove(h),o&&o()})},i.handleOnLoad=function(){var o=this;this.setState({isApiReady:!0},function(){var u=wy(o.props.scriptLocation),d=by(u);o._hcaptcha=d.window.hcaptcha,o.renderCaptcha(function(){var h=o.props.onLoad;h&&h()})})},i.handleSubmit=function(o){var u=this.props.onVerify,d=this.state.isRemoved,h=this._hcaptcha,m=this.captchaId;if(!(typeof h>"u"||d)){var p=h.getResponse(m),y=h.getRespKey(m);u&&u(p,y)}},i.handleExpire=function(){var o=this.props.onExpire,u=this._hcaptcha,d=this.captchaId;this.isReady()&&(u.reset(d),o&&o())},i.handleError=function(o){var u=this.props.onError,d=this._hcaptcha,h=this.captchaId;this.isReady()&&d.reset(h),u&&u(o)},i.isReady=function(){var o=this.state,u=o.isApiReady,d=o.isRemoved;return u&&!d},i._cancelPendingExecute=function(o){if(this._pendingExecute){var u=this._pendingExecute;this._pendingExecute=null;var d=new Error(o);u.reject(d)}},i.handleOpen=function(){!this.isReady()||!this.props.onOpen||this.props.onOpen()},i.handleClose=function(){!this.isReady()||!this.props.onClose||this.props.onClose()},i.handleChallengeExpired=function(){!this.isReady()||!this.props.onChalExpired||this.props.onChalExpired()},i.execute=function(o){var u=this;o===void 0&&(o=null),o=typeof o=="object"?o:null;try{var d=this._hcaptcha,h=this.captchaId;if(o&&o.async&&this._pendingExecute&&this._cancelPendingExecute("hcaptcha-execute-replaced"),!this.isReady())return o&&o.async?new Promise(function(p,y){u._pendingExecute={resolve:p,reject:y},u._onReady=function(v){if(u._pendingExecute)try{var S=d.execute(v,o);S&&typeof S.then=="function"?S.then(function(w){u._pendingExecute=null,p(w)}).catch(function(w){u._pendingExecute=null,y(w)}):(u._pendingExecute=null,y(new Error("hcaptcha-execute-no-promise")))}catch(w){u._pendingExecute=null,y(w)}}}):(this._onReady=function(p){d.execute(p,o)},null);var m=d.execute(h,o);return o&&o.async&&m&&typeof m.then=="function"?new Promise(function(p,y){u._pendingExecute={resolve:p,reject:y},m.then(function(v){u._pendingExecute=null,p(v)}).catch(function(v){u._pendingExecute=null,y(v)})}):m}catch(p){return o&&o.async?Promise.reject(p):null}},i.close=function(){var o=this._hcaptcha,u=this.captchaId;if(this._cancelPendingExecute("hcaptcha-closed"),!!this.isReady())return o.close(u)},i.setData=function(o){var u=this._hcaptcha,d=this.captchaId;this.isReady()&&(o&&typeof o!="object"&&(o=null),u.setData(d,o))},i.getResponse=function(){var o=this._hcaptcha;return o.getResponse(this.captchaId)},i.getRespKey=function(){var o=this._hcaptcha;return o.getRespKey(this.captchaId)},i.render=function(){var o=this.state.elementId;return z.createElement("div",{ref:this.ref,id:o})},n})(z.Component);function G1(){const a=Kr(),{signIn:n,signUp:i,loading:l}=pf(),[o,u]=z.useState(!1),[d,h]=z.useState(""),[m,p]=z.useState(""),[y,v]=z.useState(""),[S,w]=z.useState(""),E=async A=>{if(A.preventDefault(),v(""),!d||!m){v("Por favor complet todos los campos.");return}try{if(o){if(!S){v("Por favor complet el CAPTCHA.");return}const{error:C}=await i(d,m,S);if(C)throw C;a("/projects")}else{const{error:C}=await n(d,m);if(C)throw C;a("/projects")}}catch(C){v(C.message||"Ocurri un error inesperado.")}};return _.jsx("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-app)",color:"var(--text-primary)"},children:_.jsxs(Oi,{style:{width:"100%",maxWidth:"400px",textAlign:"center",boxShadow:"var(--shadow-lg)"},children:[_.jsxs("div",{style:{marginBottom:"2rem"},children:[_.jsx("h1",{style:{fontSize:"2rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"2px",margin:0},children:"WADI"}),_.jsx("p",{style:{color:"var(--text-secondary)",marginTop:"0.5rem"},children:o?"Cre tu cuenta":"Bienvenido de nuevo"})]}),y&&_.jsx("div",{style:{background:"rgba(255, 80, 80, 0.1)",border:"1px solid rgba(255, 80, 80, 0.3)",color:"#ff6b6b",padding:"10px",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem"},children:y}),_.jsxs("form",{onSubmit:E,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[_.jsx(ja,{label:"Email",type:"email",value:d,onChange:A=>h(A.target.value),placeholder:"nombre@ejemplo.com"}),_.jsx(ja,{label:"Contrasea",type:"password",value:m,onChange:A=>p(A.target.value),placeholder:""}),o&&_.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"1rem"},children:_.jsx(V1,{sitekey:"10000000-ffff-ffff-ffff-000000000001",onVerify:A=>w(A)})}),_.jsx(xn,{type:"submit",disabled:l,fullWidth:!0,style:{marginTop:"1rem"},children:l?"Procesando...":o?"Registrarse":"Continuar"})]}),_.jsxs("div",{style:{marginTop:"1.5rem",fontSize:"0.9rem",color:"var(--text-secondary)"},children:[o?"Ya tens cuenta? ":"No tens cuenta? ",_.jsx("button",{type:"button",onClick:()=>{u(!o),v(""),w("")},style:{background:"none",border:"none",color:"var(--accent-primary)",fontWeight:600,cursor:"pointer",padding:0},children:o?"Iniciar Sesin":"Registrate"})]})]})})}const Ai=async(a,n={},i=3,l=300)=>{try{const o=await fetch(a,n);return o.ok?o:i>0&&(o.status===429||o.status>=500)?(console.warn(`Retrying ${a} (${o.status})... Attempts left: ${i}`),await new Promise(u=>setTimeout(u,l)),Ai(a,n,i-1,l*2)):o}catch(o){if(i>0)return console.warn(`Network error for ${a}. Retrying... Attempts left: ${i}`),await new Promise(u=>setTimeout(u,l)),Ai(a,n,i-1,l*2);throw o}},Y1="http://localhost:3000",_y=Y1.replace(/\/api\/?$/,"").replace(/\/$/,""),K1=Jo(a=>({projects:[],loading:!1,fetchProjects:async()=>{a({loading:!0});try{const{data:{session:n}}=await Bt.auth.getSession(),i=n?.access_token;if(!i)throw new Error("No authenticated session (Please login)");const l=await Ai(`${_y}/api/projects`,{headers:{Authorization:`Bearer ${i}`}});if(!l.ok){let d=`Error: ${l.status}`;try{const h=await l.json();d=h.error?.message||h.message||d}catch{}throw new Error(d)}const o=l.headers.get("content-type");if(!o||!o.includes("application/json"))throw new Error("Respuesta invlida del servidor (no es JSON)");const u=await l.json();a({projects:u,loading:!1})}catch(n){console.error("Failed to fetch projects",n),a({loading:!1})}},createProject:async(n,i)=>{try{const{data:{session:l}}=await Bt.auth.getSession(),o=l?.access_token,u=await Ai(`${_y}/api/projects`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({name:n,description:i})});if(!u.ok){let m=`Error: ${u.status}`;try{const p=await u.json();m=p.error?.message||p.message||m}catch{}throw new Error(m)}const d=u.headers.get("content-type");if(!d||!d.includes("application/json"))throw new Error("El servidor devolvi un error inesperado (HTML).");const h=await u.json();a(m=>({projects:[h,...m.projects]}))}catch(l){throw console.error("Failed to create project",l),l}}})),J1="http://localhost:3000",Ro=J1.replace(/\/api\/?$/,"").replace(/\/$/,""),jo=async()=>{const{data:a}=await Bt.auth.getSession();return a.session?.access_token},gf=Jo((a,n)=>({messages:[],conversations:[],conversationId:null,conversationTitle:null,isLoading:!1,error:null,mode:"normal",topic:"general",explainLevel:"normal",setPreset:i=>a(l=>{switch(i){case"tech":return{...l,mode:"tech",topic:"general",explainLevel:"normal"};case"biz":return{...l,mode:"biz",topic:"negocios",explainLevel:"normal"};case"learning":return{...l,mode:"tutor",topic:"aprendizaje",explainLevel:"detailed"};case"productivity":return{...l,mode:"normal",topic:"productividad",explainLevel:"short"};case"reflexivo":return{...l,mode:"normal",topic:"general",explainLevel:"normal"};default:return l}}),setExplainLevel:i=>a({explainLevel:i}),resetChat:()=>a({conversationId:null,conversationTitle:null,messages:[],error:null}),startNewConversation:async i=>(a({conversationId:null,conversationTitle:i||null,messages:[],error:null,isLoading:!1}),null),fetchConversations:async()=>{try{const i=await jo();if(!i)return;const l=await fetch(`${Ro}/api/conversations`,{headers:{Authorization:`Bearer ${i}`}});if(!l.ok)throw new Error("Failed to fetch conversations");const o=await l.json();a({conversations:o})}catch(i){console.error(i)}},loadConversations:async()=>n().fetchConversations(),openConversation:async i=>{try{a({isLoading:!0,error:null,conversationId:i,messages:[]});const l=await jo();if(!l)return;const o=await fetch(`${Ro}/api/conversations/${i}`,{headers:{Authorization:`Bearer ${l}`}});if(!o.ok)throw o.status===404?new Error("Conversation not found"):new Error("Failed to load conversation");const u=await o.json();a({messages:u.messages||[],conversationTitle:u.title,mode:u.mode,explainLevel:u.explain_level,isLoading:!1})}catch(l){console.error(l);const o=l instanceof Error?l.message:"An error occurred";a({isLoading:!1,error:o})}},loadConversation:async i=>n().openConversation(i),sendMessage:async i=>{if(!i.trim())return;a({isLoading:!0,error:null});const o={id:crypto.randomUUID(),role:"user",content:i,created_at:new Date().toISOString()};a(u=>({messages:[...u.messages,o]}));try{const u=await jo(),{conversationId:d,mode:h,topic:m,explainLevel:p}=n(),y=await fetch(`${Ro}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({message:i,conversationId:d,mode:h,topic:m,explainLevel:p})});if(!y.ok)throw new Error("Failed to send message");const v=await y.json(),S={id:crypto.randomUUID(),role:"assistant",content:v.reply,created_at:new Date().toISOString()};return a(w=>({messages:[...w.messages,S],isLoading:!1,conversationId:v.conversationId})),n().loadConversations(),v.conversationId}catch(u){const d=u instanceof Error?u.message:"An error occurred";return a({isLoading:!1,error:d}),null}},deleteConversation:async i=>{try{const l=await jo();await fetch(`${Ro}/api/conversations/${i}`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`}}),a(o=>{const u=o.conversations.filter(d=>d.id!==i);return o.conversationId===i?{conversations:u,conversationId:null,conversationTitle:null,messages:[]}:{conversations:u}})}catch(l){console.error(l)}}})),t0=({isOpen:a,onClose:n,title:i,children:l})=>a?ev.createPortal(_.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100,backdropFilter:"blur(4px)"},onClick:n,children:_.jsxs(Oi,{style:{width:"100%",maxWidth:"480px",transform:"none",cursor:"default",boxShadow:"var(--shadow-lg)"},onClick:o=>o.stopPropagation(),children:[i&&_.jsx("h3",{style:{marginBottom:"var(--space-4)",fontSize:"1.25rem"},children:i}),l]})}),document.body):null;function Q1({isOpen:a,onClose:n}){const i=Kr(),l=Yr(),{user:o,convertGuestToUser:u,signOut:d}=pf(),{resetChat:h,setPreset:m,conversations:p,fetchConversations:y,loadConversation:v}=gf(),S=o?.is_anonymous,[w,E]=z.useState(!1),[A,C]=z.useState(""),[B,q]=z.useState(""),[H,Q]=z.useState(!1);z.useEffect(()=>{o&&y()},[o,y]);const Z=F=>l.pathname===F,ae=[{label:"Dashboard",path:"/projects"}],O=async F=>{F.preventDefault(),Q(!0);try{const{error:fe}=await u(A,B);if(fe)throw fe;E(!1)}catch(fe){fe instanceof Error?alert(fe.message):alert("An error occurred")}finally{Q(!1)}},ye=()=>{m("learning"),h(),i("/chat"),n&&n()};return _.jsxs("aside",{className:`sidebar-drawer ${a?"open":""}`,style:{width:"280px",height:"100vh",background:"var(--color-surface)",borderRight:"1px solid var(--color-border)",display:"flex",flexDirection:"column",padding:"1.5rem",transition:"width 0.3s, transform 0.3s, background-color 0.2s, border-color 0.2s"},children:[_.jsxs("div",{style:{marginBottom:"2rem",display:"flex",justifyContent:"space-between",alignItems:"start"},children:[_.jsxs("div",{children:[_.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:900,letterSpacing:"-0.5px",background:"var(--grad-main)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",margin:0},children:"WADI"}),_.jsx("small",{style:{fontSize:"0.8rem",color:"var(--color-text-soft)",letterSpacing:"1px",textTransform:"uppercase"}})]}),_.jsx("button",{className:"mobile-only",onClick:n,style:{fontSize:"2rem",color:"var(--color-text-soft)",padding:"0.5rem 1rem",background:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"Cerrar men",children:""})]}),_.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"1.5rem"},children:_.jsxs(Ra,{to:"/chat",onClick:()=>{h(),n?.()},style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",background:"var(--color-primary)",color:"#FFFFFF",padding:"0.8rem",borderRadius:"var(--radius-lg)",fontWeight:700,textDecoration:"none",boxShadow:"var(--shadow-y2k)",transition:"transform 0.2s, background-color 0.2s"},children:[_.jsx("span",{style:{fontSize:"1.2rem"},children:"+"})," Nuevo"]})}),_.jsxs("nav",{style:{flex:1,display:"flex",flexDirection:"column",gap:"0.5rem",overflowY:"auto"},children:[_.jsxs(Ra,{to:"/",style:{padding:"1rem",borderRadius:"var(--radius-md)",backgroundColor:Z("/")?"var(--color-surface-soft)":"transparent",color:Z("/")?"var(--color-text-main)":"var(--color-text-soft)",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"1rem",textDecoration:"none",fontWeight:Z("/")?600:400,border:Z("/")?"1px solid var(--color-border-active)":"1px solid transparent"},children:[_.jsx("span",{role:"img","aria-label":"Casa",children:""})," ","Home"]}),ae.map(F=>_.jsxs(Ra,{to:F.path,style:{padding:"0.75rem 1rem",borderRadius:"var(--radius-md)",backgroundColor:Z(F.path)?"var(--color-surface-soft)":"transparent",color:Z(F.path)?"var(--color-text-main)":"var(--color-text-soft)",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"0.75rem",textDecoration:"none",fontWeight:Z(F.path)?600:400,border:Z(F.path)?"1px solid var(--color-border-active)":"1px solid transparent"},children:[_.jsx("span",{role:"img","aria-label":"Cohete",children:""})," ",F.label]},F.path)),p&&p.length>0&&_.jsxs(_.Fragment,{children:[_.jsx("div",{style:{fontSize:"0.7rem",textTransform:"uppercase",color:"var(--color-text-soft)",marginBottom:"0.5rem",marginTop:"1.5rem",letterSpacing:"1px",paddingLeft:"1rem",fontWeight:600},children:"Historial"}),p.map(F=>_.jsxs("div",{onClick:()=>{v(F.id),i(`/chat/${F.id}`),n?.()},className:"tappable",style:{padding:"1rem",borderRadius:"var(--radius-md)",cursor:"pointer",backgroundColor:l.pathname.includes(F.id)?"var(--color-surface-soft)":"transparent",color:"var(--color-text-soft)",fontSize:"0.9rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",transition:"background 0.2s",fontWeight:l.pathname.includes(F.id)?600:400},children:[" ",F.title||"Sin ttulo"]},F.id))]}),_.jsx("div",{className:"desktop-only",style:{fontSize:"0.7rem",textTransform:"uppercase",color:"var(--color-text-soft)",marginBottom:"0.5rem",marginTop:"1.5rem",letterSpacing:"1px",paddingLeft:"1rem",fontWeight:600},children:"Herramientas"}),_.jsxs(xn,{variant:"ghost",style:{justifyContent:"flex-start",gap:"0.75rem",color:"var(--color-text-soft)",fontWeight:400},onClick:ye,children:[_.jsx("span",{role:"img","aria-label":"Libro",children:""})," ","Modo Tutor"]})]}),_.jsx("div",{style:{marginTop:"auto",borderTop:"1px solid var(--color-border)",paddingTop:"1.5rem",display:"flex",flexDirection:"column",gap:"1rem"},children:S?_.jsxs("div",{className:"compact-mobile",style:{backgroundColor:"var(--color-surface-soft)",padding:"1rem",borderRadius:"1rem",border:"1px solid var(--color-border)"},children:[_.jsx("p",{style:{fontSize:"0.8rem",color:"var(--color-text-soft)",marginBottom:"0.75rem",lineHeight:"1.4"},children:"Ests en Modo Invitado."}),_.jsx(xn,{variant:"outline",size:"sm",fullWidth:!0,onClick:()=>E(!0),style:{fontSize:"0.85rem",background:"var(--color-surface)",borderColor:"var(--color-border)"},children:" Crear Cuenta"})]}):_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",justifyContent:"space-between",padding:"0.5rem",borderRadius:"0.5rem",background:"var(--color-surface-soft)"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[_.jsx("div",{style:{width:32,height:32,borderRadius:"50%",background:"var(--grad-main)",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",fontWeight:"bold"},children:o?.email?.charAt(0).toUpperCase()||"U"}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",maxWidth:"120px"},children:[_.jsx("span",{style:{fontSize:"0.8rem",fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:"var(--color-text-main)"},children:o?.email}),_.jsx("span",{style:{fontSize:"0.7rem",color:"var(--color-text-soft)"},children:"Pro User"})]})]}),_.jsx("button",{onClick:()=>d(),style:{background:"transparent",border:"none",cursor:"pointer",color:"var(--color-text-soft)",fontSize:"1.2rem",padding:"4px",borderRadius:"4px"},title:"Cerrar sesin",children:""})]})}),_.jsxs(t0,{isOpen:w,onClose:()=>E(!1),title:"Crear tu cuenta",children:[_.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-text-soft)",marginBottom:"1.5rem"},children:"Guard tus proyectos y acced a todas las funciones premium de WADI."}),_.jsxs("form",{onSubmit:O,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[_.jsx(ja,{label:"Email",type:"email",value:A,onChange:F=>C(F.target.value),required:!0,placeholder:"tu@email.com"}),_.jsx(ja,{label:"Contrasea",type:"password",value:B,onChange:F=>q(F.target.value),required:!0,placeholder:""}),_.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1rem"},children:[_.jsx(xn,{type:"button",variant:"ghost",onClick:()=>E(!1),children:"Cancelar"}),_.jsx(xn,{type:"submit",disabled:H,style:{background:"var(--grad-main)",border:"none",color:"#FFF"},children:H?"Creando...":"Registrarme"})]})]})]})]})}function yf({children:a}){const[n,i]=z.useState(!1),{resetChat:l}=gf(),o=Kr(),u=()=>{l(),o("/chat"),i(!1)};return _.jsxs("div",{style:{display:"flex",width:"100vw",height:"100vh",overflow:"hidden",position:"relative"},children:[n&&_.jsx("div",{className:"sidebar-overlay mobile-only",onClick:()=>i(!1)}),_.jsx(Q1,{isOpen:n,onClose:()=>i(!1)}),_.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",backgroundColor:"var(--color-bg)",overflow:"hidden",position:"relative",width:"100%"},children:[_.jsxs("div",{className:"mobile-only",style:{height:"60px",borderBottom:"1px solid var(--color-border)",background:"var(--color-surface)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 1rem",flexShrink:0,zIndex:40},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[_.jsx("button",{onClick:()=>i(!0),style:{fontSize:"1.5rem",color:"var(--color-text-soft)",padding:"0.25rem",display:"flex",alignItems:"center"},children:""}),_.jsx(Ra,{to:"/",style:{textDecoration:"none"},children:_.jsx("span",{style:{fontWeight:900,fontSize:"1.2rem",background:"var(--grad-main)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"WADI"})})]}),_.jsxs("button",{onClick:u,style:{background:"var(--color-primary)",color:"white",padding:"0.4rem 0.8rem",borderRadius:"999px",fontSize:"0.85rem",fontWeight:600,display:"flex",alignItems:"center",gap:"0.4rem",boxShadow:"var(--shadow-sm)"},children:[_.jsx("span",{children:"+"})," Nueva"]})]}),_.jsx("main",{style:{flex:1,overflow:"hidden",position:"relative",display:"flex",flexDirection:"column"},children:a})]})]})}function X1(){const{projects:a,fetchProjects:n,createProject:i,loading:l}=K1(),[o,u]=z.useState(""),[d,h]=z.useState(""),[m,p]=z.useState(!1),[y,v]=z.useState("");z.useEffect(()=>{n()},[n]);const S=async E=>{if(E.preventDefault(),!o.trim()){v("El nombre es obligatorio");return}v("");try{await i(o,d),u(""),h(""),p(!1)}catch(A){console.error("Error creating project:",A)}},w=()=>{v(""),p(!0)};return _.jsx(yf,{children:_.jsxs("div",{style:{width:"100%",maxWidth:"1000px",margin:"0 auto",padding:"2rem",background:"var(--color-bg)",minHeight:"100%"},children:[_.jsx("header",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"2rem"}}),_.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[_.jsx("div",{style:{width:"72px",height:"72px",background:"var(--grad-secondary)",borderRadius:"50%",margin:"0 auto 1.5rem",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.5rem",boxShadow:"0 0 20px rgba(34, 211, 238, 0.4)"},children:""}),_.jsx("h1",{style:{fontSize:"var(--text-3xl)",fontWeight:800,marginBottom:"0.5rem",background:"var(--grad-main)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Punto de Control"}),_.jsx("p",{style:{color:"var(--color-text-soft)",fontSize:"var(--text-lg)"},children:"En qu trabajamos hoy?"})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem",marginBottom:"3rem"},children:[_.jsxs(Oi,{hoverable:!0,onClick:w,style:{display:"flex",flexDirection:"column",gap:"1rem",alignItems:"flex-start",textAlign:"left",padding:"2rem",border:"1px solid var(--color-primary)",background:"rgba(139, 92, 246, 0.05)",boxShadow:"var(--shadow-sm)"},children:[_.jsx("div",{style:{color:"var(--color-primary)",fontSize:"2rem"},children:""}),_.jsxs("div",{children:[_.jsx("span",{style:{display:"block",fontSize:"var(--text-xl)",fontWeight:700,color:"var(--color-text-main)",marginBottom:"0.5rem"},children:"Crear nuevo proyecto"}),_.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--color-text-soft)",lineHeight:1.5},children:"Inicia una nueva sesin de trabajo desde cero."})]})]}),_.jsxs(Oi,{style:{display:"flex",flexDirection:"column",gap:"1rem",opacity:.9,padding:"2rem",background:"var(--color-surface)",border:"1px solid var(--color-border)"},children:[_.jsx("div",{style:{color:"var(--color-success)",fontSize:"2rem"},children:""}),_.jsxs("div",{children:[_.jsx("span",{style:{display:"block",fontSize:"var(--text-xl)",fontWeight:700,color:"var(--color-text-main)",marginBottom:"0.5rem"},children:"Explorar recursos"}),_.jsx("span",{style:{fontSize:"var(--text-sm)",color:"var(--color-text-soft)",lineHeight:1.5},children:"Documentacin y guas (Prximamente)."})]})]})]}),_.jsxs("div",{children:[_.jsx("h3",{style:{fontSize:"var(--text-xs)",fontWeight:700,color:"var(--color-text-soft)",marginBottom:"1rem",textTransform:"uppercase",letterSpacing:"1.5px",paddingLeft:"0.5rem"},children:"Recientes"}),l&&_.jsx("p",{style:{color:"var(--color-text-soft)",paddingLeft:"0.5rem"},children:"Cargando..."}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[a.map(E=>_.jsx(Ra,{to:`/projects/${E.id}`,style:{textDecoration:"none"},children:_.jsxs(Oi,{hoverable:!0,style:{padding:"1.25rem 1.5rem",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:"1rem",border:"1px solid var(--color-border)",transition:"transform 0.2s, box-shadow 0.2s",background:"var(--color-surface)",boxShadow:"var(--shadow-sm)"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[_.jsx("div",{style:{width:"40px",height:"40px",background:"var(--color-surface-soft)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem"},children:""}),_.jsxs("div",{children:[_.jsx("div",{style:{fontWeight:600,fontSize:"var(--text-base)",color:"var(--color-text-main)",marginBottom:"0.2rem"},children:E.name}),E.description&&_.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--color-text-soft)"},children:E.description})]})]}),_.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--color-text-soft)",background:"var(--color-surface-soft)",padding:"4px 8px",borderRadius:"6px"},children:new Date(E.created_at).toLocaleDateString()})]})},E.id)),a.length===0&&!l&&_.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",background:"var(--color-surface-soft)",borderRadius:"1rem",border:"2px dashed var(--color-border)",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:[_.jsx("div",{style:{fontSize:"2rem"},children:""}),_.jsx("h3",{style:{margin:0,fontSize:"var(--text-lg)",color:"var(--color-text-main)"},children:"Tu espacio est limpio"}),_.jsx("p",{style:{color:"var(--color-text-soft)",margin:0},children:"An no tienes proyectos. Es hora de empezar algo nuevo!"}),_.jsx(xn,{onClick:w,variant:"primary",style:{marginTop:"1rem"},children:" Cre tu primer proyecto"})]})]})]}),_.jsx(t0,{isOpen:m,onClose:()=>p(!1),title:"Nuevo Proyecto",children:_.jsxs("form",{onSubmit:S,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[_.jsx(ja,{label:"Nombre del proyecto",placeholder:"Ej. Anlisis de datos",value:o,onChange:E=>{u(E.target.value),E.target.value.trim()&&v("")},error:y,autoFocus:!0}),_.jsx(ja,{label:"Descripcin (opcional)",placeholder:"Breve descripcin del objetivo",value:d,onChange:E=>h(E.target.value)}),_.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1rem"},children:[_.jsx(xn,{type:"button",variant:"ghost",onClick:()=>p(!1),children:"Cancelar"}),_.jsx(xn,{type:"submit",variant:"primary",style:{background:"var(--color-primary)",border:"none"},children:"Crear Proyecto"})]})]})})]})})}const W1="http://localhost:3000",Sy=W1.replace(/\/api\/?$/,"").replace(/\/$/,""),Z1=Jo(a=>({runs:[],loading:!1,fetchRuns:async n=>{a({loading:!0});try{const{data:{session:i}}=await Bt.auth.getSession(),l=i?.access_token,o=await Ai(`${Sy}/api/projects/${n}/runs`,{headers:l?{Authorization:`Bearer ${l}`}:{}});if(!o.ok){let d=`Error: ${o.status}`;try{const h=await o.json();d=h.error?.message||h.message||d}catch{}throw new Error(d)}const u=await o.json();a({runs:u,loading:!1})}catch(i){console.error("Failed to fetch runs",i),a({loading:!1})}},createRun:async(n,i)=>{try{const{data:{session:l}}=await Bt.auth.getSession(),o=l?.access_token,u=await Ai(`${Sy}/api/projects/${n}/runs`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:o?`Bearer ${o}`:""},body:JSON.stringify({input:i})});if(!u.ok){let h=`Error: ${u.status}`;try{const m=await u.json();h=m.error?.message||m.message||h}catch{}throw new Error(h)}const d=await u.json();a(h=>({runs:[d,...h.runs]}))}catch(l){throw console.error("Failed to create run",l),l}}}));function F1({role:a,content:n,timestamp:i}){const l=a==="user";return _.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:l?"flex-end":"flex-start",marginBottom:"1rem",maxWidth:"80%",alignSelf:l?"flex-end":"flex-start",width:"100%"},children:[_.jsx("div",{style:{backgroundColor:l?"var(--color-primary)":"var(--color-surface)",color:l?"#FFFFFF":"var(--color-text-main)",padding:"0.8rem 1.2rem",borderRadius:"1rem",borderBottomRightRadius:l?"4px":"1rem",borderBottomLeftRadius:l?"1rem":"4px",lineHeight:1.6,whiteSpace:"pre-wrap",wordBreak:"break-word",boxShadow:"var(--shadow-sm)",fontSize:"var(--text-base)",fontWeight:l?500:400},children:l?n:_.jsx("div",{children:n.split(/(?=^#{1,3}\s)/m).map((o,u)=>{const d=o.match(/^(#{1,3})\s+(.+)(\r?\n|$)/);if(d){const h=d[2].trim(),m=o.replace(d[0],"").trim();return _.jsxs("div",{style:{marginBottom:"1rem"},children:[_.jsx("div",{style:{fontWeight:700,fontSize:"1.05em",marginBottom:"0.5rem",color:"var(--color-primary)"},children:h}),_.jsx("div",{style:{whiteSpace:"pre-wrap"},children:m})]},u)}return _.jsx("div",{style:{whiteSpace:"pre-wrap"},children:o.trim()},u)})})}),i&&_.jsx("small",{style:{marginTop:"0.25rem",marginRight:l?"0.25rem":0,marginLeft:l?0:"0.25rem",opacity:.7,fontSize:"0.75rem",color:"var(--color-text-soft)"},children:i})]})}function eT({onSend:a,disabled:n,placeholder:i,suggestions:l}){const[o,u]=z.useState(""),d=()=>{!o.trim()||n||(a(o),u(""))},h=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),d(),m.target.style.height="auto")};return _.jsxs("div",{style:{padding:"1rem 1.5rem 1.5rem",borderTop:"1px solid var(--color-border)",backgroundColor:"var(--color-bg)",display:"flex",flexDirection:"column",gap:"0.75rem",position:"sticky",bottom:0,zIndex:10,transition:"background-color 0.2s"},children:[l&&l.length>0&&_.jsx("div",{style:{display:"flex",gap:"0.5rem",overflowX:"auto",paddingBottom:"0.5rem",scrollbarWidth:"none"},children:l.map((m,p)=>_.jsx("button",{onClick:()=>a(m),disabled:n,style:{fontSize:"var(--text-xs)",padding:"0.4rem 1rem",backgroundColor:"var(--color-surface)",color:"var(--color-text-soft)",borderRadius:"999px",border:"1px solid var(--color-border)",whiteSpace:"nowrap",cursor:n?"default":"pointer",transition:"all 0.2s"},onMouseEnter:y=>{n||(y.currentTarget.style.backgroundColor="var(--color-surface-soft)",y.currentTarget.style.borderColor="var(--color-primary)",y.currentTarget.style.color="var(--color-primary)")},onMouseLeave:y=>{n||(y.currentTarget.style.backgroundColor="var(--color-surface)",y.currentTarget.style.borderColor="var(--color-border)",y.currentTarget.style.color="var(--color-text-soft)")},children:m},p))}),_.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:"0.75rem",backgroundColor:"var(--color-surface)",padding:"0.75rem 1rem",borderRadius:"1.5rem",border:"1px solid var(--color-border)",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:m=>{m.currentTarget.style.borderColor="var(--color-primary)",m.currentTarget.style.boxShadow="0 0 0 2px rgba(139, 92, 246, 0.1)"},onBlur:m=>{m.currentTarget.style.borderColor="var(--color-border)",m.currentTarget.style.boxShadow="none"},children:[_.jsx("textarea",{value:o,onChange:m=>u(m.target.value),onKeyDown:h,placeholder:i||"Escribe un mensaje...",disabled:n,rows:1,style:{flex:1,resize:"none",maxHeight:"120px",minHeight:"24px",padding:"0.25rem 0",background:"transparent",border:"none",outline:"none",fontSize:"var(--text-base)",color:"var(--color-text-main)",fontFamily:"var(--font-sans)",lineHeight:1.5},onInput:m=>{const p=m.target;p.style.height="auto",p.style.height=`${Math.min(p.scrollHeight,120)}px`}}),_.jsx("button",{onClick:d,disabled:!o.trim()||n,style:{padding:"0.5rem",borderRadius:"50%",backgroundColor:o.trim()&&!n?"var(--color-primary)":"var(--color-surface-soft)",color:o.trim()&&!n?"white":"var(--color-text-soft)",display:"flex",alignItems:"center",justifyContent:"center",width:"44px",height:"44px",transition:"all 0.2s",cursor:o.trim()&&!n?"pointer":"default",opacity:n?.7:1},"aria-label":"Enviar",children:_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),_.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]}),_.jsx("small",{style:{textAlign:"center",opacity:.6,fontSize:"0.75rem",color:"var(--color-text-soft)"},children:"WADI puede cometer errores. Verifica la informacin importante."})]})}function tT({title:a,status:n,messages:i,onSendMessage:l,isThinking:o,suggestions:u}){const d=z.useRef(null);return z.useEffect(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[i,o]),_.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",maxWidth:"900px",margin:"0 auto"},children:[_.jsx("header",{style:{padding:"1rem",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"var(--color-surface)",zIndex:5},children:_.jsxs("div",{children:[_.jsx("h2",{style:{fontSize:"var(--text-lg)",color:"var(--color-text-main)"},children:a||"New Conversation"}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[_.jsx("span",{style:{width:8,height:8,borderRadius:"50%",backgroundColor:"var(--color-success)",boxShadow:"0 0 5px var(--color-success)"}}),_.jsx("small",{style:{color:"var(--color-text-soft)",fontSize:"var(--text-xs)"},children:n||"Online"}),o&&_.jsx("span",{style:{fontSize:"var(--text-xs)",color:"var(--color-primary)",fontStyle:"italic",animation:"pulse 1.5s infinite",marginLeft:"0.5rem"},children:"WADI est pensando..."})]})]})}),_.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"1.5rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[i.length===0&&_.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",gap:"1rem",opacity:.8},children:[_.jsx("div",{style:{fontSize:"4rem",background:"var(--grad-main)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",filter:"drop-shadow(0 0 10px rgba(139, 92, 246, 0.3))"},children:""}),_.jsx("h3",{style:{fontSize:"var(--text-2xl)",color:"var(--color-text-main)"},children:"Inici tu primera conversacin"}),_.jsx("p",{style:{color:"var(--color-text-soft)"},children:"Escrib tu pregunta, idea o problema abajo para empezar."})]}),i.map(h=>_.jsx(F1,{role:h.role,content:h.content,timestamp:h.timestamp},h.id)),o&&_.jsxs("div",{style:{padding:"1rem",display:"flex",alignItems:"center",gap:"0.5rem",opacity:.8,color:"var(--color-text-soft)",fontSize:"var(--text-sm)"},children:[_.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"var(--color-primary)",animation:"pulse 1s infinite"}}),_.jsx("span",{children:"Ordenando tus ideas..."})]}),_.jsx("div",{ref:d})]}),_.jsx(eT,{onSend:l,disabled:o,suggestions:u})]})}function nT(){const{id:a}=Ky(),{runs:n,fetchRuns:i,createRun:l,loading:o}=Z1();z.useEffect(()=>{a&&i(a)},[a,i]);const u=async h=>{!a||!h.trim()||await l(a,h)},d=z.useMemo(()=>{const h=[];return n.slice().reverse().forEach(p=>{h.push({id:`${p.id}-user`,role:"user",content:p.input,timestamp:new Date(p.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),p.output&&h.push({id:`${p.id}-ai`,role:"assistant",content:p.output,timestamp:new Date(p.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})}),h},[n]);return _.jsx(yf,{children:_.jsx(tT,{title:`Project ${a}`,status:o?"Processing...":"Ready",messages:d,onSendMessage:u,isThinking:o,suggestions:["Analyze this code","Explain the architecture","Suggest improvements","Write a test case"]})})}function rT({onSendMessage:a,isLoading:n,placeholder:i="En qu te ayudo?"}){const[l,o]=z.useState(()=>{try{if(typeof window<"u")return localStorage.getItem("wadi_chat_draft")||""}catch{}return""}),u=z.useRef(null);z.useEffect(()=>{const y=setTimeout(()=>{localStorage.setItem("wadi_chat_draft",l)},300);return()=>clearTimeout(y)},[l]);const d=async()=>{if(!l.trim()||n)return;const y=l.trim();y&&(o(""),localStorage.removeItem("wadi_chat_draft"),u.current&&(u.current.style.height="auto"),await a(y),setTimeout(()=>{u.current?.focus()},0))},h=y=>{y.preventDefault(),y.stopPropagation(),d()},m=y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),y.stopPropagation(),d())},p=y=>{const v=y.target;v.style.height="auto",v.style.height=`${Math.min(v.scrollHeight,200)}px`};return _.jsxs("form",{onSubmit:h,style:{display:"flex",gap:"0.5rem",maxWidth:"900px",margin:"0 auto",position:"relative",alignItems:"flex-end"},children:[_.jsx("div",{style:{flex:1,position:"relative"},children:_.jsx("textarea",{id:"chat-input",name:"chat-input",ref:u,value:l,onChange:y=>o(y.target.value),onKeyDown:m,onInput:p,placeholder:i,disabled:n,autoComplete:"off",rows:1,style:{width:"100%",padding:"1rem 1.25rem",borderRadius:"1.5rem",border:"2px solid var(--color-border)",backgroundColor:"var(--color-surface)",color:"var(--color-text-main)",resize:"none",minHeight:"50px",maxHeight:"200px",fontSize:"16px",outline:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.02)",transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:y=>{y.target.style.borderColor="var(--color-primary)",y.target.style.boxShadow="0 0 0 3px rgba(139, 92, 246, 0.1)"},onBlur:y=>{y.target.style.borderColor="var(--color-border)",y.target.style.boxShadow="none"},enterKeyHint:"send"})}),_.jsx(xn,{type:"submit",disabled:n||!l.trim(),"aria-label":"Enviar mensaje",style:{height:"50px",width:"50px",borderRadius:"50%",background:"var(--color-primary)",color:"#FFF",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,boxShadow:"0 4px 15px rgba(139, 92, 246, 0.3)",border:"2px solid #fff",fontSize:"1.2rem",transition:"transform 0.1s, opacity 0.2s",opacity:n||!l.trim()?.5:1,cursor:n||!l.trim()?"not-allowed":"pointer"},onMouseEnter:y=>{!n&&l.trim()&&(y.currentTarget.style.transform="scale(1.05)")},onMouseLeave:y=>y.currentTarget.style.transform="scale(1)",children:""})]})}const Ey=["Una idea?","Un problema?","Un objetivo?"];function xy(){const{conversationId:a}=Ky(),n=Kr(),{messages:i,isLoading:l,sendMessage:o,deleteConversation:u,loadConversations:d,resetChat:h,startNewConversation:m,loadConversation:p,conversationId:y,mode:v,explainLevel:S,setPreset:w,setExplainLevel:E}=gf();z.useEffect(()=>{d(),a?a!==y&&p(a):y&&h()},[a,p,h,y,d]);const A=z.useRef(null),C=z.useRef(null),[B,q]=z.useState(!0),H=z.useRef(0),[Q,Z]=z.useState(0);z.useEffect(()=>{const fe=setInterval(()=>{Z(ie=>(ie+1)%Ey.length)},3e3);return()=>clearInterval(fe)},[]);const ae=Ey[Q],O=()=>{if(!C.current)return;const{scrollTop:fe,scrollHeight:ie,clientHeight:He}=C.current,Be=ie-fe-He<100;q(Be)},ye=()=>{A.current?.scrollIntoView({behavior:"smooth"})};z.useLayoutEffect(()=>{const fe=i.length,ie=H.current;fe>ie&&(i[fe-1].role==="user"||B)&&ye(),H.current=fe},[i,B]);const F=async fe=>{const ie=await o(fe);!a&&ie&&n(`/chat/${ie}`,{replace:!0})};return _.jsx(yf,{children:_.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",maxWidth:"1000px",margin:"0 auto",position:"relative",backgroundColor:"var(--color-bg)"},children:[_.jsxs("header",{style:{padding:"1.5rem",borderBottom:"1px solid var(--color-border)",background:"rgba(17, 24, 39, 0.8)",backdropFilter:"blur(16px)",position:"sticky",top:0,zIndex:10},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[_.jsxs("div",{children:[_.jsx("h2",{style:{fontSize:"var(--text-xl)",fontWeight:700,background:"var(--grad-main)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",margin:0},children:v==="tutor"?"Modo Profe":"WADI"}),_.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--color-text-soft)",margin:0},children:v==="tutor"?"Paso a paso.":"Del caos al plan."})]}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[y&&_.jsx(xn,{variant:"ghost",size:"sm",onClick:async()=>{window.confirm("Seguro que quers borrar esta conversacin? No se puede deshacer.")&&(await u(y),alert("Conversacin eliminada."),n("/chat"))},title:"Eliminar conversacin",style:{color:"var(--color-text-soft)"},children:"Running "}),_.jsx(xn,{variant:"ghost",size:"sm",onClick:()=>{m(),n("/chat")},title:"Nueva conversacin",style:{color:"var(--color-primary)"},children:" Nuevo"})]})]}),_.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",flexWrap:"wrap"},children:[_.jsx("div",{className:"scroll-x-mobile",style:{display:"flex",gap:"0.5rem",padding:"0.25rem 0",maxWidth:"100%"},children:[{id:"reflexivo",label:"General",modeMatch:"normal"},{id:"tech",label:"Tech / Dev",modeMatch:"tech"},{id:"biz",label:"Negocios",modeMatch:"biz"},{id:"learning",label:"Tutor",modeMatch:"tutor"}].map(fe=>{const ie=v===fe.modeMatch;return _.jsx("button",{onClick:()=>w(fe.id),className:"tappable",style:{fontSize:"var(--text-sm)",padding:"0 16px",height:"44px",minWidth:"44px",borderRadius:"var(--radius-full)",border:ie?"1px solid var(--color-primary)":"1px solid var(--color-border)",background:ie?"var(--color-primary)":"var(--color-surface)",color:ie?"#FFF":"var(--color-text-soft)",fontWeight:ie?600:500,whiteSpace:"nowrap",transition:"all 0.2s ease",boxShadow:ie?"0 2px 8px rgba(124, 58, 237, 0.25)":"none"},children:fe.label},fe.id)})}),_.jsxs("div",{style:{position:"relative"},children:[_.jsxs("select",{value:S,onChange:fe=>E(fe.target.value),style:{fontSize:"var(--text-xs)",padding:"6px 12px 6px 30px",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-border)",backgroundColor:"var(--color-surface)",color:"var(--color-text-main)",cursor:"pointer",outline:"none",appearance:"none",minWidth:"140px",boxShadow:"var(--shadow-sm)"},children:[_.jsx("option",{value:"short",children:"Corto (Resumen)"}),_.jsx("option",{value:"normal",children:"Explicado (Normal)"}),_.jsx("option",{value:"detailed",children:"Detallado (Paso a paso)"})]}),_.jsx("span",{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",fontSize:"0.8rem",pointerEvents:"none"},children:""})]})]})]}),_.jsxs("div",{ref:C,onScroll:O,style:{flex:1,overflowY:"auto",padding:"2rem",display:"flex",flexDirection:"column",gap:"1.5rem"},children:[i.length===0&&_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100%",gap:"2rem",marginTop:"-2rem",textAlign:"center",padding:"5rem 1rem"},children:[_.jsx("h1",{style:{fontSize:"1.875rem",fontWeight:"bold",color:"var(--color-text-main)",margin:0},children:"WADI no charla. Ordena."}),_.jsx("p",{style:{marginTop:"1rem",color:"var(--color-text-soft)",maxWidth:"28rem",fontSize:"1rem",lineHeight:"1.5"},children:"Decime directamente qu quers resolver. Si no hay objetivo, no hay nada que pensar."})]}),i.map(fe=>{const ie=fe.role==="user";return _.jsx("div",{style:{display:"flex",justifyContent:ie?"flex-end":"flex-start"},children:_.jsx("div",{className:"chat-bubble",style:{maxWidth:"80%",padding:"1rem 1.25rem",borderRadius:"1.25rem",borderTopRightRadius:ie?"0.25rem":"1.25rem",borderTopLeftRadius:ie?"1.25rem":"0.25rem",background:ie?"var(--color-primary)":"var(--color-surface)",color:ie?"#FFF":"var(--color-text-main)",boxShadow:ie?"0 4px 12px rgba(139, 92, 246, 0.25)":"var(--shadow-sm)",lineHeight:"1.6",fontSize:"var(--text-base)",border:ie?"none":"1px solid var(--color-border)"},children:_.jsx("div",{style:{whiteSpace:"pre-wrap"},children:fe.content})})},fe.id)}),l&&_.jsx("div",{style:{display:"flex",justifyContent:"flex-start"},children:_.jsxs("div",{style:{padding:"0.75rem 1.5rem",background:"var(--color-surface-soft)",borderRadius:"2rem",fontSize:"var(--text-sm)",color:"var(--color-text-soft)",display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"var(--shadow-sm)"},children:[_.jsx("div",{style:{width:"8px",height:"8px",background:"var(--color-primary)",borderRadius:"50%",animation:"pulse 1s infinite"}}),"Ordenando tus ideas..."]})}),_.jsx("div",{ref:A})]}),_.jsxs("div",{style:{padding:"1rem",background:"rgba(17, 24, 39, 0.8)",backdropFilter:"blur(20px)",borderTop:"1px solid var(--color-border)",marginBottom:"env(keyboard-inset-height, 0px)"},children:[_.jsx(rT,{onSendMessage:F,isLoading:l,placeholder:ae}),_.jsx("div",{style:{textAlign:"center",marginTop:"0.5rem",fontSize:"0.75rem",color:"var(--color-text-soft)",display:"flex",flexDirection:"column",gap:"0.25rem"},children:_.jsx("span",{children:"WADI puede fallar. Usalo como copiloto."})})]})]})})}function aT(){const[a]=z.useState(!0),n=Kr();z.useEffect(()=>{localStorage.getItem("wadi_intro_seen")&&n("/chat")},[n]);const i=()=>{localStorage.setItem("wadi_intro_seen","true"),n("/chat")};return a?_.jsxs("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh",padding:"2.5rem 1.5rem",backgroundColor:"#000",color:"#fff",fontFamily:"monospace"},children:[_.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem"},children:"WADI no charla por charlar. WADI ordena mientras piensa."}),_.jsxs("div",{style:{flex:1,overflowY:"auto",fontSize:"0.875rem"},children:[_.jsx("p",{style:{marginBottom:"1rem"},children:" Esto no es una IA simptica. Tampoco es fra."}),_.jsx("p",{style:{marginBottom:"1rem"},children:"Vas a hablar con una herramienta que:"}),_.jsxs("ul",{style:{listStyleType:"disc",paddingLeft:"1.5rem",marginBottom:"1rem"},children:[_.jsx("li",{children:"Te devuelve estructura cuando ests en el aire."}),_.jsx("li",{children:"Te acompaa si tras algo real."}),_.jsx("li",{children:"No valida sin criterio."}),_.jsx("li",{children:"No te deja evadir decisiones."}),_.jsx("li",{children:"Piensa con vos, no por vos."})]}),_.jsx("p",{style:{marginTop:"1.5rem",fontWeight:"bold",marginBottom:"0.5rem"},children:"Qu frases pods esperar:"}),_.jsxs("ul",{style:{listStyleType:"disc",paddingLeft:"1.5rem",marginBottom:"1.5rem"},children:[_.jsx("li",{children:"Esto es mezcla. Hay dos lneas: A o B. Eleg."}),_.jsx("li",{children:"Podemos seguir con esto, pero est flojo."}),_.jsx("li",{children:"No hay foco ac. Quers seguir igual o cambiar?"})]}),_.jsx("p",{style:{marginBottom:"1rem"},children:"WADI va a sostener tu pensamiento, no tu zona de confort. Pero no te deja solo si tras algo vivo."}),_.jsx("p",{style:{marginTop:"1rem",color:"#FACC15",fontWeight:"600"},children:"Si segus, entrs en una conversacin lcida. Y no hay vuelta atrs."})]}),_.jsx("button",{onClick:i,style:{marginTop:"2rem",padding:"0.75rem 1rem",backgroundColor:"#fff",color:"#000",borderRadius:"0.5rem",fontWeight:"bold",fontSize:"0.875rem",cursor:"pointer",border:"none",width:"100%"},onMouseOver:l=>l.currentTarget.style.backgroundColor="#FDE047",onMouseOut:l=>l.currentTarget.style.backgroundColor="#fff",children:"Entiendo. Vamos a ordenar."})]}):null}function iT(){const a=Kr();return _.jsx("div",{style:{fontFamily:"'Inter', sans-serif",color:"#111827",backgroundColor:"#F5F7FB",minHeight:"100vh",padding:"4rem 2rem"},children:_.jsxs("main",{style:{maxWidth:"700px",margin:"0 auto",background:"#fff",padding:"2rem",borderRadius:"24px",boxShadow:"0 10px 40px rgba(0,0,0,0.05)"},children:[_.jsx("button",{onClick:()=>a("/"),style:{marginBottom:"2rem",background:"transparent",border:"none",color:"#7C6CFF",fontWeight:600,cursor:"pointer"},children:" Volver al inicio"}),_.jsx("h1",{style:{fontSize:"2rem",fontWeight:800,marginBottom:"2rem",color:"#111827"},children:"Trminos de uso de WADI"}),_.jsxs("section",{style:{marginBottom:"2rem"},children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem"},children:"1. Descripcin del servicio"}),_.jsx("p",{style:{lineHeight:1.6,color:"#4B5563"},children:"WADI es una herramienta de asistencia basada en inteligencia artificial diseada para potenciar la productividad personal y la gestin de proyectos, ofreciendo funcionalidades de chat, planificacin y tutora adaptativa."})]}),_.jsxs("section",{style:{marginBottom:"2rem"},children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem"},children:"2. Uso permitido"}),_.jsx("p",{style:{lineHeight:1.6,color:"#4B5563"},children:"El usuario se compromete a no utilizar el servicio para fines ilegales, dainos o que violen derechos de terceros, ni para generar contenido discriminatorio, violento o engaoso."})]}),_.jsxs("section",{style:{marginBottom:"2rem"},children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem"},children:"3. Contenido generado por IA"}),_.jsx("p",{style:{lineHeight:1.6,color:"#4B5563"},children:"El contenido generado por WADI es orientativo y automatizado. La inteligencia artificial puede cometer errores. El usuario es el nico responsable de verificar la exactitud y adecuacin de la informacin antes de tomar decisiones. No garantizamos la exactitud absoluta de las respuestas."})]}),_.jsxs("section",{style:{marginBottom:"2rem"},children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem"},children:"4. Propiedad Intelectual"}),_.jsx("p",{style:{lineHeight:1.6,color:"#4B5563"},children:"La marca WADI y el software de la plataforma son propiedad de sus desarrolladores. El usuario conserva la propiedad de los datos de entrada y el contenido generado para su uso en sus propios proyectos, en la medida en que la ley aplicable lo permita."})]}),_.jsxs("section",{style:{marginBottom:"2rem"},children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem"},children:"5. Cuentas y acceso"}),_.jsx("p",{style:{lineHeight:1.6,color:"#4B5563"},children:"El usuario es responsable de mantener la seguridad de sus credenciales. WADI no se hace responsable por accesos no autorizados derivados de negligencia del usuario. Nos reservamos el derecho de suspender cuentas que violen estos trminos."})]}),_.jsxs("section",{style:{marginBottom:"2rem"},children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem"},children:"6. Limitacin de responsabilidad"}),_.jsx("p",{style:{lineHeight:1.6,color:"#4B5563"},children:"En la mxima medida permitida por la ley, WADI y sus desarrolladores no sern responsables por daos directos, indirectos o consecuentes que surjan del uso o la imposibilidad de uso del servicio."})]}),_.jsxs("section",{style:{marginBottom:"2rem"},children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem"},children:"7. Contacto"}),_.jsxs("p",{style:{lineHeight:1.6,color:"#4B5563"},children:["Para cualquier consulta sobre estos trminos, puede contactarnos en:"," ",_.jsx("a",{href:"mailto:contacto@wadi.app",style:{color:"#7C6CFF",fontWeight:600},children:"contacto@wadi.app"})]})]}),_.jsxs("section",{children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem"},children:"8. Cambios en los trminos"}),_.jsx("p",{style:{lineHeight:1.6,color:"#4B5563"},children:"Nos reservamos el derecho de modificar estos trminos. Se notificarn los cambios actualizando la fecha al pie de esta pgina."}),_.jsx("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#6B7280"},children:"ltima actualizacin: Diciembre 2025"})]})]})})}function lT(){const a=Kr();return _.jsx("div",{style:{fontFamily:"'Inter', sans-serif",color:"#111827",backgroundColor:"#F5F7FB",minHeight:"100vh",padding:"4rem 2rem"},children:_.jsxs("main",{style:{maxWidth:"700px",margin:"0 auto",background:"#fff",padding:"2rem",borderRadius:"24px",boxShadow:"0 10px 40px rgba(0,0,0,0.05)"},children:[_.jsx("button",{onClick:()=>a("/"),style:{marginBottom:"2rem",background:"transparent",border:"none",color:"#7C6CFF",fontWeight:600,cursor:"pointer"},children:" Volver al inicio"}),_.jsx("h1",{style:{fontSize:"2rem",fontWeight:800,marginBottom:"2rem",color:"#111827"},children:"Poltica de Privacidad de WADI"}),_.jsxs("section",{style:{marginBottom:"2rem"},children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem"},children:"1. Datos que procesamos"}),_.jsx("p",{style:{lineHeight:1.6,color:"#4B5563"},children:"Procesamos el contenido de las conversaciones que mantienes con WADI para generar respuestas. Tambin recopilamos datos tcnicos bsicos necesarios para el funcionamiento del servicio, como direccin IP y metadatos de uso, nicamente con fines de seguridad y mejora del servicio."})]}),_.jsxs("section",{style:{marginBottom:"2rem"},children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem"},children:"2. Uso de la informacin"}),_.jsx("p",{style:{lineHeight:1.6,color:"#4B5563"},children:"Utilizamos la informacin para:"}),_.jsxs("ul",{style:{lineHeight:1.6,color:"#4B5563",listStyleType:"disc",paddingLeft:"1.5rem",marginTop:"0.5rem"},children:[_.jsx("li",{children:"Proveer y mantener el servicio operativo."}),_.jsx("li",{children:"Generar respuestas contextualizadas a tus consultas."}),_.jsx("li",{children:"Mejorar la calidad de nuestro modelo y herramientas."}),_.jsx("li",{children:"Garantizar la seguridad de la plataforma."})]})]}),_.jsxs("section",{style:{marginBottom:"2rem"},children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem"},children:"3. Comparticin de datos"}),_.jsx("p",{style:{lineHeight:1.6,color:"#4B5563"},children:"No vendemos tus datos personales. Compartimos informacin estrictamente necesaria con proveedores de infraestructura (como servicios de hosting y proveedores de modelos de lenguaje) que operan bajo acuerdos de confidencialidad. Tambin podemos divulgar informacin si as lo exige la ley."})]}),_.jsxs("section",{style:{marginBottom:"2rem"},children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem"},children:"4. Retencin y eliminacin"}),_.jsx("p",{style:{lineHeight:1.6,color:"#4B5563"},children:"Mantenemos los datos mientras tu cuenta est activa o sea necesario para prestar el servicio. Puedes solicitar la eliminacin de tu cuenta y datos asociados en cualquier momento contactndonos."})]}),_.jsxs("section",{style:{marginBottom:"2rem"},children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem"},children:"5. Seguridad"}),_.jsx("p",{style:{lineHeight:1.6,color:"#4B5563"},children:"Implementamos medidas de seguridad tcnicas y organizativas para proteger tus datos contra el acceso no autorizado, la prdida o la alteracin."})]}),_.jsxs("section",{style:{marginBottom:"2rem"},children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem"},children:"6. Derechos del usuario"}),_.jsxs("p",{style:{lineHeight:1.6,color:"#4B5563"},children:["Tienes derecho a acceder, corregir y eliminar tus datos personales. Para ejercer estos derechos, contctanos en:"," ",_.jsx("a",{href:"mailto:privacidad@wadi.app",style:{color:"#7C6CFF",fontWeight:600},children:"privacidad@wadi.app"})]})]}),_.jsxs("section",{style:{marginBottom:"2rem"},children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem"},children:"7. Uso con menores"}),_.jsx("p",{style:{lineHeight:1.6,color:"#4B5563"},children:"WADI no est dirigido a menores de 13 aos. No recopilamos intencionalmente informacin personal de nios menores de esta edad."})]}),_.jsxs("section",{children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"1rem"},children:"8. Cambios en la poltica"}),_.jsx("p",{style:{lineHeight:1.6,color:"#4B5563"},children:"Podemos actualizar esta poltica ocasionalmente. Notificaremos los cambios publicando la nueva poltica en esta pgina."}),_.jsx("p",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#6B7280"},children:"ltima actualizacin: Diciembre 2025"})]})]})})}const sT=SS([{path:"/",element:_.jsx(aT,{})},{path:"/terminos",element:_.jsx(iT,{})},{path:"/privacidad",element:_.jsx(lT,{})},{path:"/login",element:_.jsx(Dl,{children:_.jsx(G1,{})})},{path:"/projects",element:_.jsx(Dl,{children:_.jsx(X1,{})})},{path:"/projects/:id",element:_.jsx(Dl,{children:_.jsx(nT,{})})},{path:"/chat",element:_.jsx(Dl,{children:_.jsx(xy,{})})},{path:"/chat/:conversationId",element:_.jsx(Dl,{children:_.jsx(xy,{})})}]);vw.createRoot(document.getElementById("root")).render(_.jsx(z.StrictMode,{children:_.jsx(kS,{router:sT})}));
