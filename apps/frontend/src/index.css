Instrucción para Antigravity:

1. Habilitación de Edición Online (GitHub):

Configurá el archivo .devcontainer/devcontainer.json en la raíz del proyecto.

Propósito: Esto permitirá que, al entrar a GitHub, el usuario pueda abrir un "Codespace" (un VS Code en el navegador) con todas las extensiones y dependencias (pnpm, node) ya preinstaladas.

2. Conectividad Segura (Servidor):

Asegurá que el puerto 10000 esté correctamente mapeado en las variables de entorno para que el Shell de Render siempre tenga una terminal receptiva.

Implementá un log de auditoría más detallado en la consola del servidor para que, al ver los logs desde cualquier dispositivo, se entienda exactamente qué está procesando el "Cerebro".

3. Blindaje de Persistencia (Supabase):

Creá el script de migración para la tabla audit_logs que mencionamos.

Columnas: id (uuid), timestamp, error_type, severity (Critical/Warning), y scouter_triggered (boolean).

Esto permitirá monitorear el comportamiento de WADI directamente desde el panel de Supabase que el usuario ya tiene abierto.

4. Parche Visual Final (PC):

Reiterar el ajuste en apps/frontend/src/index.css: html, body { height: 100vh !important; width: 100vw !important; overflow: hidden !important; background: #0f111a; }

Asegurar que el Sidebar use sticky o fixed para que no se desplace al interactuar con el chat en pantallas grandes.@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html,
  body,
  #root {
    height: 100vh !important;
    width: 100vw !important;
    margin: 0;
    padding: 0;
    background-color: #0f111a;
    overflow: hidden !important;
  }

  body {
    @apply bg-wadi-neutral text-wadi-bg font-sans;
  }

  #root {
    @apply flex flex-col;
  }

  .dark body {
    @apply bg-wadi-bg text-wadi-text;
  }

  button {
    @apply transition duration-150 ease-in-out font-semibold;
  }

  button:hover {
    @apply bg-wadi-tension text-black;
  }
}

@layer components {
  .sidebar-drawer {
    @apply fixed left-0 top-0 z-50 h-full w-[280px] -translate-x-full transition-transform duration-300 lg:sticky lg:top-0 lg:translate-x-0 lg:border-r;
  }

  .sidebar-drawer.open {
    @apply translate-x-0 shadow-2xl lg:shadow-none;
  }

  .sidebar-overlay {
    @apply fixed inset-0 z-40 bg-black/50 backdrop-blur-sm lg:hidden;
  }

  .mobile-only {
    @apply flex lg:hidden;
  }
  /* New Bubble Styles */
  .bubble-base {
    @apply max-w-[85%] lg:max-w-[75%] py-3 px-5 rounded-2xl text-[0.95rem] leading-relaxed shadow-sm;
  }

  .bubble-wadi {
    @apply bubble-base bg-[var(--color-surface)] text-[var(--color-text-main)] border border-violet-500/20 shadow-[0_0_10px_rgba(124,58,237,0.1)];
    border-top-left-radius: 4px;
  }

  .bubble-user {
    @apply bubble-base bg-[var(--color-primary)] text-white ml-auto border-none;
    border-top-right-radius: 4px;
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
  }

  .animate-pulse-soft {
    animation: pulse-soft 2s infinite;
  }
}

@keyframes pulse-soft {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.02);
    opacity: 0.8;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Base Reset */
:root {
  --color-bg: #111827;
  --color-surface: #1f2937;
  --color-surface-soft: #374151;
  --color-text-main: #f9fafb;
  --color-text-soft: #9ca3af;
  --color-primary: #7c3aed;
  --color-border: #374151;
  --font-sans: "Inter", system-ui, -apple-system, sans-serif;
  --grad-main: linear-gradient(135deg, #f9fafb 0%, #9ca3af 100%);
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
  --shadow-y2k: 4px 4px 0px 0px rgba(0, 0, 0, 0.5);
}

body,
html {
  font-family: var(--font-sans);
  height: 100%; /* Fallback */
}

/* 100dvh for mobile browsers */
@supports (height: 100dvh) {
  body,
  html {
    height: 100dvh;
  }
}
